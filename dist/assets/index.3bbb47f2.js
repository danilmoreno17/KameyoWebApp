import{ba as Av,I as b,bb as Fd,bc as wv,$ as h,Z as p,bd as xv,D as I,ab as tt,be as N,b0 as ma,U as v,W as U,O as K,P as k,bf as Ii,a6 as R,a3 as M,N as ga,a1 as X,T as It,a9 as Oe,af as $t,X as z,ad as F,aF as Nd,bg as Wd,al as At,aC as Ca,am as Dv,a7 as C,Y as qi,aj as In,H as ht,a5 as A,aa as y,_ as lt,a0 as W,ay as ee,J as St,bh as Rv,C as L,a4 as be,bi as zd,aP as ba,bj as Kd,aS as Bv,aJ as Bt,bk as tl,as as ci,bl as Wi,bm as Ud,bn as $v,ae as st,aN as el,bo as il,ac as ot,G as De,aV as yu,bp as Lv,aK as Iu,aH as ge,aA as Tu,a$ as Ou,bq as Au,br as kv,a2 as rt,bs as jd,ai as nl,az as Ae,aE as Ee,K as ai,b4 as oo,bt as Pv,ar as Gd,bu as Nr,av as lo,bv as wu,Q as Mv,E as Vv,b5 as rl,a_ as Hv,aO as Wr,bw as uo,at as ss,aw as Fv,aq as Tn,bx as xu,by as Nv,aB as zr,M as Wv,bz as zv,bA as Kv,bB as Du,bC as os,aR as Uv,b7 as jv,an as Ru,b9 as al,b1 as O,bD as ie,bE as Gv,bF as qv,bG as cB}from"./vendor.7710df40.js";var qd=new Av,ne=function(t,e){var i={};"noBubble"in e&&(i.noBubble=e.noBubble),"bindType"in e&&(i.bindType=e.bindType),"delegateType"in e&&(i.delegateType=e.delegateType),b(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(n,r){!e[r]||(i[r]=function(){var a=[].slice.call(arguments);return a.unshift(this),e[r].apply(e,a)})}),Fd.fire(t,i)};ne.callbacks=Fd;var je="dxremove",ho="dxRemoveEvent";wv(function(t){t=[].slice.call(t);for(var e=0;e<t.length;e++){var i=h(t[e]);i.prop(ho)&&(i[0][ho]=null,p.triggerHandler(i,je))}});ne(je,{noBubble:!0,setup:function(t){h(t).prop(ho,!0)}});var ls="dxComponents",Xv="dxPrivateComponent",tr=new xv,Yv=0,Ea=function(t,e){if(I(e)){tr.set(t,e);return}if(!tr.has(t)){var i=Xv+Yv++;return tr.set(t,i),i}return tr.get(t)};function Xd(t,e,i){var n=tt(t.get(0)),r=Ea(e.constructor);n[r]=e,i&&p.one(t,je,function(){i.call(e)}),n[ls]||(n[ls]=[]),n[ls].push(r)}function Yd(t,e){var i=Ea(e);return tt(t.get(0),i)}var et=function(t,e,i){i?e[t]=i:i=e,Ea(i,t),qd.fire(t,i)},Qv=function(t,e){h.fn[t]=function(i){var n=typeof i=="string",r;if(n){var a=i,s=[].slice.call(arguments).slice(1);this.each(function(){var o=e.getInstance(this);if(!o)throw N.Error("E0009",t);var l=o[a],u=l.apply(o,s);r===void 0&&(r=u)})}else this.each(function(){var o=e.getInstance(this);o?o.option(i):new e(this,i)}),r=this;return r}};qd.add(Qv);var Zv=ma(),Jv=/(webkit)[ /]([\w.]+)/,tm=/(mozilla)(?:.*? rv:([\w.]+))/,Bu=t=>{t=t.toLowerCase();var e={},i=Jv.exec(t)||t.indexOf("compatible")<0&&tm.exec(t)||[],n=i[1],r=i[2];return n==="webkit"&&(e.webkit=!0,t.indexOf("chrome")>=0||t.indexOf("crios")>=0?(n="chrome",r=/(?:chrome|crios)\/(\d+\.\d+)/.exec(t),r=r&&r[1]):t.indexOf("fxios")>=0?(n="mozilla",r=/fxios\/(\d+\.\d+)/.exec(t),r=r&&r[1]):t.indexOf("safari")>=0&&/version|phantomjs/.test(t)?(n="safari",r=/(?:version|phantomjs)\/([0-9.]+)/.exec(t),r=r&&r[1]):(n="unknown",r=/applewebkit\/([0-9.]+)/.exec(t),r=r&&r[1])),n&&(e[n]=!0,e.version=r),e},di=v({_fromUA:Bu},Bu(Zv.userAgent));class Ft{constructor(e,i){i=i||{},this._action=e,this._context=i.context||U(),this._beforeExecute=i.beforeExecute,this._afterExecute=i.afterExecute,this._component=i.component,this._validatingTargetName=i.validatingTargetName;var n=this._excludeValidators={};if(i.excludeValidators)for(var r=0;r<i.excludeValidators.length;r++)n[i.excludeValidators[r]]=!0}execute(){var e={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},i=this._beforeExecute,n=this._afterExecute,r=e.args[0]||{};if(!!this._validateAction(e)&&(i?.call(this._context,e),!e.cancel)){var a=this._executeAction(e);if(!r.cancel)return n?.call(this._context,e),a}}_validateAction(e){var i=this._excludeValidators,{executors:n}=Ft;for(var r in n)if(!i[r]){var a,s=n[r];if((a=s.validate)===null||a===void 0||a.call(s,e),e.cancel)return!1}return!0}_executeAction(e){var i,{executors:n}=Ft;for(var r in n){var a,s=n[r];if((a=s.execute)===null||a===void 0||a.call(s,e),e.handled){i=e.result;break}}return i}static registerExecutor(e,i){if(K(e)){b(e,Ft.registerExecutor);return}Ft.executors[e]=i}static unregisterExecutor(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];b(i,function(){delete Ft.executors[this]})}}Ft.executors={};var $u=t=>e=>{if(!!e.args.length){var i=e.args[0],n=i[e.validatingTargetName]||i.element;n&&t(h(n))&&(e.cancel=!0)}};Ft.registerExecutor({disabled:{validate:$u(t=>t.is(".dx-state-disabled, .dx-state-disabled *"))},readOnly:{validate:$u(t=>t.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)"))},undefined:{execute:t=>{t.action||(t.result=void 0,t.handled=!0)}},func:{execute:t=>{k(t.action)&&(t.result=t.action.call(t.context,t.args[0]),t.handled=!0)}}});var us=[],em=Ii(()=>{var t=R.listen(R.getDocument(),"DOMContentLoaded",()=>{Qd.fire(),t()})}),Qd={add:t=>{var e=M();e&&R.getReadyState()!=="loading"?t():(us.push(t),e&&em())},fire:()=>{us.forEach(t=>t()),us=[]}},he=ga(Qd),On=function(){var t,e=X(),i=e.add,n=e.remove;if(!M())return e;var r=function(){var l=U();return{width:l.innerWidth,height:l.innerHeight}},a=function(){var l=r();if(!(l.width===t.width&&l.height===t.height)){var u;l.width===t.width&&(u="height"),l.height===t.height&&(u="width"),t=l,e.fire(u)}},s=Ii(function(){t=r()}),o;return e.add=function(){var l=i.apply(e,arguments);return s(),he.add(function(){!o&&e.has()&&(o=R.listen(U(),"resize",a))}),l},e.remove=function(){var l=n.apply(e,arguments);return!e.has()&&o&&(o(),o=void 0),l},e}(),im=function(t,e){return 1/t===1/e},nm=function(t,e){if(t=It(t,!0),e=It(e,!0),t&&e&&Oe(t)&&Oe(e))return e.is(t);var i=t!==t,n=e!==e;return i&&n?!0:t===0&&e===0?im(t,e):t===null||typeof t!="object"||R.isElementNode(t)?t===e:!1};class Ti{constructor(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._events={},this._owner=e,this._options=i}static create(e,i){return i?k(i)?i(e):i:new Ti(e)}hasEvent(e){var i=this._events[e];return i?i.has():!1}fireEvent(e,i){var n=this._events[e];return n&&n.fireWith(this._owner,i),this._owner}on(e,i){if(K(e))b(e,(a,s)=>{this.on(a,s)});else{var n=this._events[e];n||(n=X({syncStrategy:this._options.syncStrategy}),this._events[e]=n);var r=n.originalAdd||n.add;r.call(n,i)}}off(e,i){var n=this._events[e];n&&(k(i)?n.remove(i):n.empty())}dispose(){b(this._events,(e,i)=>{i.empty()})}}var rm=U(),am=function(){var t;try{t=rm.sessionStorage}catch{}return t},sm=he.add,Sa=X(),Zd=h(),fi=function(){var t;return function(e){if(!arguments.length)return t;var i=h(e);Zd=i;var n=!!i.length,r=fi();t=n?i:h("body"),Sa.fire(n?fi():h(),r)}}();sm(function(){fi(".dx-viewport")});function Jd(){return Zd}var om=ma(),tf=U(),lm={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},Lu={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},um={generic(t){var e=/windows phone/i.test(t)||t.match(/WPDesktop/),i=!e&&/Windows(.*)arm(.*)Tablet PC/i.test(t),n=!e&&!i&&/msapphost/i.test(t),r=/((intel|ppc) mac os x)/.test(t.toLowerCase());if(!!(e||i||n||r))return{deviceType:e?"phone":i?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:r}},ios(t){if(!!/ip(hone|od|ad)/i.test(t)){var e=/ip(hone|od)/i.test(t),i=t.match(/os (\d+)_(\d+)_?(\d+)?/i),n=i?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3]||0,10)]:[],r=tf.screen.height===480,a=r?"B":"A";return{deviceType:e?"phone":"tablet",platform:"ios",version:n,grade:a}}},android(t){if(!!/android|htc_|silk/i.test(t)){var e=/mobile/i.test(t),i=t.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),n=i?[parseInt(i[1],10),parseInt(i[2]||0,10),parseInt(i[3]||0,10)]:[],r=n.length>1&&(n[0]<4||n[0]===4&&n[1]<4),a=r?"B":"A";return{deviceType:e?"phone":"tablet",platform:"android",version:n,grade:a}}}};class hm{constructor(e){this._window=e?.window||tf,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new Ti(this),this.changed=X(),M()&&(he.add(this._recalculateOrientation.bind(this)),On.add(this._recalculateOrientation.bind(this)))}current(e){if(e){this._currentDevice=this._getDevice(e),this._forced=!0,this.changed.fire();return}if(!this._currentDevice){e=void 0;try{e=this._getDeviceOrNameFromWindowScope()}catch{e=this._getDeviceNameFromSessionStorage()}finally{e||(e=this._getDeviceNameFromSessionStorage()),e&&(this._forced=!0)}this._currentDevice=this._getDevice(e)}return this._currentDevice}real(e){return v({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(e){var i=[],n=this._realDevice;return e=e||this.current(),e.deviceType&&(i.push("dx-device-".concat(e.deviceType)),e.deviceType!=="desktop"&&i.push("dx-device-mobile")),i.push("dx-device-".concat(n.platform)),n.version&&n.version.length&&i.push("dx-device-".concat(n.platform,"-").concat(n.version[0])),this.isSimulator()&&i.push("dx-simulator"),$t().rtlEnabled&&i.push("dx-rtl"),i}attachCssClasses(e,i){this._deviceClasses=this._getCssClasses(i).join(" "),h(e).addClass(this._deviceClasses)}detachCssClasses(e){h(e).removeClass(this._deviceClasses)}isSimulator(){try{return this._isSimulator||M()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch{return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(e){if(e==="genericPhone"&&(e={deviceType:"phone",platform:"generic",generic:!0}),K(e))return this._fromConfig(e);var i;if(e){if(i=lm[e],!i)throw N.Error("E0005")}else i=om.userAgent;return this._fromUA(i)}_getDeviceOrNameFromWindowScope(){var e;return M()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(e=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),e}_getDeviceNameFromSessionStorage(){var e=am();if(!!e){var i=e.getItem("dx-force-device");try{return JSON.parse(i)}catch{return i}}}_fromConfig(e){var i=v({},Lu,this._currentDevice,e),n={phone:i.deviceType==="phone",tablet:i.deviceType==="tablet",android:i.platform==="android",ios:i.platform==="ios",generic:i.platform==="generic"};return v(i,n)}_fromUA(e){var i;return b(um,(n,r)=>(i=r(e),!i)),i?this._fromConfig(i):Lu}_changeOrientation(){var e=h(this._window),i=z(e)>F(e)?"portrait":"landscape";this._currentOrientation!==i&&(this._currentOrientation=i,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:i}]))}_recalculateOrientation(){var e=F(this._window);this._currentWidth!==e&&(this._currentWidth=e,this._changeOrientation())}on(e,i){return this._eventsStrategy.on(e,i),this}off(e,i){return this._eventsStrategy.off(e,i),this}}var B=new hm,ku=fi();ku&&B.attachCssClasses(ku);Sa.add((t,e)=>{B.detachCssClasses(e),B.attachCssClasses(t)});var hs={},ze=t=>{var e=B.current();return t.reduce((i,n)=>{var{device:r,options:a}=n,s=r||{},o=k(s)?s(e):dm(e,s);return o&&v(!0,i,a),i},{})},cm=(t,e)=>typeof t!="string"?t:{[t]:e},dm=(t,e)=>Nd(e)||Wd(t,[e]).length>0,Pu=t=>t.substr(t.lastIndexOf(".")+1),Mu=t=>t.substr(0,t.lastIndexOf(".")),fm=function(t,e){return hs[e]=hs[e]||At(e),hs[e](t,{functionsAsIs:!0})},ef=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t},cs={},ds={};class pm{constructor(e,i){this._options=e,this._optionsByReference=i,this._changingCallback,this._changedCallback,this._namePreparedCallbacks}_setByReference(e,i){v(!0,e,i);for(var n in this._optionsByReference)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}_setPreparedValue(e,i,n,r){var a=this.get(this._options,e,!1);if(!nm(a,i)){var s=Ca(e);!r&&this._changingCallback(e,a,i),ds[e]=ds[e]||Dv(e),ds[e](this._options,i,{functionsAsIs:!0,merge:I(n)?n:!this._optionsByReference[e],unwrapObservables:s.length>1&&!!this._optionsByReference[s[0]]}),!r&&this._changedCallback(e,i,a)}}_prepareRelevantNames(e,i,n,r){if(K(n))for(var a in n)this._prepareRelevantNames(e,"".concat(i,".").concat(a),n[a]);this._namePreparedCallbacks(e,i,n,r)}get(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._options,i=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return cs[i]=cs[i]||At(i),cs[i](e,{functionsAsIs:!0,unwrapObservables:n})}set(e,i,n,r){e=cm(e,i);for(var a in e)this._prepareRelevantNames(e,a,e[a],r);for(var s in e)this._setPreparedValue(s,e[s],n,r)}onRelevantNamesPrepared(e){this._namePreparedCallbacks=e}onChanging(e){this._changingCallback=e}onChanged(e){this._changedCallback=e}dispose(){this._changingCallback=C,this._changedCallback=C}}class _m{constructor(e,i,n,r){this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._default=i,this._deprecated=r,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new pm(e,n),this._optionManager.onRelevantNamesPrepared((a,s,o,l)=>this._setRelevantNames(a,s,o,l)),this._cachedOptions={},this._rules=[]}set _initial(e){this._initialOptions=e}get _initial(){if(!this._initialOptions){var e=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,e)}return this._initialOptions}_initDeprecatedNames(){for(var e in this._deprecated)this._deprecatedNames.push(e)}_getByRules(e){return e=Array.isArray(e)?this._rules.concat(e):this._rules,ze(e)}_notifyDeprecated(e){var i=this._deprecated[e];i&&this._deprecatedCallback(e,i)}_setRelevantNames(e,i,n,r){if(i){var a=this._normalizeName(i,r);a&&a!==i&&(this._setField(e,a,n),this._clearField(e,i))}}_setField(e,i,n){var r="",a=null;do r=r?".".concat(r):"",r=Pu(i)+r,i=Mu(i),a=i?this._optionManager.get(e,i,!1):e;while(!a);a[r]=n}_clearField(e,i){delete e[i];var n=Mu(i),r=n?this._optionManager.get(e,n,!1):e;r&&delete r[Pu(i)]}_normalizeName(e,i){if(this._deprecatedNames.length&&e){for(var n=0;n<this._deprecatedNames.length;n++)if(this._deprecatedNames[n]===e){var r=this._deprecated[e];if(r)return!i&&this._notifyDeprecated(e),r.alias||e}}return e}addRules(e){this._rules=e.concat(this._rules)}applyRules(e){var i=this._getByRules(e);this.silent(i)}dispose(){this._deprecatedCallback=C,this._startChangeCallback=C,this._endChangeCallback=C,this._optionManager.dispose()}onChanging(e){this._optionManager.onChanging(e)}onChanged(e){this._optionManager.onChanged(e)}onDeprecated(e){this._deprecatedCallback=e}onStartChange(e){this._startChangeCallback=e}onEndChange(e){this._endChangeCallback=e}isInitial(e){var i=this.silent(e),n=this.initial(e),r=k(i)&&k(n);return r?i.toString()===n.toString():qi(i,n)}initial(e){return fm(this._initial,e)}option(e,i){var n=arguments.length<2&&In(e)!=="object";if(n)return this._optionManager.get(void 0,this._normalizeName(e));this._startChangeCallback();try{this._optionManager.set(e,i)}finally{this._endChangeCallback()}}silent(e,i){var n=arguments.length<2&&In(e)!=="object";if(n)return this._optionManager.get(void 0,e,void 0,!0);this._optionManager.set(e,i,void 0,!0)}reset(e){if(e){var i=Ca(e),n=i.reduce((a,s)=>a?a[s]:this.initial(s),null),r=ht(n)?A({},n):n;this._optionManager.set(e,r,!1)}}getAliasesByName(e){return Object.keys(this._deprecated).filter(i=>e===this._deprecated[i].alias)}isDeprecated(e){return Object.prototype.hasOwnProperty.call(this._deprecated,e)}cache(e,i){var n=arguments.length<2;if(n)return this._cachedOptions[e];this._cachedOptions[e]=v(this._cachedOptions[e],i)}}class vm{constructor(){this._postponedOperations={}}add(e,i,n){if(e in this._postponedOperations)n&&this._postponedOperations[e].promises.push(n);else{var r=new y;this._postponedOperations[e]={fn:i,completePromise:r,promises:n?[n]:[]}}return this._postponedOperations[e].completePromise.promise()}callPostponedOperations(){for(var e in this._postponedOperations){var i=this._postponedOperations[e];I(i)&&(i.promises&&i.promises.length?lt(...i.promises).done(i.fn).then(i.completePromise.resolve):i.fn().done(i.completePromise.resolve))}this._postponedOperations={}}}var Vu=t=>t.charAt(2).toLowerCase()+t.substr(3),mm=t=>t.indexOf("_",0)===0,nf=W.inherit({_setDeprecatedOptions(){this._deprecatedOptions={}},_getDeprecatedOptions(){return this._deprecatedOptions},_getDefaultOptions:()=>({onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}),_defaultOptionsRules:()=>[],_setOptionsByDevice(t){this._options.applyRules(t)},_convertRulesToOptions:t=>ze(t),_isInitialOptionValue(t){return this._options.isInitial(t)},_setOptionsByReference(){this._optionsByReference={}},_getOptionsByReference(){return this._optionsByReference},ctor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{_optionChangedCallbacks:e,_disposingCallbacks:i}=t;this.NAME=Ea(this.constructor),this._eventsStrategy=Ti.create(this,t.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=e||X(),this._disposingCallbacks=i||X(),this.postponedOperations=new vm,this._createOptions(t)},_createOptions(t){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new _m(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((e,i,n)=>this._initialized&&this._optionChanging(e,i,n)),this._options.onDeprecated((e,i)=>this._logDeprecatedOptionWarning(e,i)),this._options.onChanged((e,i,n)=>this._notifyOptionChanged(e,i,n)),this._options.onStartChange(()=>this.beginUpdate()),this._options.onEndChange(()=>this.endUpdate()),this._options.addRules(this._defaultOptionsRules()),t&&t.onInitializing&&t.onInitializing.apply(this,[t]),this._setOptionsByDevice(t.defaultOptionsRules),this._initOptions(t)}finally{this.endUpdate()}},_initOptions(t){this.option(t)},_init(){this._createOptionChangedAction(),this.on("disposing",t=>{this._disposingCallbacks.fireWith(this,[t])})},_logDeprecatedOptionWarning(t,e){var i=e.message||"Use the '".concat(e.alias,"' option instead");N.log("W0001",this.NAME,t,e.since,i)},_logDeprecatedComponentWarning(t,e){N.log("W0000",this.NAME,t,"Use the '".concat(e,"' widget instead"))},_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged(t){switch(t.name){case"onDisposing":case"onInitialized":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0},_lockUpdate(){this._updateLockCount++},_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)},_isUpdateAllowed(){return this._updateLockCount===0},_isInitializingRequired(){return!this._initializing&&!this._initialized},isInitialized(){return this._initialized},_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()},_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}},instance(){return this},beginUpdate:function(){this._lockUpdate()},endUpdate:function(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()},_optionChanging:C,_notifyOptionChanged(t,e,i){if(this._initialized)for(var n=[t].concat(this._options.getAliasesByName(t)),r=0;r<n.length;r++){var a=n[r],s={name:Ca(a)[0],fullName:a,value:e,previousValue:i};mm(a)||(this._optionChangedCallbacks.fireWith(this,[v(this._defaultActionArgs(),s)]),this._optionChangedAction(v({},s))),!this._disposed&&this._cancelOptionChange!==a&&this._optionChanged(s)}},initialOption(t){return this._options.initial(t)},_defaultActionConfig(){return{context:this,component:this}},_defaultActionArgs(){return{component:this}},_createAction(t,e){var i;return n=>(I(n)||(n={}),K(n)||(n={actionValue:n}),i=i||new Ft(t,v(e,this._defaultActionConfig())),i.execute.call(i,v(n,this._defaultActionArgs())))},_createActionByOption(t,e){var i=this,n,r,a,s=function(){if(!r){if(e=e||{},typeof t!="string")throw N.Error("E0008");t.indexOf("on")===0&&(r=Vu(t)),a=i.option()[t]}if(!(!n&&!a&&!e.beforeExecute&&!e.afterExecute&&!i._eventsStrategy.hasEvent(r))){if(!n){var l=e.beforeExecute;e.beforeExecute=function(){for(var g=arguments.length,x=new Array(g),E=0;E<g;E++)x[E]=arguments[E];l&&l.apply(i,x),i._eventsStrategy.fireEvent(r,x[0].args)},n=i._createAction(a,e)}for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];if($t().wrapActionsBeforeExecute){var f=i.option("beforeActionExecute")||C,m=f(i,n,e)||n;return m.apply(i,c)}return n.apply(i,c)}};if($t().wrapActionsBeforeExecute)return s;var o=this.option("onActionCreated")||C;return o(this,s,e)||s},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this},hasActionSubscription:function(t){return!!this._options.silent(t)||this._eventsStrategy.hasEvent(Vu(t))},isOptionDeprecated(t){return this._options.isDeprecated(t)},_setOptionWithoutOptionChange(t,e){this._cancelOptionChange=t,this.option(t,e),this._cancelOptionChange=!1},_getOptionValue(t,e){var i=this.option(t);return k(i)?i.bind(e)():i},option(){return this._options.option(...arguments)},resetOption(t){this.beginUpdate(),this._options.reset(t),this.endUpdate()}}),sl=U(),Fn=()=>{var t=R.getActiveElement();if(t&&t!==R.getBody()){var e;(e=t.blur)===null||e===void 0||e.call(t)}},gm=()=>{var t=sl.getSelection();if(!!t&&t.type!=="Caret"){if(t.empty)t.empty();else if(t.removeAllRanges)try{t.removeAllRanges()}catch{}}},Cm=(t,e)=>{var i=h(t),n=h(e);if(i[0]===n[0])return i[0];for(var r=i.parents(),a=n.parents(),s=Math.min(r.length,a.length),o=-s;o<0;o++)if(r.get(o)===a.get(o))return r.get(o)},Oi=t=>{t=h(t);var e=t.length&&t.filter(function(){var i=h(this);return i.is("script[type]")&&i.attr("type").indexOf("script")<0});return e.length?e.eq(0).html():(t=h("<div>").append(t),t.html())},ya=t=>{var e=I(t)&&(t.nodeType||Oe(t))?h(t):h("<div>").html(t).contents();return e.length===1&&(e.is("script")?e=ya(e.html().trim()):e.is("table")&&(e=e.children("tbody").contents())),e},Hu=(t,e)=>{var i=t.originalEvent&&t.originalEvent.clipboardData||sl.clipboardData;if(!e)return i&&i.getData("Text");i&&i.setData("Text",e)},Fe=(t,e)=>e?(R.isTextNode(e)&&(e=e.parentNode),R.isDocument(t)?t.documentElement.contains(e):ee(t)?Fe(t.document,e):t.contains?t.contains(e):!!(e.compareDocumentPosition(t)&e.DOCUMENT_POSITION_CONTAINS)):!1,dB=(t,e,i)=>{var n=sl.getComputedStyle(h(t).get(0)),r=i&&i.includePaddings;return h("<div>").text(e).css({fontStyle:n.fontStyle,fontVariant:n.fontVariant,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFamily:n.fontFamily,letterSpacing:n.letterSpacing,border:n.border,paddingTop:r?n.paddingTop:"",paddingRight:r?n.paddingRight:"",paddingBottom:r?n.paddingBottom:"",paddingLeft:r?n.paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})},bm=(t,e)=>(e&&R.insertElement(t.parentNode,e,t),t),Em=(t,e)=>{if(!!(e&&e[0]))return e.is(t)?t:(b(e,(i,n)=>{bm(t[0],n)}),t.remove(),e)},ol=function(t){return function(e){for(var i=h(e||"body"),n=i.filter(".dx-visibility-change-handler").add(i.find(".dx-visibility-change-handler")),r=0;r<n.length;r++)p.triggerHandler(n[r],t)}},rf=ol("dxshown"),Sm=ol("dxhiding"),Pe=ol("dxresize"),ym=X({syncStrategy:!0});class Ai{render(e){e=e||{};var i=e.onRendered;delete e.onRendered;var n=this._renderCore(e);return this._ensureResultInContainer(n,e.container),ym.fire(n,e.container),i&&i(),n}_ensureResultInContainer(e,i){if(!!i){var n=h(i),r=Fe(n.get(0),e.get(0));if(n.append(e),!r){var a=R.getBody().contains(n.get(0));!a||rf(e)}}}_renderCore(){throw N.Error("E0001")}}class Kr extends Ai{constructor(e){super();this._render=e}_renderCore(e){return ya(this._render(e))}}class zi extends Ai{_renderCore(){return h()}}class Ia extends Ai{constructor(e){super();this.name=e}}var af={},wr;function Ge(t,e){af[t]=e}function Im(t){if(St(t)){if(wr=af[t],!wr)throw N.Error("E0020",t)}else wr=t}function Fu(){return wr}Ge("jquery-tmpl",{compile:t=>Oi(t),render:(t,e)=>jQuery.tmpl(t,e)});Ge("jsrender",{compile:t=>(jQuery||jsrender).templates(Oi(t)),render:(t,e)=>t.render(e)});Ge("mustache",{compile:t=>Oi(t),render:(t,e)=>Mustache.render(t,e)});Ge("hogan",{compile:t=>Hogan.compile(Oi(t)),render:(t,e)=>t.render(e)});Ge("underscore",{compile:t=>_.template(Oi(t)),render:(t,e)=>t(e)});Ge("handlebars",{compile:t=>Handlebars.compile(Oi(t)),render:(t,e)=>t(e)});Ge("doT",{compile:t=>doT.template(Oi(t)),render:(t,e)=>t(e)});Ge("default",{compile:t=>ya(t),render:(t,e,i)=>t.clone()});Im("default");class Tm extends Ai{constructor(e){super();this._element=e}_renderCore(e){var i=e.transclude;return!i&&!this._compiledTemplate&&(this._compiledTemplate=Fu().compile(this._element)),h("<div>").append(i?this._element:Fu().render(this._compiledTemplate,e.model,e.index)).contents()}source(){return h(this._element).clone()}}var sf=(t,e)=>{var i=h(t).contents().filter("[".concat("data-options",'*="').concat(e,'"]'));return[].slice.call(i).map(n=>{var r=h(n).attr("data-options")||"";return{element:n,options:$t().optionsParser(r)[e]}}).filter(n=>!!n.options)},Om=t=>{var e=Rv(t,n=>n.options.name);if(e[void 0])throw N.Error("E0023");var i={};return Object.keys(e).forEach(n=>{var r,a=(r=Wd(B.current(),e[n],s=>s.options)[0])===null||r===void 0?void 0:r.element;a&&(i[n]=a)}),i},of=t=>{var e=t.render.bind(t);return v({},t,{render(i){var n=e(i);return i&&i.onRendered&&i.onRendered(),n}})},Am=t=>{var e=[];return"model"in t&&e.push(t.model),"index"in t&&e.push(t.index),e.push(t.container),e},wm=t=>typeof t=="string"?ya(t):t,Nu=t=>Oe(t)&&t[0]||t,xm=t=>new Tm(t),Dm=(t,e,i,n)=>{var r=null;return(!n||n.indexOf(t)===-1)&&(r=e[t],r&&!(r instanceof Ai)&&!i&&(r=of(r))),r},Wu=(t,e,i,n,r,a)=>t==null?new zi:t instanceof Ia?a[t.name]:t instanceof Ai?t:k(t.render)&&!Oe(t)?n?t:of(t):t.nodeType||Oe(t)?e(h(t)):Dm(t,i,n,r)||a[t]||e(t),Rm=3,Bm="template",$m="dxTemplate",Lm="dx-template-wrapper",km=new Kr(t=>{var{model:e,parent:i}=t,n=e.widget;if(!n)return h();var r=h("<div>"),a=e.options||{};return i?i._createComponent(r,n,a):r[n](a),r});class zu{constructor(e,i){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=i||Bm,this._createElement=e||xm,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n.skipImmediate||i(e()),C},templates:{"dx-polymorph-widget":km},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(e){this._defaultTemplates=v({},this._defaultTemplates,e)}dispose(){this._tempTemplates.forEach(e=>{e.template.dispose&&e.template.dispose()}),this._tempTemplates=[]}extractTemplates(e){var i=this._extractTemplates(e),n=this._extractAnonymousTemplate(e);return{templates:i,anonymousTemplateMeta:n}}_extractTemplates(e){var i=sf(e,$m),n=Om(i);return i.forEach(r=>{var{element:a,options:{name:s}}=r;a===n[s]?h(a).addClass(Lm).detach():h(a).remove()}),Object.keys(n).map(r=>({name:r,template:this._createTemplate(n[r])}))}_extractAnonymousTemplate(e){var i=e.contents().detach(),n=i.filter((r,a)=>{var s=a.nodeType===Rm,o=h(a).text().trim().length<1;return!(s&&o)});return n.length>0?{template:this._createTemplate(i),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(e){var i=this._tempTemplates.filter(r=>r.source===Nu(e))[0];if(i)return i.template;var n=this._createTemplate(e);return this._tempTemplates.push({template:n,source:Nu(e)}),n}_createTemplate(e){return this._createElement(wm(e))}getTemplate(e,i,n,r){var{isAsyncTemplate:a,skipTemplates:s}=n;return k(e)?new Kr(o=>{var l=e.apply(r,Am(o));if(!I(l))return new zi;var u=!1,c=Wu(l,f=>f.nodeType||Oe(f)&&!h(f).is("script")?new Kr(()=>f):(u=!0,this._createTemplate(f)),i,a,s,this._defaultTemplates),d=c.render(o);return u&&c.dispose&&c.dispose(),d}):Wu(e,this._createTemplateIfNeeded,i,a,s,this._defaultTemplates)}}var Pm=function(t){return t&&t.get(0)};function H(t){return Pm(t)}var co=(t,e)=>{if(!e)throw N.Error("E0017");return Array.isArray(t)?t.map(i=>co(i,e)).join(" "):t.indexOf(" ")!==-1?co(t.split(/\s+/g),e):"".concat(t,".").concat(e)},lf=function(t,e){if(!Mm(t))return!1;var i=t.nodeName.toLowerCase(),n=!isNaN(e),r=t.disabled,a=/^(input|select|textarea|button|object|iframe)$/.test(i),s=i==="a",o=!0,l=t.isContentEditable;return a||l?o=!r:s?o=t.href||n:o=n,o};function Mm(t){var e=h(t);return e.is(":visible")&&e.css("visibility")!=="hidden"&&e.parents().css("visibility")!=="hidden"}var fo=function(t,e){return lf(e,h(e).attr("tabIndex"))},Ku=function(t,e){var i=h(e).attr("tabIndex");return(isNaN(i)||i>=0)&&lf(e,i)},Xi=function(t){var e=h(t).get(0);return R.getActiveElement()===e},Vm={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},Hm={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},Fm={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},Nm=t=>t,Wm=t=>Nm(p.Event(t,t),t),ll=t=>Nn(t)==="dx",zm=t=>Nn(t)==="mouse",uf=t=>Nn(t)==="touch",Nn=t=>{var{type:e}=t,i="other";return b(Fm,function(n){if(this.test(e))return i=n,!1}),i},hf=t=>Nn(t)==="pointer",pi=t=>zm(t)||(hf(t)||ll(t))&&t.pointerType==="mouse",xt=t=>t&&t.type==="dxmousewheel",Ta=t=>uf(t)||(hf(t)||ll(t))&&t.pointerType==="touch";var Q=t=>{var{pageX:e,pageY:i,timeStamp:n}=t;return{x:e,y:i,time:n}},Ve=(t,e)=>({x:e.x-t.x,y:e.y-t.y,time:e.time-t.time||1}),Km=t=>{var{originalEvent:e,pointers:i}=t;return uf(t)?(e.touches||[]).length:ll(t)?(i||[]).length:0},Um=!1;var jm=t=>{if(Um)return!0;var{target:e}=t,i=h(e),n=i.is(".dx-dropdownlist-popup-wrapper *, .dx-dropdownlist-popup-wrapper"),r=e?.isContentEditable||e?.hasAttribute("contenteditable"),a=i.is("input, textarea, select")||r;if(i.is(".dx-skip-gesture-event *, .dx-skip-gesture-event")&&!n)return!0;if(xt(t)){var s=i.is("textarea")&&i.hasClass("dx-texteditor-input");if(s||r)return!1;var o=i.is("input[type='number'], textarea, select")&&i.is(":focus");return o}if(pi(t))return a||t.which>1;if(Ta(t))return a&&Xi(i)};var ul=(t,e)=>{var i=Wm(t);return e&&v(i,e),i},wi=t=>{var{originalEvent:e,delegateTarget:i}=t,n=ul(e,t);return p.trigger(i||n.target,n),n},le=t=>{var{key:e,which:i}=t,n=e,r=!!e;if(e||i)return r&&(e=Vm[e.toLowerCase()]),(!r||!e&&i)&&(e=Hm[i]||String.fromCharCode(i)),e||n},Gm=t=>{var{key:e,which:i}=t;return e||String.fromCharCode(i)},T=co,_i=t=>{var{ctrlKey:e,metaKey:i}=t;return e||i},Uu="compositionstart",qm="compositionend",Xm="keydown",fs="KeyboardProcessor",cf=t=>({keyName:le(t),key:t.key,code:t.code,ctrl:t.ctrlKey,location:t.location,metaKey:t.metaKey,shift:t.shiftKey,alt:t.altKey,which:t.which,originalEvent:t}),hl=W.inherit({_keydown:T(Xm,fs),_compositionStart:T(Uu,fs),_compositionEnd:T(qm,fs),ctor:function(t){t=t||{},t.element&&(this._element=h(t.element)),t.focusTarget&&(this._focusTarget=t.focusTarget),this._handler=t.handler,this._element&&(this._processFunction=e=>{var i=this._focusTarget&&this._focusTarget!==e.target&&L(e.target,h(this._focusTarget))<0,n=this._isComposingJustFinished&&e.which===229||this._isComposing||i;this._isComposingJustFinished=!1,n||this.process(e)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),p.on(this._element,this._keydown,this._processFunction),p.on(this._element,this._compositionStart,this._toggleProcessingWithContext),p.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(p.off(this._element,this._keydown,this._processFunction),p.off(this._element,this._compositionStart,this._toggleProcessingWithContext),p.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process:function(t){this._handler(cf(t))},toggleProcessing:function(t){var{type:e}=t;this._isComposing=e===Uu,this._isComposingJustFinished=!this._isComposing}});hl.createKeyDownOptions=cf;function at(t,e){return e?T(t,e):t}function po(t,e){return typeof t=="function"?t(e):t.execute(e)}var ju={on:(t,e,i,n)=>{var{selector:r,showTimeout:a,hideTimeout:s,namespace:o}=n;p.on(t,at("dxactive",o),r,{timeout:a},l=>po(e,{event:l,element:l.currentTarget})),p.on(t,at("dxinactive",o),r,{timeout:s},l=>po(i,{event:l,element:l.currentTarget}))},off:(t,e)=>{var{namespace:i,selector:n}=e;p.off(t,at("dxactive",i),n),p.off(t,at("dxinactive",i),n)}},Ur={on:function(t,e){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};p.on(t,at("dxresize",i),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};p.off(t,at("dxresize",e))}},Gu={on:(t,e,i,n)=>{var{selector:r,namespace:a}=n;p.on(t,at("dxhoverend",a),r,s=>i(s)),p.on(t,at("dxhoverstart",a),r,s=>po(e,{element:s.target,event:s}))},off:(t,e)=>{var{selector:i,namespace:n}=e;p.off(t,at("dxhoverstart",n),i),p.off(t,at("dxhoverend",n),i)}},jr={on:(t,e,i,n)=>{var{namespace:r}=n;p.on(t,at("dxhiding",r),i),p.on(t,at("dxshown",r),e)},off:(t,e)=>{var{namespace:i}=e;p.off(t,at("dxhiding",i)),p.off(t,at("dxshown",i))}},xr={on:(t,e,i,n)=>{var{namespace:r}=n;p.on(t,at("focusin",r),e),p.on(t,at("focusout",r),i)},off:(t,e)=>{var{namespace:i}=e;p.off(t,at("focusin",i)),p.off(t,at("focusout",i))},trigger:t=>p.trigger(t,"focus")},qu={on:function(t,e){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};p.on(t,at("dxclick",i),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};p.off(t,at("dxclick",e))}},Xu={on:function(t,e){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};p.on(t,at("click",i),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};p.off(t,at("click",e))}},Ym=0,sn={},Qm=()=>"keyboardProcessorId".concat(Ym++),An={on:(t,e,i)=>{var n=Qm();return sn[n]=new hl({element:t,focusTarget:e,handler:i}),n},off:t=>{t&&sn[t]&&(sn[t].dispose(),delete sn[t])},_getProcessor:t=>sn[t]},{abstract:er}=nf,xi=nf.inherit({_getDefaultOptions(){return v(this.callBase(),{width:void 0,height:void 0,rtlEnabled:$t().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?zu.createDefaultOptions():{})},ctor(t,e){this._customClass=null,this._createElement(t),Xd(this._$element,this,this._dispose),this.callBase(e)},_createElement(t){this._$element=h(t)},_getSynchronizableOptionsForCreateComponent:()=>["rtlEnabled","disabled","templatesRenderAsynchronously"],_checkFunctionValueDeprecation:function(t){this.option("_ignoreFunctionValueDeprecation")||t.forEach(e=>{k(this.option(e))&&N.log("W0017",e)})},_visibilityChanged:er,_dimensionChanged:er,_init(){this.callBase(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()},_setOptionsByDevice(t){this.callBase([].concat(this.constructor._classCustomRules||[],t||[]))},_isInitialOptionValue(t){var e=this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),t);return!e&&this.callBase(t)},_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){var t=this._windowResizeCallBack=this._dimensionChanged.bind(this);On.add(t)}},_isDimensionChangeSupported(){return this._dimensionChanged!==er},_renderComponent(){this._initMarkup(),M()&&this._render()},_initMarkup(){var{rtlEnabled:t}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(t),this._renderVisibilityChange(),this._renderDimensions()},_render(){this._attachVisibilityChangeHandlers()},_renderElementAttributes(){var{elementAttr:t}=this.option()||{},e=v({},t),i=e.class;delete e.class,this.$element().attr(e).removeClass(this._customClass).addClass(i),this._customClass=i},_renderVisibilityChange(){if(this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()){var t=this.$element();t.addClass("dx-visibility-change-handler")}},_renderDimensions(){var t=this.$element(),e=t.get(0),i=this._getOptionValue("width",e),n=this._getOptionValue("height",e);this._isCssUpdateRequired(e,n,i)&&t.css({width:i===null?"":i,height:n===null?"":n})},_isCssUpdateRequired:(t,e,i)=>!!(I(i)||I(e)||t.style.width||t.style.height),_attachDimensionChangeHandlers(){var t=this.$element(),e="".concat(this.NAME,"VisibilityChange");Ur.off(t,{namespace:e}),Ur.on(t,()=>this._dimensionChanged(),{namespace:e})},_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){var t=this.$element(),e="".concat(this.NAME,"VisibilityChange");this._isHidden=!this._isVisible(),jr.off(t,{namespace:e}),jr.on(t,()=>this._checkVisibilityChanged("shown"),()=>this._checkVisibilityChanged("hiding"),{namespace:e})}},_isVisible(){var t=this.$element();return t.is(":visible")},_checkVisibilityChanged(t){var e=this._isVisible();e&&(t==="hiding"&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):t==="shown"&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)))},_isVisibilityChangeSupported(){return this._visibilityChanged!==er&&M()},_clean:C,_modelByElement(){var{modelByElement:t}=this.option(),e=this.$element();return t?t(e):void 0},_invalidate(){if(this._isUpdateAllowed())throw N.Error("E0007");this._requireRefresh=!0},_refresh(){this._clean(),this._renderComponent()},_dispose(){this._templateManager&&this._templateManager.dispose(),this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&On.remove(this._windowResizeCallBack)},_toggleRTLDirection(t){var e=this.$element();e.toggleClass("dx-rtl",t)},_createComponent(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=be(this._getSynchronizableOptionsForCreateComponent(),c=>!(c in i)),{integrationOptions:r}=this.option(),{nestedComponentOptions:a}=this.option();a=a||C;var s=v({integrationOptions:r},a(this));n.forEach(c=>s[c]=this.option(c)),this._extendConfig(i,s);var o=void 0;if(St(e)){var l=h(t)[e](i);o=l[e]("instance")}else t&&(o=e.getInstance(t),o?o.option(i):o=new e(t,i));if(o){var u=c=>{var{name:d,value:f}=c;L(d,n)>=0&&o.option(d,f)};this.on("optionChanged",u),o.on("disposing",()=>this.off("optionChanged",u))}return o},_extendConfig(t,e){b(e,(i,n)=>{!Object.prototype.hasOwnProperty.call(t,i)&&(t[i]=n)})},_defaultActionConfig(){var t=this.$element(),e=this._modelByElement(t);return v(this.callBase(),{context:e})},_defaultActionArgs(){var t=this.$element(),e=this._modelByElement(t),i=this.element();return v(this.callBase(),{element:i,model:e})},_optionChanged(t){switch(t.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(t)}},_removeAttributes(t){for(var e=t.attributes,i=e.length-1;i>=0;i--){var n=e[i];if(n){var{name:r}=n;(!r.indexOf("aria-")||r.indexOf("dx-")!==-1||r==="role"||r==="style"||r==="tabindex")&&t.removeAttribute(r)}}},_removeClasses(t){t.className=t.className.split(" ").filter(e=>e.lastIndexOf("dx-",0)!==0).join(" ")},_updateDOMComponent(t){t?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())},endUpdate(){var t=this._isInitializingRequired();this.callBase(),this._isUpdateAllowed()&&this._updateDOMComponent(t)},$element(){return this._$element},element(){var t=this.$element();return H(t)},dispose(){var t=this.$element().get(0);zd(t,!0),t.textContent="",this._removeAttributes(t),this._removeClasses(t)},resetOption(t){if(this.callBase(t),t==="width"||t==="height"){var e=this.initialOption(t);!I(e)&&this.$element().css(t,"")}},_getAnonymousTemplateName(){},_initTemplateManager(){if(!(this._templateManager||!this._useTemplates())){var{integrationOptions:t={}}=this.option(),{createTemplate:e}=t;this._templateManager=new zu(e,this._getAnonymousTemplateName()),this._initTemplates()}},_initTemplates(){var{templates:t,anonymousTemplateMeta:e}=this._templateManager.extractTemplates(this.$element()),i=this.option("integrationOptions.templates.".concat(e.name));t.forEach(n=>{var{name:r,template:a}=n;this._options.silent("integrationOptions.templates.".concat(r),a)}),e.name&&!i&&(this._options.silent("integrationOptions.templates.".concat(e.name),e.template),this._options.silent("_hasAnonymousTemplateContent",!0))},_getTemplateByOption(t){return this._getTemplate(this.option(t))},_getTemplate(t){var e=this.option("integrationOptions.templates"),i=this.option("templatesRenderAsynchronously"),n=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(t,e,{isAsyncTemplate:i,skipTemplates:n},this)},_saveTemplate(t,e){this._setOptionWithoutOptionChange("integrationOptions.templates."+t,this._templateManager._createTemplate(e))},_useTemplates:()=>!0});xi.getInstance=function(t){return Yd(h(t),this)};xi.defaultOptions=function(t){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(t)};function vi(t,e,i){function n(l){return typeof l=="string"?l.split("."):typeof l=="number"?[l]:l}t=n(t),e=n(e);var r=Math.max(t.length,e.length);isFinite(i)&&(r=Math.min(r,i));for(var a=0;a<r;a++){var s=parseInt(t[a]||0,10),o=parseInt(e[a]||0,10);if(s<o)return-1;if(s>o)return 1}return 0}var Mt=M()?U():{},Zm=1e3/60,_o=function(t){return setTimeout(t,Zm)},vo=function(t){clearTimeout(t)},df=Ii(function(){var t=Mt.requestAnimationFrame||Mt.webkitRequestAnimationFrame||Mt.mozRequestAnimationFrame||Mt.oRequestAnimationFrame||Mt.msRequestAnimationFrame,e=Mt.cancelAnimationFrame||Mt.webkitCancelAnimationFrame||Mt.mozCancelAnimationFrame||Mt.oCancelAnimationFrame||Mt.msCancelAnimationFrame;if(t&&e&&(_o=t,vo=e),t&&!e){var i={};_o=function(n){var r=t.call(Mt,function(){try{if(r in i)return;n.apply(this,arguments)}finally{delete i[r]}});return r},vo=function(n){i[n]=!0}}});function wn(){return df(),_o.apply(Mt,arguments)}function oe(){df(),vo.apply(Mt,arguments)}function ff(t){return t&&[t.target,t.delegateTarget,t.relatedTarget,t.currentTarget].filter(e=>!!e)}var Jm=(t,e)=>{p.one(ff(t),je,e)},tg=(t,e)=>{p.off(ff(t),je,e)},{maxTouchPoints:pf}=ma(),eg={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},cl=function(t){return!!ba(t)},ig=function(){var{platform:t,version:e,mac:i}=B.real(),n=e&&e[0]<4&&t==="android",r=!n&&L(t,["ios","android"])>-1||i;return r},ng=function(t){if(t==="text")return!0;var e=R.createElement("input");try{return e.setAttribute("type",t),e.value="wrongValue",!e.value}catch{return!1}},rg=function(t,e){return(t("ontouchstart")||!!e)&&!t("callPhantom")},ag=function(t){return t("PointerEvent")},_f=rg(Kd,pf),vf=ag(Kd),sg=!!pf,xn=_f||vf&&sg,mo=Ii(function(){return cl("transition")}),mf=Ii(function(){return eg[ba("transition")]}),gf=Ii(function(){return cl("animation")}),Dn=ig(),og=Object.freeze(Object.defineProperty({__proto__:null,touchEvents:_f,pointerEvents:vf,styleProp:ba,stylePropPrefix:Bv,supportProp:cl,inputType:ng,touch:xn,transition:mo,transitionEndEventName:mf,animation:gf,nativeScrolling:Dn},Symbol.toStringTag,{value:"Module"})),Yu="dxPointerEvents",dl=W.inherit({ctor:function(t,e){this._eventName=t,this._originalEvents=T(e,Yu),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var t=this._eventName;return t==="dxpointerenter"||t==="dxpointerleave"},_handler:function(t){var e=this._getDelegateTarget(t);return this._fireEvent({type:this._eventName,pointerType:t.pointerType||Nn(t),originalEvent:t,delegateTarget:e,timeStamp:di.mozilla?new Date().getTime():t.timeStamp})},_getDelegateTarget:function(t){var e;return this.noBubble&&(e=t.delegateTarget),e},_fireEvent:function(t){return wi(t)},_setSelector:function(t){this._selector=this.noBubble&&t?t.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(t,e){if(this._handlerCount<=0||this.noBubble){t=this.noBubble?t:R.getDocument(),this._setSelector(e);var i=this;p.on(t,this._originalEvents,this._getSelector(),function(n){i._handler(n)})}this.noBubble||this._handlerCount++},remove:function(t){this._setSelector(t),this.noBubble||this._handlerCount--},teardown:function(t){this._handlerCount&&!this.noBubble||(t=this.noBubble?t:R.getDocument(),this._originalEvents!=="."+Yu&&p.off(t,this._originalEvents,this._getSelector()))},dispose:function(t){t=this.noBubble?t:R.getDocument(),p.off(t,this._originalEvents)}}),lg={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},Cf=function(t){var e=[];return b(t.touches,function(i,n){e.push(v({pointerId:n.identifier},n))}),{pointers:e,pointerId:t.changedTouches[0].identifier}},ug=function(t){return B.real().platform==="ios"&&(t==="dxpointerdown"||t==="dxpointerup")},Oa=dl.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(t){if(ug(this._eventName)){var e=t.changedTouches[0];if(this._pointerId===e.identifier&&this._pointerId!==0)return;this._pointerId=e.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(t){return this.callBase(v(Cf(t.originalEvent),t))}});Oa.map=lg;Oa.normalize=Cf;var ir=function(t,e){he.add(function(){t.split(" ").forEach(function(i){R.listen(R.getDocument(),i,e,!0)})})},hg=function(t,e,i){i=i||function(){};var n=[],r=function(s){var o=-1;return b(n,function(l,u){return e(s,u)?(o=l,!1):!0}),o},a=function(s){var o=r(s);o>-1&&n.splice(o,1)};ir(t.dxpointerdown,function(s){r(s)===-1&&(i(s),n.push(s))}),ir(t.dxpointermove,function(s){n[r(s)]=s}),ir(t.dxpointerup,a),ir(t.dxpointercancel,a),this.pointers=function(){return n},this.reset=function(){n=[]}},bf={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},Ef=function(t){return t.pointerId=1,{pointers:fl.pointers(),pointerId:1}},fl,Qu=!1,Sf=function(){Qu||(fl=new hg(bf,function(){return!0}),Qu=!0)},qe=dl.inherit({ctor:function(){this.callBase.apply(this,arguments),Sf()},_fireEvent:function(t){return this.callBase(v(Ef(t.originalEvent),t))}});qe.map=bf;qe.normalize=Ef;qe.activate=Sf;qe.resetObserver=function(){fl.reset()};var cg={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},Zu=!1,dg=function(){Zu||(qe.activate(),Zu=!0)},pl=dl.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),dg()},_handler:function(t){var e=pi(t);if(e||(this._skipNextEvents=!0),!(e&&this._mouseLocked)){if(e&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);var i=this;this._unlockMouseTimer=setTimeout(function(){i._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT);return}return this.callBase(t)}},_fireEvent:function(t){var e=pi(t.originalEvent)?qe.normalize:Oa.normalize;return this.callBase(v(e(t.originalEvent),t))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});pl.map=cg;pl.resetObserver=qe.resetObserver;var fg=(t,e)=>{var{tablet:i,phone:n}=e;return t.touch&&!(i||n)?pl:t.touch?Oa:qe},Ju=fg(og,B.real());b(Ju.map,(t,e)=>{ne(t,new Ju(t,e))});var Et={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"},Aa=W.inherit({ctor:function(t){this._$element=h(t),this._cancelCallback=X(),this._acceptCallback=X()},getElement:function(){return this._$element},validate:function(t){return!xt(t)},validatePointers:function(t){return Km(t)===1},allowInterruptionByMouseWheel:function(){return!0},configure:function(t){v(this,t)},addCancelCallback:function(t){this._cancelCallback.add(t)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(t){this._cancelCallback.fire(this,t)},addAcceptCallback:function(t){this._acceptCallback.add(t)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(t){this._acceptCallback.fire(this,t)},_requestAccept:function(t){this._acceptRequestEvent=t},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:C,move:C,end:C,cancel:C,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(t,e,i){var n=v({type:t,originalEvent:e,target:this._getEmitterTarget(e),delegateTarget:this.getElement().get(0)},i);return e=wi(n),e.cancel&&this._cancel(e),e},_getEmitterTarget:function(t){return(this.delegateSelector?h(t.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:C}),wa="dxmousewheel",th="dxWheel",pg="wheel",eh=0,_g=30,go={setup:function(t){var e=h(t);p.on(e,T(pg,th),go._wheelHandler.bind(go))},teardown:function(t){p.off(t,".".concat(th))},_wheelHandler:function(t){var{deltaMode:e,deltaY:i,deltaX:n,deltaZ:r}=t.originalEvent;wi({type:wa,originalEvent:t,delta:this._normalizeDelta(i,e),deltaX:n,deltaY:i,deltaZ:r,deltaMode:e,pointerType:"mouse"}),t.stopPropagation()},_normalizeDelta(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eh;return e===eh?-t:-_g*t}};ne(wa,go);var nr="dxEventManager",vn="dxEmitter",vg=W.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){he.add(function(){var t=R.getDocument();p.subscribeGlobal(t,T(Et.down,nr),this._pointerDownHandler.bind(this)),p.subscribeGlobal(t,T(Et.move,nr),this._pointerMoveHandler.bind(this)),p.subscribeGlobal(t,T([Et.up,Et.cancel].join(" "),nr),this._pointerUpHandler.bind(this)),p.subscribeGlobal(t,T(wa,nr),this._mouseWheelHandler.bind(this))}.bind(this))},_eachEmitter:function(t){for(var e=this._activeEmitters||[],i=0;e.length>i;){var n=e[i];if(t(n)===!1)break;e[i]===n&&i++}},_applyToEmitters:function(t,e){this._eachEmitter(function(i){i[t].call(i,e)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(t){this._proxiedCancelHandler(t)},_pointerDownHandler:function(t){pi(t)&&t.which>1||this._updateEmitters(t)},_updateEmitters:function(t){!this._isSetChanged(t)||(this._cleanEmitters(t),this._fetchEmitters(t))},_isSetChanged:function(t){var e=this._closestEmitter(t),i=this._emittersSet||[],n=e.length!==i.length;return b(e,function(r,a){return n=n||i[r]!==a,!n}),this._emittersSet=e,n},_closestEmitter:function(t){var e=this,i=[],n=h(t.target);function r(s,o){!!o&&o.validatePointers(t)&&o.validate(t)&&(o.addCancelCallback(e._proxiedCancelHandler),o.addAcceptCallback(e._proxiedAcceptHandler),i.push(o))}for(;n.length;){var a=tt(n.get(0),vn)||[];b(a,r),n=n.parent()}return i},_acceptHandler:function(t,e){var i=this;this._eachEmitter(function(n){n!==t&&i._cancelEmitter(n,e)})},_cancelHandler:function(t,e){this._cancelEmitter(t,e)},_cancelEmitter:function(t,e){var i=this._activeEmitters;e?t.cancel(e):t.reset(),t.removeCancelCallback(),t.removeAcceptCallback();var n=L(t,i);n>-1&&i.splice(n,1)},_cleanEmitters:function(t){this._applyToEmitters("end",t),this.reset(t)},_fetchEmitters:function(t){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",t)},_pointerMoveHandler:function(t){this._applyToEmitters("move",t)},_pointerUpHandler:function(t){this._updateEmitters(t)},_mouseWheelHandler:function(t){!this._allowInterruptionByMouseWheel()||(t.pointers=[null],this._pointerDownHandler(t),this._adjustWheelEvent(t),this._pointerMoveHandler(t),t.pointers=[],this._pointerUpHandler(t))},_allowInterruptionByMouseWheel:function(){var t=!0;return this._eachEmitter(function(e){return t=e.allowInterruptionByMouseWheel()&&t,t}),t},_adjustWheelEvent:function(t){var e=null;if(this._eachEmitter(function(a){if(!!a.gesture){var s=a.getDirection(t);if(s!=="horizontal"&&!t.shiftKey||s!=="vertical"&&t.shiftKey)return e=a,!1}}),!!e){var i=e.getDirection(t),n=i==="both"&&!t.shiftKey||i==="vertical",r=n?"pageY":"pageX";t[r]+=t.delta}},isActive:function(t){var e=!1;return this._eachEmitter(function(i){e=e||i.getElement().is(t)}),e}}),ih=new vg,ps="dxEmitterSubscription",en=function(t){var e=t.emitter,i=t.events[0],n=t.events;b(n,function(r,a){ne(a,{noBubble:!t.bubble,setup:function(s){var o=tt(s,ps)||{},l=tt(s,vn)||{},u=l[i]||new e(s);o[a]=!0,l[i]=u,tt(s,vn,l),tt(s,ps,o)},add:function(s,o){var l=tt(s,vn),u=l[i];u.configure(v({delegateSelector:o.selector},o.data),o.type)},teardown:function(s){var o=tt(s,ps),l=tt(s,vn),u=l[i];delete o[a];var c=!0;b(n,function(d,f){return c=c&&!o[f],c}),c&&(ih.isActive(s)&&ih.resetEmitter(u),u&&u.dispose(),delete l[i])}})})},Ut="dxclick",nh=10,rh=Math.abs,yf=function(t){return h(t).is("input, textarea, select, button ,:focus, :focus *")},ah={requestAnimationFrame:wn,cancelAnimationFrame:oe},Co=Aa.inherit({ctor:function(t){this.callBase(t),this._makeElementClickable(h(t))},_makeElementClickable:function(t){t.attr("onclick")||t.attr("onclick","void(0)")},start:function(t){this._blurPrevented=t.isDefaultPrevented(),this._startTarget=t.target,this._startEventData=Q(t)},end:function(t){if(this._eventOutOfElement(t,this.getElement().get(0))||t.type===Et.cancel){this._cancel(t);return}!yf(t.target)&&!this._blurPrevented&&Fn(),this._accept(t),this._clickAnimationFrame=ah.requestAnimationFrame(function(){this._fireClickEvent(t)}.bind(this))},_eventOutOfElement:function(t,e){var i=t.target,n=!Fe(e,i)&&e!==i,r=Ve(Q(t),this._startEventData),a=rh(r.x)>nh||rh(r.y)>nh;return n||a},_fireClickEvent:function(t){this._fireEvent(Ut,t,{target:Cm(this._startTarget,t.target)})},dispose:function(){ah.cancelAnimationFrame(this._clickAnimationFrame)}}),on=B.real(),mg=on.generic||on.ios&&vi(on.version,[9,3])>=0||on.android&&vi(on.version,[5])>=0;(function(){var t=function(a){return mg||h(a).closest(".dx-native-click").length},e=null,i=null;function n(){i=null}var r=function(a){var s=a.originalEvent,o=i===s||s&&s.DXCLICK_FIRED,l=!a.which||a.which===1;l&&!e&&t(a.target)&&!o&&(s&&(s.DXCLICK_FIRED=!0),tg(i,n),i=s,Jm(i,n),wi({type:Ut,originalEvent:a}))};Co=Co.inherit({_makeElementClickable:function(a){t(a)||this.callBase(a),p.on(a,"click",r)},configure:function(a){this.callBase(a),a.useNative&&this.getElement().addClass("dx-native-click")},start:function(a){e=null,t(a.target)||this.callBase(a)},end:function(a){t(a.target)||this.callBase(a)},cancel:function(){e=!0},dispose:function(){this.callBase(),p.off(this.getElement(),"click",r)}})})();(function(){var t=B.real().generic;if(!t){var e=null,i=!1,n=R.getDocument();p.subscribeGlobal(n,T(Et.down,"NATIVE_CLICK_FIXER"),function(r){e=r.target,i=r.isDefaultPrevented()}),p.subscribeGlobal(n,T("click","NATIVE_CLICK_FIXER"),function(r){var a=h(r.target);!i&&e&&!a.is(e)&&!h(e).is("label")&&yf(a)&&Fn(),e=null,i=!1})}})();en({emitter:Co,bubble:!0,events:[Ut]});var bo="dxactive",Eo="dxinactive",gg=30,Cg=400,rr=W.inherit({ctor:function(t,e){this._timeout=t,this._fire=e},start:function(){var t=this;this._schedule(function(){t.force()})},_schedule:function(t){this.stop(),this._timer=setTimeout(t,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),qt,_l=Aa.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new rr(0,C),this._inactive=new rr(0,C)},configure:function(t,e){switch(e){case bo:t.activeTimeout=t.timeout;break;case Eo:t.inactiveTimeout=t.timeout}this.callBase(t)},start:function(t){if(qt){var e=Fe(this.getElement().get(0),qt.getElement().get(0)),i=!qt._active.fired();if(e&&i){this._cancel();return}qt._inactive.force()}qt=this,this._initEvents(t),this._active.start()},_initEvents:function(t){var e=this,i=this._getEmitterTarget(t),n=pi(t),r=B.isSimulator(),a=r||!n,s=Bt(this.activeTimeout,gg),o=Bt(this.inactiveTimeout,Cg);this._active=new rr(a?s:0,function(){e._fireEvent(bo,t,{target:i})}),this._inactive=new rr(a?o:0,function(){e._fireEvent(Eo,t,{target:i}),qt=null})},cancel:function(t){this.end(t)},end:function(t){var e=t.type!==Et.up;e?this._active.stop():this._active.force(),this._inactive.start(),e&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),qt===this&&(qt=null),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),qt=null,this._cancel(),this._inactive.force.bind(this._inactive)}});_l.lock=function(t){var e=qt?qt.lockInactive():C;t.done(e)};en({emitter:_l,events:[bo,Eo]});var fB=_l.lock,If="dxHoverStart",vl="dxhoverstart",bg=T(Et.enter,If),Tf="dxHoverEnd",ml="dxhoverend",Eg=T(Et.leave,Tf),Of=W.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(t){tt(t,this._handlerArrayKeyPath,{})},add:function(t,e){var i=this,n=function(r){i._handler(r)};p.on(t,this._originalEventName,e.selector,n),tt(t,this._handlerArrayKeyPath)[e.guid]=n},_handler:function(t){Ta(t)||B.isSimulator()||wi({type:this._eventName,originalEvent:t,delegateTarget:t.delegateTarget})},remove:function(t,e){var i=tt(t,this._handlerArrayKeyPath)[e.guid];p.off(t,this._originalEventName,e.selector,i)},teardown:function(t){tl(t,this._handlerArrayKeyPath)}}),Sg=Of.inherit({ctor:function(){this._eventNamespace=If,this._eventName=vl,this._originalEventName=bg,this.callBase()},_handler:function(t){var e=t.pointers||[];e.length||this.callBase(t)}}),yg=Of.inherit({ctor:function(){this._eventNamespace=Tf,this._eventName=ml,this._originalEventName=Eg,this.callBase()}});ne(vl,new Sg);ne(ml,new yg);function sh(t,e,i){t=t==="role"||t==="id"?t:"aria-".concat(t),e=I(e)?e.toString():null,i.attr(t,e)}var Re=xi.inherit({_feedbackHideTimeout:400,_feedbackShowTimeout:30,_supportedKeys:()=>({}),_getDefaultOptions(){return v(this.callBase(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=B.real(),e=t.platform,i=t.version;return e==="ios"&&vi(i,"13.3")<=0||e==="android"&&vi(i,"4.4.4")<=0},options:{useResizeObserver:!1}}])},_init(){this.callBase(),this._initContentReadyAction()},_innerWidgetOptionChanged:function(t,e){var i=Re.getOptionsFromContainer(e);t&&t.option(i),this._options.cache(e.name,i)},_bindInnerWidgetOptions(t,e){var i=()=>this._options.silent(e,v({},t.option()));i(),t.on("optionChanged",i)},_getAriaTarget(){return this._focusTarget()},_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup(){var{disabled:t,visible:e}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(t),this._toggleVisibility(e),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()},_renderHint(){var{hint:t}=this.option();this.$element().attr("title",t||null)},_renderContent(){ci(()=>this._disposed?void 0:this._renderContentImpl()).done(()=>this._disposed?void 0:this._fireContentReadyAction())},_renderContentImpl:C,_fireContentReadyAction:Wi(function(){return this._contentReadyAction()}),_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),this.callBase()},_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility(t){this.$element().toggleClass("dx-state-invisible",!t),this.setAria("hidden",!t||void 0)},_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey(){var t=this._focusTarget(),{accessKey:e}=this.option();t.attr("accesskey",e)},_isFocusable(){var{focusStateEnabled:t,disabled:e}=this.option();return t&&!e},_eventBindingTarget(){return this.$element()},_focusTarget(){return this._getActiveElement()},_getActiveElement(){var t=this._eventBindingTarget();return this._activeStateUnit?t.find(this._activeStateUnit).not(".dx-state-disabled"):t},_renderFocusTarget(){var{tabIndex:t}=this.option();this._focusTarget().attr("tabIndex",t)},_keyboardEventBindingTarget(){return this._eventBindingTarget()},_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget(){return this._focusTarget()},_focusInHandler(t){t.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(t,!0),excludeValidators:["readOnly"]})({event:t})},_focusOutHandler(t){t.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(t,!1),excludeValidators:["readOnly","disabled"]})({event:t})},_updateFocusState(t,e){var{target:i}=t;L(i,this._focusTarget())!==-1&&this._toggleFocusClass(e,h(i))},_toggleFocusClass(t,e){var i=e&&e.length?e:this._focusTarget();i.toggleClass("dx-state-focused",t)},_hasFocusClass(t){var e=h(t||this._focusTarget());return e.hasClass("dx-state-focused")},_isFocused(){return this._hasFocusClass()},_getKeyboardListeners:()=>[],_attachKeyboardEvents(){this._detachKeyboardEvents();var{focusStateEnabled:t,onKeyboardHandled:e}=this.option(),i=this._getKeyboardListeners().length,n=!!e,r=t||i||n;r&&(this._keyboardListenerId=An.on(this._keyboardEventBindingTarget(),this._focusTarget(),a=>this._keyboardHandler(a)))},_keyboardHandler(t,e){if(!e){var{originalEvent:i,keyName:n,which:r}=t,a=this._supportedKeys(i),s=a[n]||a[r];if(s!==void 0){var o=s.bind(this),l=o(i,t);if(!l)return!1}}var u=this._getKeyboardListeners(),{onKeyboardHandled:c}=this.option();return u.forEach(d=>d&&d._keyboardHandler(t)),c&&c(t),!0},_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState(){var t=this._focusTarget();t.removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()},_detachKeyboardEvents(){An.off(this._keyboardListenerId),this._keyboardListenerId=null},_attachHoverEvents(){var{hoverStateEnabled:t}=this.option(),e=this._activeStateUnit,i=this._eventBindingTarget();Gu.off(i,{selector:e,namespace:"UIFeedback"}),t&&Gu.on(i,new Ft(n=>{var{event:r,element:a}=n;this._hoverStartHandler(r),this.option("hoveredElement",h(a))},{excludeValidators:["readOnly"]}),n=>{this.option("hoveredElement",null),this._hoverEndHandler(n)},{selector:e,namespace:"UIFeedback"})},_attachFeedbackEvents(){var{activeStateEnabled:t}=this.option(),e=this._activeStateUnit,i=this._eventBindingTarget();ju.off(i,{namespace:"UIFeedback",selector:e}),t&&ju.on(i,new Ft(n=>{var{event:r,element:a}=n;return this._toggleActiveState(h(a),!0,r)}),new Ft(n=>{var{event:r,element:a}=n;return this._toggleActiveState(h(a),!1,r)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:e,namespace:"UIFeedback"})},_detachFocusEvents(){var t=this._focusEventTarget();xr.off(t,{namespace:"".concat(this.NAME,"Focus")})},_attachFocusEvents(){var t=this._focusEventTarget();xr.on(t,e=>this._focusInHandler(e),e=>this._focusOutHandler(e),{namespace:"".concat(this.NAME,"Focus"),isFocusable:(e,i)=>h(i).is(fo)})},_hoverStartHandler:C,_hoverEndHandler:C,_toggleActiveState(t,e){this.option("isActive",e),t.toggleClass("dx-state-active",e)},_updatedHover(){var t=this._options.silent("hoveredElement");this._hover(t,t)},_findHoverTarget(t){return t&&t.closest(this._activeStateUnit||this._eventBindingTarget())},_hover(t,e){var{hoverStateEnabled:i,disabled:n,isActive:r}=this.option();if(e=this._findHoverTarget(e),e&&e.toggleClass("dx-state-hover",!1),t&&i&&!n&&!r){var a=this._findHoverTarget(t);a&&a.toggleClass("dx-state-hover",!0)}},_toggleDisabledState(t){this.$element().toggleClass("dx-state-disabled",Boolean(t)),this.setAria("disabled",t||void 0)},_toggleIndependentState(){this.$element().toggleClass("dx-state-independent",this.option("ignoreParentReadOnly"))},_setWidgetOption(t,e){if(!!this[t]){if(K(e[0])){b(e[0],(a,s)=>this._setWidgetOption(t,[a,s]));return}var i=e[0],n=e[1];e.length===1&&(n=this.option(i));var r=this["".concat(t,"OptionMap")];this[t].option(r?r(i):i,n)}},_optionChanged(t){var{name:e,value:i,previousValue:n}=t;switch(e){case"disabled":this._toggleDisabledState(i),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(i,n);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(i),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(i?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(t)}},_isVisible(){var{visible:t}=this.option();return this.callBase()&&t},beginUpdate(){this._ready(!1),this.callBase()},endUpdate(){this.callBase(),this._initialized&&this._ready(!0)},_ready(t){if(arguments.length===0)return this._isReady;this._isReady=t},setAria(){if(!K(arguments.length<=0?void 0:arguments[0]))sh(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget());else{var t=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();b(arguments.length<=0?void 0:arguments[0],(e,i)=>sh(e,i,t))}},isReady(){return this._ready()},repaint(){this._refresh()},focus(){xr.trigger(this._focusTarget())},registerKeyHandler(t,e){var i=this._supportedKeys();this._supportedKeys=()=>v(i,{[t]:e})}});Re.getOptionsFromContainer=t=>{var{name:e,fullName:i,value:n}=t,r={};if(e===i)r=n;else{var a=i.split(".").pop();r[a]=n}return r};var Af=t=>{var e=t??$t().rtlEnabled;return e?"right":"left"},Qt=t=>ee(t)?{width:t.outerWidth,height:t.outerHeight}:t.getBoundingClientRect(),Pi=M()?U().Promise:Promise;Pi||(Pi=function(t){var e=new y;return t(e.resolve.bind(this),e.reject.bind(this)),e.promise()},Pi.resolve=function(t){return new y().resolve(t).promise()},Pi.reject=function(t){return new y().reject(t).promise()},Pi.all=function(t){return lt.apply(this,t).then(function(){return[].slice.call(arguments)})});var si=Pi,Vi=new X,pt=Ud(N.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created because of an internal error: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:`HtmlEditor's valueType is "{0}", but the {0} converter was not imported.`,E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" must be earlier than the "endDayHour"',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1015:'The "cellDuration" should divide the range from the "startDayHour" to the "endDayHour" into even intervals',W1016:"The '{0}' field in the HTML Editor toolbar item configuration was renamed to '{1}'. Please make a corresponding change in your code.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true"}),wf=U(),Ig=he.add,Tg=fi,Og=Sa,Rn=new y,xf="link[rel=dx-theme]",Ag="data-theme",wg="data-active",oh="dx-hairlines",Df="any",Se,So,ye,Vt,Me,lh=15e3,_s="dx.";function gl(){if(!M())return null;var t=h("<div>",Se).addClass("dx-theme-marker").appendTo(Se.documentElement),e;try{return e=wf.getComputedStyle(t.get(0)).fontFamily,!e||(e=e.replace(/["']/g,""),e.substr(0,_s.length)!==_s)?null:e.substr(_s.length)}finally{t.remove()}}function uh(t){var e,i,n=!0;Me=t;function r(){Me=null,clearInterval(i),n=!0,Vi.fire(),Vi.empty(),Rn.resolve()}if(hh()||!lh)r();else{if(!n){Me&&(Me=t);return}e=Date.now(),n=!1,i=setInterval(function(){var a=hh(),s=!a&&Date.now()-e>lh;s&&pt.log("W0004",Me),(a||s)&&r()},10)}}function hh(){if(!Me)return!0;var t=Me===Df;if(Rn.state()==="resolved"&&t)return!0;var e=gl();return e&&t?!0:e===Me}function xg(){var t=h(xf,Se);!t.length||(ye={},So=h($v("<link rel=stylesheet>"),Se),t.each(function(){var e=h(this,Se),i=e.attr(Ag),n=e.attr("href"),r=e.attr(wg)==="true";ye[i]={url:n,isActive:r}}),t.last().after(So),t.remove())}function Dg(t){var e=t?t.split("."):[],i=null;if(ye){if(t in ye)return t;b(ye,function(n,r){var a=n.split(".");if(!(e[0]&&a[0]!==e[0])&&!(e[1]&&e[1]!==a[1])&&!(e[2]&&e[2]!==a[2])&&((!i||r.isActive)&&(i=n),r.isActive))return!1})}return i}function Rg(t){try{t!==Se&&(ye=null)}catch{ye=null}Se=t}function Rf(t){t=t||{},Rg(t.context||R.getDocument()),Se&&(xg(),Vt=void 0,Xe(t))}function Xe(t){if(!arguments.length)return Vt=Vt||gl(),Vt;$f(Tg()),t=t||{},typeof t=="string"&&(t={theme:t});var e=t._autoInit,i=t.loadCallback,n;if(Vt=Dg(t.theme||Vt),Vt&&(n=ye[Vt]),i&&Vi.add(i),n)So.attr("href",ye[Vt].url),(Vi.has()||Rn.state()!=="resolved"||t._forceTimeout)&&uh(Vt);else if(e)M()&&uh(Df),Vi.fire(),Vi.empty();else throw pt.Error("E0021",Vt);Rn.done(()=>Bf(Jd(),Vt))}function Bg(t){t=t||Xe();var e=[],i=t&&t.split(".");return i&&(e.push("dx-theme-"+i[0],"dx-theme-"+i[0]+"-typography"),i.length>1&&e.push("dx-color-scheme-"+i[1]+(Tt(t)?"-"+i[2]:""))),e}var Dr;function Bf(t,e){Dr=Bg(e).join(" "),h(t).addClass(Dr),function(){var i=M()&&wf.devicePixelRatio;if(!(!i||i<2)){var n=h("<div>");n.css("border",".5px solid transparent"),h("body").append(n),st(n)===1&&(h(t).addClass(oh),Dr+=" "+oh),n.remove()}}()}function $f(t){h(t).removeClass(Dr)}function Cl(t,e){return e||(e=Vt||gl()),new RegExp(t).test(e)}function Tt(t){return Cl("material",t)}function $g(t){return Cl("generic",t)}function Lg(t){return Cl("compact",t)}function kg(t,e){var i=R.getDocument(),n=i.createElement("span");n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",n.style.visibility="hidden",n.style.fontFamily="Arial",n.style.fontSize="250px",n.style.fontWeight=e,n.innerHTML=t,i.body.appendChild(n);var r=n.offsetWidth;n.style.fontFamily="Roboto, RobotoFallback, Arial";var a=n.offsetWidth;return n.parentNode.removeChild(n),r!==a}function Pg(t,e){return new si(i=>{var n=()=>{clearInterval(r),clearTimeout(a),i()},r=setInterval(()=>{kg(t,e)&&n()},15),a=setTimeout(n,2e3)})}function ch(){if(Rf({_autoInit:!0,_forceTimeout:!0}),h(xf,Se).length)throw pt.Error("E0022")}M()?ch():Ig(ch);Og.add(function(t,e){Rn.done(function(){$f(e),Bf(t)})});B.changed.add(function(){Rf({_autoInit:!0})});var Mg=ma(),Vg="dx-loadindicator",Hg="dx-loadindicator-wrapper",Fg="dx-loadindicator-content",Ng="dx-loadindicator-icon",dh="dx-loadindicator-segment",Wg="dx-loadindicator-segment-inner",zg="dx-loadindicator-image",Ye=Re.inherit({_getDefaultOptions:function(){return v(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var t=Xe();return this.callBase().concat([{device:function(){var e=B.real(),i=e.platform==="android"&&!/chrome/i.test(Mg.userAgent);return i},options:{viaImage:!0}},{device:function(){return Tt(t)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return $g(t)},options:{_animatingSegmentCount:7}}])},_useTemplates:function(){return!1},_init:function(){this.callBase(),this.$element().addClass(Vg)},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=h("<div>").addClass(Hg),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=h("<div>").addClass(Fg),this._$wrapper.append(this._$content)},_renderMarkup:function(){gf()&&!this.option("viaImage")&&!this.option("indicatorSrc")?this._renderMarkupForAnimation():this._renderMarkupForImage()},_renderMarkupForAnimation:function(){var t=this.option("_animatingSegmentInner");this._$indicator=h("<div>").addClass(Ng),this._$content.append(this._$indicator);for(var e=this.option("_animatingSegmentCount");e>=0;--e){var i=h("<div>").addClass(dh).addClass(dh+e);t&&i.append(h("<div>").addClass(Wg)),this._$indicator.append(i)}},_renderMarkupForImage:function(){var t=this.option("indicatorSrc");this._$wrapper.addClass(zg),t&&this._$wrapper.css("backgroundImage","url("+t+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(!!this._$indicator){var t=this.option("width"),e=this.option("height");if(t||e){t=F(this.$element()),e=z(this.$element());var i=Math.min(e,t);this._$wrapper.css({height:i,width:i,fontSize:i})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){!this._$indicator||(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(t){switch(t.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(t)}}});et("dxLoadIndicator",Ye);var pB=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"})),bl="dxTranslator",Kg=/matrix(3d)?\((.+?)\)/,Ug=/translate(?:3d)?\((.+?)\)/,Di=function(t){t=h(t);var e=qr(t);return{left:e.x,top:e.y}};function Gr(t){return In(t)==="string"&&t[t.length-1]==="%"}function Lf(t,e){t.length&&tt(t.get(0),bl,e)}var El=function(t){t.length&&tl(t.get(0),bl)},Wn=function(t){t.x=t.x||0,t.y=t.y||0;var e=Gr(t.x)?t.x:t.x+"px",i=Gr(t.y)?t.y:t.y+"px";return"translate("+e+", "+i+")"},qr=function(t){var e=t.length?tt(t.get(0),bl):null;if(!e){var i=t.css("transform")||Wn({x:0,y:0}),n=i.match(Kg),r=n&&n[1];n?(n=n[2].split(","),r==="3d"?n=n.slice(12,15):(n.push(0),n=n.slice(4,7))):n=[0,0,0],e={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])},Lf(t,e)}return e},Lt=function(t,e){t=h(t);var i=e.left,n=e.top,r;i===void 0?(r=qr(t),r.y=n||0):n===void 0?(r=qr(t),r.x=i||0):(r={x:i||0,y:n||0,z:0},Lf(t,r)),t.css({transform:Wn(r)}),(Gr(i)||Gr(n))&&El(t)},Sl=function(t,e){t=h(t);var i,n={left:0,top:0,transform:"none"};e&&(i=t.css("transition"),n.transition="none"),t.css(n),El(t),e&&(t.get(0).offsetHeight,t.css("transition",i))},jg=function(t){var e=t.match(Ug);if(!(!e||!e[1]))return e=e[1].split(","),e={x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])},e},fh=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,ph={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},Gg=function(t,e,i,n){var r=3*t,a=3*(i-t)-r,s=1-r-a,o=3*e,l=3*(n-e)-o,u=1-o-l,c=function(f){return f*(r+f*(a+f*s))},d=function(f){return r+f*(2*a+3*f*s)};return function(f){return function(m){return m*(o+m*(l+m*u))}(function(m){for(var g=m,x=0,E;x<14&&(E=c(g)-m,!(Math.abs(E)<.001));)g-=E/d(g),x++;return g}(f))}},yo={},qg=function(t){t=ph[t]||t;var e=t.match(fh),i;e||(i="linear",e=ph[i].match(fh)),e=e.slice(1,5);for(var n=0;n<e.length;n++)e[n]=parseFloat(e[n]);var r=i||"cubicbezier_"+e.join("_").replace(/\./g,"p");return k(yo[r])||(yo[r]=function(a,s,o,l,u){return l*Gg(e[0],e[1],e[2],e[3])(s/u)+o}),r};function Xg(t){return yo[t]}var _h=U(),Yg=/left|right/,Qg=/top|bottom/,vh=/fit|flip|none/,Zg=/scale\(.+?\)/,Jg=di.safari,Io=function(t){var e={h:"center",v:"center"},i=el(t);return i&&b(i,function(){var n=String(this).toLowerCase();Yg.test(n)?e.h=n:Qg.test(n)&&(e.v=n)}),e},mh=function(t){return il(t)},tC=function(t){var e=el(t),i=String(e&&e[0]).toLowerCase(),n=String(e&&e[1]).toLowerCase();return vh.test(i)||(i="none"),vh.test(n)||(n=i),{h:i,v:n}},gh=function(t){switch(t){case"center":return .5;case"right":case"bottom":return 1;default:return 0}},To=function(t){switch(t){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return t}},Oo=function(t,e){var i=0;return t.myLocation<e.min&&(i+=e.min-t.myLocation),t.myLocation>e.max&&(i+=t.myLocation-e.max),i},Ch=function(t,e,i){return e.myLocation<i.min?t==="h"?"left":"top":e.myLocation>i.max?t==="h"?"right":"bottom":"none"},Ao=function(t){t.myLocation=t.atLocation+gh(t.atAlign)*t.atSize-gh(t.myAlign)*t.mySize+t.offset},ar={fit:function(t,e){var i=!1;t.myLocation>e.max&&(t.myLocation=e.max,i=!0),t.myLocation<e.min&&(t.myLocation=e.min,i=!0),t.fit=i},flip:function(t,e){if(t.flip=!1,!(t.myAlign==="center"&&t.atAlign==="center")&&(t.myLocation<e.min||t.myLocation>e.max)){var i=v({},t,{myAlign:To(t.myAlign),atAlign:To(t.atAlign),offset:-t.offset});Ao(i),i.oversize=Oo(i,e),(i.myLocation>=e.min&&i.myLocation<=e.max||t.oversize>i.oversize)&&(t.myLocation=i.myLocation,t.oversize=i.oversize,t.flip=!0)}},flipfit:function(t,e){this.flip(t,e),this.fit(t,e)},none:function(t){t.oversize=0}},kf,Pf=function(){var t=h("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(h("body")),e=t.get(0).offsetWidth-t.get(0).clientWidth;t.remove(),kf=e},eC={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},Mf=function(t,e){var i=h(t),n=i.offset(),r=v(!0,{},eC,{h:{location:n.left},v:{location:n.top}});if(!e)return r;var a=Io(e.my),s=Io(e.at),o=h(e.of).length&&e.of||_h,l=mh(e.offset),u=tC(e.collision),c=e.boundary,d=mh(e.boundaryOffset),f={mySize:ot(i),myAlign:a.h,atAlign:s.h,offset:l.h,collision:u.h,boundaryOffset:d.h},m={mySize:st(i),myAlign:a.v,atAlign:s.v,offset:l.v,collision:u.v,boundaryOffset:d.v};if(o.preventDefault)f.atLocation=o.pageX,m.atLocation=o.pageY,f.atSize=0,m.atSize=0;else if(o=h(o),ee(o[0]))f.atLocation=o.scrollLeft(),m.atLocation=o.scrollTop(),B.real().deviceType==="phone"&&o[0].visualViewport?(f.atLocation=Math.max(f.atLocation,o[0].visualViewport.offsetLeft),m.atLocation=Math.max(m.atLocation,o[0].visualViewport.offsetTop),f.atSize=o[0].visualViewport.width,m.atSize=o[0].visualViewport.height):(f.atSize=o[0].innerWidth>o[0].outerWidth?o[0].innerWidth:F(o),m.atSize=o[0].innerHeight>o[0].outerHeight||Jg?o[0].innerHeight:z(o));else if(o[0].nodeType===9)f.atLocation=0,m.atLocation=0,f.atSize=F(o),m.atSize=z(o);else{var g=Qt(o.get(0)),x=Vf(o);f.atLocation=x.left,m.atLocation=x.top,f.atSize=Math.max(g.width,ot(o)),m.atSize=Math.max(g.height,st(o))}Ao(f),Ao(m);var E=function(){var D=h(_h),j=F(D),Z=z(D),yt=D.scrollLeft(),ut=D.scrollTop(),Wt=R.getDocumentElement(),J=xn?Wt.clientWidth/j:1,wt=xn?Wt.clientHeight/Z:1;kf===void 0&&Pf();var Pt=j,ce=Z;if(c){var S=h(c),$=S.offset();yt=$.left,ut=$.top,Pt=F(S),ce=z(S)}return{h:{min:yt+f.boundaryOffset,max:yt+Pt/J-f.mySize-f.boundaryOffset},v:{min:ut+m.boundaryOffset,max:ut+ce/wt-m.mySize-m.boundaryOffset}}}();f.oversize=Oo(f,E.h),m.oversize=Oo(m,E.v),f.collisionSide=Ch("h",f,E.h),m.collisionSide=Ch("v",m,E.v),ar[f.collision]&&ar[f.collision](f,E.h),ar[m.collision]&&ar[m.collision](m,E.v);var w=function(D){return e.precise?D:Math.round(D)};return v(!0,r,{h:{location:w(f.myLocation),oversize:w(f.oversize),fit:f.fit,flip:f.flip,collisionSide:f.collisionSide},v:{location:w(m.myLocation),oversize:w(m.oversize),fit:m.fit,flip:m.flip,collisionSide:m.collisionSide},precise:e.precise}),r},bh=function(t,e,i,n,r){var a=I(t.style)&&!R.isNode(t.style);a?t.style.transform=r?i.replace(e,""):i:t.setAttribute("style",r?n.replace(e,""):n)},Vf=function t(e){var i,n,r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,s=a.get(0);if(!s)return e.offset();var o=((i=s.getAttribute)===null||i===void 0?void 0:i.call(s,"style"))||"",l=(n=s.style)===null||n===void 0?void 0:n.transform,u=(r=o.match(Zg))===null||r===void 0?void 0:r[0],c;return u?(bh(s,u,l,o,!0),c=t(e,a.parent()),bh(s,u,l,o,!1)):c=t(e,a.parent()),c},Bn=function(t,e){var i=h(t);if(!e)return i.offset();Sl(i,!0);var n=Vf(i),r=e.h&&e.v?e:Mf(i,e),a=function(s){return e.precise?s:Math.round(s)};return Lt(i,{left:r.h.location-a(n.left),top:r.v.location-a(n.top)}),r},iC=function(t){return t=h(t).get(0),ee(t)?null:t&&"pageY"in t&&"pageX"in t?{top:t.pageY,left:t.pageX}:h(t).offset()};Bn.inverseAlign||(Bn.inverseAlign=To);Bn.normalizeAlign||(Bn.normalizeAlign=Io);var Nt={calculateScrollbarWidth:Pf,calculate:Mf,setup:Bn,offset:iC},Hf=U(),gn=T(je,"dxFX"),nC=/^([+-])=(.*)/i,$n="dxAnimData",yl="dxAnimQueue",Xt="transform",rC={initAnimation:function(t,e){t.css({transitionProperty:"none"}),typeof e.from=="string"?t.addClass(e.from):xo(t,e.from);var i=this,n=new y,r=e.cleanupWhen;e.transitionAnimation={deferred:n,finish:function(){i._finishTransition(t),r?lt(n,r).always(function(){i._cleanup(t,e)}):i._cleanup(t,e),n.resolveWith(t,[e,t])}},this._completeAnimationCallback(t,e).done(function(){e.transitionAnimation.finish()}).fail(function(){n.rejectWith(t,[e,t])}),e.duration||e.transitionAnimation.finish(),t.css("transform")},animate:function(t,e){return this._startAnimation(t,e),e.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(t,e){var i=this,n=Date.now()+e.delay,r=new y,a=new y,s=new y,o,l=mf()+".dxFX";e.transitionAnimation.cleanup=function(){clearTimeout(o),clearTimeout(u),p.off(t,l),p.off(t,gn)},p.one(t,l,function(){Date.now()-n>=e.duration&&a.reject()}),p.off(t,gn),p.on(t,gn,function(){i.stop(t,e),r.reject()});var u=setTimeout(function(){o=setTimeout(function(){s.reject()},e.duration+e.delay+Ie._simulatedTransitionEndDelay),lt(a,s).fail(function(){r.resolve()}.bind(this))});return r.promise()},_startAnimation:function(t,e){t.css({transitionProperty:"all",transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms",transitionTimingFunction:e.easing}),typeof e.to=="string"?t[0].className+=" "+e.to:e.to&&xo(t,e.to)},_finishTransition:function(t){t.css("transition","none")},_cleanup:function(t,e){e.transitionAnimation.cleanup(),typeof e.from=="string"&&(t.removeClass(e.from),t.removeClass(e.to))},stop:function(t,e,i){!e||(i?e.transitionAnimation.finish():(K(e.to)&&b(e.to,function(n){t.css(n,t.css(n))}),this._finishTransition(t),this._cleanup(t,e)))}},Eh={initAnimation:function(t,e){xo(t,e.from)},animate:function(t,e){var i=new y,n=this;return e?(b(e.to,function(r){e.from[r]===void 0&&(e.from[r]=n._normalizeValue(t.css(r)))}),e.to[Xt]&&(e.from[Xt]=n._parseTransform(e.from[Xt]),e.to[Xt]=n._parseTransform(e.to[Xt])),e.frameAnimation={to:e.to,from:e.from,currentValue:e.from,easing:qg(e.easing),duration:e.duration,startTime:new Date().valueOf(),finish:function(){this.currentValue=this.to,this.draw(),oe(e.frameAnimation.animationFrameId),i.resolve()},draw:function(){if(e.draw){e.draw(this.currentValue);return}var r=v({},this.currentValue);r[Xt]&&(r[Xt]=De(r[Xt],function(a,s){if(s==="translate")return Wn(a);if(s==="scale")return"scale("+a+")";if(s.substr(0,s.length-1)==="rotate")return s+"("+a+"deg)"}).join(" ")),t.css(r)}},e.delay?(e.frameAnimation.startTime+=e.delay,e.frameAnimation.delayTimeout=setTimeout(function(){n._startAnimation(t,e)},e.delay)):n._startAnimation(t,e),i.promise()):i.reject().promise()},_startAnimation:function(t,e){p.off(t,gn),p.on(t,gn,function(){e.frameAnimation&&oe(e.frameAnimation.animationFrameId)}),this._animationStep(t,e)},_parseTransform:function(t){var e={};return b(t.match(/\w+\d*\w*\([^)]*\)\s*/g),function(i,n){var r=jg(n),a=n.match(/scale\((.+?)\)/),s=n.match(/(rotate.)\((.+)deg\)/);r&&(e.translate=r),a&&a[1]&&(e.scale=parseFloat(a[1])),s&&s[1]&&(e[s[1]]=parseFloat(s[2]))}),e},stop:function(t,e,i){var n=e&&e.frameAnimation;!n||(oe(n.animationFrameId),clearTimeout(n.delayTimeout),i&&n.finish(),delete e.frameAnimation)},_animationStep:function(t,e){var i=e&&e.frameAnimation;if(!!i){var n=new Date().valueOf();if(n>=i.startTime+i.duration){i.finish();return}i.currentValue=this._calcStepValue(i,n-i.startTime),i.draw();var r=this;i.animationFrameId=wn(function(){r._animationStep(t,e)})}},_calcStepValue:function(t,e){return function i(n,r){var a=Array.isArray(r)?[]:{};return b(r,function(s,o){if(typeof o=="string"&&parseFloat(o,10)===!1)return!0;a[s]=typeof o=="object"?i(n[s],o):function(l){var u=e/t.duration,c=e,d=1*n[l],f=r[l]-n[l],m=t.duration;return Xg(t.easing)(u,c,d,f,m)}(s)}),a}(t.from,t.to)},_normalizeValue:function(t){var e=parseFloat(t,10);return e===!1?t:e}},aC={initAnimation:function(){},animate:function(){return new y().resolve().promise()},stop:C,isSynchronous:!0},sC=function(t){t=t||{};var e={transition:mo()?rC:Eh,frame:Eh,noAnimation:aC},i=t.strategy||"transition";return t.type==="css"&&!mo()&&(i="noAnimation"),e[i]},Ff=function(t,e,i,n){b(["from","to"],function(){if(!i(t[this]))throw N.Error("E0010",e,this,n)})},Nf=function(t,e){return Ff(t,e,function(i){return K(i)},"a plain object")},oC=function(t,e){return Ff(t,e,function(i){return typeof i=="string"},"a string")},lC={setup:function(){}},uC={validateConfig:function(t){oC(t,"css")},setup:function(){}},hC={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},vs={validateConfig:function(t){Nf(t,"slide")},setup:function(t,e){var i=Di(t);if(e.type!=="slide"){var n=e.type==="slideIn"?e.from:e.to;n.position=v({of:Hf},hC[e.direction]),wo(t,n)}this._setUpConfig(i,e.from),this._setUpConfig(i,e.to),El(t)},_setUpConfig:function(t,e){e.left="left"in e?e.left:"+=0",e.top="top"in e?e.top:"+=0",this._initNewPosition(t,e)},_initNewPosition:function(t,e){var i={left:e.left,top:e.top};delete e.left,delete e.top;var n=this._getRelativeValue(i.left);n!==void 0?i.left=n+t.left:e.left=0,n=this._getRelativeValue(i.top),n!==void 0?i.top=n+t.top:e.top=0,e[Xt]=Wn({x:i.left,y:i.top})},_getRelativeValue:function(t){var e;if(typeof t=="string"&&(e=nC.exec(t)))return parseInt(e[1]+"1")*e[2]}},ms={setup:function(t,e){var i,n,r=e.from,a=e.to,s=e.type==="fadeOut"?1:0,o=e.type==="fadeOut"?0:1,l=K(r)?String((i=r.opacity)!==null&&i!==void 0?i:s):String(r),u=K(a)?String((n=a.opacity)!==null&&n!==void 0?n:o):String(a);switch(e.skipElementInitialStyles||(l=t.css("opacity")),e.type){case"fadeIn":u=1;break;case"fadeOut":u=0}e.from={visibility:"visible",opacity:l},e.to={opacity:u}}},cC={validateConfig:function(t){Nf(t,"pop")},setup:function(t,e){var i=e.from,n=e.to,r="opacity"in i?i.opacity:t.css("opacity"),a="opacity"in n?n.opacity:1,s="scale"in i?i.scale:0,o="scale"in n?n.scale:1;e.from={opacity:r};var l=qr(t);e.from[Xt]=this._getCssTransform(l,s),e.to={opacity:a},e.to[Xt]=this._getCssTransform(l,o)},_getCssTransform:function(t,e){return Wn(t)+"scale("+e+")"}},Wf={custom:lC,slide:vs,slideIn:vs,slideOut:vs,fade:ms,fadeIn:ms,fadeOut:ms,pop:cC,css:uC},dC=function(t){var e=Wf[t.type];if(!e)throw N.Error("E0011",t.type);return e},fC={type:"custom",from:{},to:{},duration:400,start:C,complete:C,easing:"ease",delay:0},pC={duration:400,easing:"ease",delay:0};function _C(){var t=this.element,e=this.config;if(wo(t,e.from),wo(t,e.to),this.configurator.setup(t,e),t.data($n,this),Ie.off&&(e.duration=0,e.delay=0),this.strategy.initAnimation(t,e),e.start){var i=H(t);e.start.apply(this,[i,e])}}var vC=function(t){var e=t.element,i=t.config;if(e.removeData($n),i.complete){var n=H(e);i.complete.apply(this,[n,i])}t.deferred.resolveWith(this,[e,i])},mC=function(){var t=this,e=t.element,i=t.config;return t.isStarted=!0,t.strategy.animate(e,i).done(function(){vC(t)}).fail(function(){t.deferred.rejectWith(this,[e,i])})},gC=function(t){var e=this.element,i=this.config;clearTimeout(this.startTimeout),this.isStarted||this.start(),this.strategy.stop(e,i,t)},gs=T(je,"dxFXStartAnimation"),CC=function(t){p.off(t.element,gs),p.on(t.element,gs,function(){Ie.stop(t.element)}),t.deferred.always(function(){p.off(t.element,gs)})},zf=function(t,e){var i=e.type==="css"?pC:fC,n=v(!0,{},i,e),r=dC(n),a=sC(n),s={element:h(t),config:n,configurator:r,strategy:a,isSynchronous:a.isSynchronous,setup:_C,start:mC,stop:gC,deferred:new y};return k(r.validateConfig)&&r.validateConfig(n),CC(s),s},bC=function(t,e){var i=h(t);if(!i.length)return new y().resolve().promise();var n=zf(i,e);return EC(i,n),n.deferred.promise()};function EC(t,e){var i=Il(t);SC(t,i),i.push(e),xa(t)||Tl(t,i)}function Il(t){return t.data(yl)||[]}function SC(t,e){t.data(yl,e)}var Kf=function(t){t.removeData(yl)};function xa(t){return!!t.data($n)}function Tl(t,e){if(e=Il(t),!!e.length){var i=e.shift();e.length===0&&Kf(t),yC(i).done(function(){xa(t)||Tl(t)})}}function yC(t){return t.setup(),Ie.off||t.isSynchronous?t.start():t.startTimeout=setTimeout(function(){t.start()}),t.deferred.promise()}function wo(t,e){if(!(!e||!e.position)){var i=h(Hf),n=0,r=0,a=Nt.calculate(t,e.position),s=t.offset(),o=t.position();o.top>s.top&&(r=i.scrollTop()),o.left>s.left&&(n=i.scrollLeft()),v(e,{left:a.h.location-s.left+o.left-n,top:a.v.location-s.top+o.top-r}),delete e.position}}function xo(t,e){b(e,function(i,n){try{t.css(i,k(n)?n():n)}catch{}})}var IC=function(t,e){var i=h(t),n=Il(i);b(n,function(a,s){s.config.delay=0,s.config.duration=0,s.isSynchronous=!0}),xa(i)||Tl(i,n);var r=i.data($n);r&&r.stop(e),i.removeData($n),Kf(i)},Ie={off:!1,animationTypes:Wf,animate:bC,createAnimation:zf,isAnimating:xa,stop:IC,_simulatedTransitionEndDelay:100},TC=he.add,Sh=Math.abs,Cs=0,bs=1,ln=2,Xr=10,OC=0,AC=180,wC=function(){return ba("pointer-events")},xC=Ii(function(){var t=B.real().deviceType==="desktop";if(!wC()||!t)return C;var e=h("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return p.subscribeGlobal(e,"dxmousewheel",function(i){i.preventDefault()}),TC(function(){e.appendTo("body")}),function(i,n){e.css("pointerEvents",i?"all":"none"),i&&e.css("cursor",n)}}),DC=function(t,e){var i=xC();i(t,e)},zn=Aa.inherit({gesture:!0,configure:function(t){this.getElement().css("msTouchAction",t.immediate?"pinch-zoom":""),this.callBase(t)},allowInterruptionByMouseWheel:function(){return this._stage!==ln},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=Cs},start:function(t){if(t._needSkipEvent||jm(t)){this._cancel(t);return}this._startEvent=ul(t),this._startEventData=Q(t),this._stage=bs,this._init(t),this._setupImmediateTimer()},_setupImmediateTimer:function(){clearTimeout(this._immediateTimer),this._immediateAccepted=!1,this.immediate&&(this._immediateTimer=setTimeout(function(){this._immediateAccepted=!0}.bind(this),AC))},move:function(t){if(this._stage===bs&&this._directionConfirmed(t)){if(this._stage=ln,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(t),this._adjustStartEvent(t),this._start(this._startEvent),this._stage===Cs)return;this._requestAccept(t),this._move(t),this._forgetAccept()}else this._stage===ln&&(this._clearSelection(t),this._move(t))},_directionConfirmed:function(t){var e=this._getTouchBoundary(t),i=Ve(this._startEventData,Q(t)),n=Sh(i.x),r=Sh(i.y),a=this._validateMove(e,n,r),s=this._validateMove(e,r,n),o=this.getDirection(t),l=o==="both"&&(a||s),u=o==="horizontal"&&a,c=o==="vertical"&&s;return l||u||c||this._immediateAccepted},_validateMove:function(t,e,i){return e&&e>=t&&(this.immediate?e>=i:!0)},_getTouchBoundary:function(t){return this.immediate||xt(t)?OC:Xr},_adjustStartEvent:function(t){var e=this._getTouchBoundary(t),i=Ve(this._startEventData,Q(t));this._startEvent.pageX+=yu(i.x)*e,this._startEvent.pageY+=yu(i.y)*e},_resetActiveElement:function(){B.real().platform==="ios"&&this.getElement().find(":focus").length&&Fn()},_toggleGestureCover:function(t){this._toggleGestureCoverImpl(t)},_toggleGestureCoverImpl:function(t){var e=this._stage===ln;e&&DC(t,this.getElement().css("cursor"))},_clearSelection:function(t){xt(t)||Ta(t)||gm()},end:function(t){this._toggleGestureCover(!1),this._stage===ln?this._end(t):this._stage===bs&&this._stop(t),this._stage=Cs},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:C,_start:C,_move:C,_stop:C,_end:C});zn.initialTouchBoundary=Xr;zn.touchBoundary=function(t){if(I(t)){Xr=t;return}return Xr};var Da="dxdragstart",Kn="dxdrag",Ra="dxdragend",Ol="dxdragenter",Al="dxdragleave",wl="dxdrop",sr="dxDragEventsCount",Ce=[],Hi=[],Do=[],xl={setup:function(t,e){var i=L(t,Ce)!==-1;i||(Ce.push(t),Hi.push([]),Do.push(e||{}))},add:function(t,e){var i=L(t,Ce);this.updateEventsCounter(t,e.type,1);var n=e.selector;L(n,Hi[i])===-1&&Hi[i].push(n)},updateEventsCounter:function(t,e,i){if([Ol,Al,wl].indexOf(e)>-1){var n=tt(t,sr)||0;tt(t,sr,Math.max(0,n+i))}},remove:function(t,e){this.updateEventsCounter(t,e.type,-1)},teardown:function(t){var e=tt(t,sr);if(!e){var i=L(t,Ce);Ce.splice(i,1),Hi.splice(i,1),Do.splice(i,1),tl(t,sr)}}};ne(Ol,xl);ne(Al,xl);ne(wl,xl);var RC=function(t){var e=L(t.get(0),Ce),i=Hi[e].filter(r=>r),n=t.find(i.join(", "));return L(void 0,Hi[e])!==-1&&(n=n.add(t)),n},BC=function(t){var e=L(t.get(0),Ce);return Do[e]},$C=function(t,e){return t.itemPositionFunc?t.itemPositionFunc(e):e.offset()},LC=function(t,e){return t.itemSizeFunc?t.itemSizeFunc(e):{width:e.get(0).getBoundingClientRect().width,height:e.get(0).getBoundingClientRect().height}},kC=zn.inherit({ctor:function(t){this.callBase(t),this.direction="both"},_init:function(t){this._initEvent=t},_start:function(t){t=this._fireEvent(Da,this._initEvent),this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset;var e=Lv(t.targetElements||(t.targetElements===null?[]:Ce));this._dropTargets=De(e,function(i){return h(i).get(0)})},_move:function(t){var e=Q(t),i=this._calculateOffset(e);t=this._fireEvent(Kn,t,{offset:i}),this._processDropTargets(t),t._cancelPreventDefault||t.preventDefault()},_calculateOffset:function(t){return{x:this._calculateXOffset(t),y:this._calculateYOffset(t)}},_calculateXOffset:function(t){if(this.direction!=="vertical"){var e=t.x-this._startEventData.x;return this._fitOffset(e,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(t){if(this.direction!=="horizontal"){var e=t.y-this._startEventData.y;return this._fitOffset(e,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(t,e,i){return e!=null&&(t=Math.max(t,-e)),i!=null&&(t=Math.min(t,i)),t},_processDropTargets:function(t){var e=this._findDropTarget(t),i=e===this._currentDropTarget;i||(this._fireDropTargetEvent(t,Al),this._currentDropTarget=e,this._fireDropTargetEvent(t,Ol))},_fireDropTargetEvent:function(t,e){if(!!this._currentDropTarget){var i={type:e,originalEvent:t,draggingElement:this._$element.get(0),target:this._currentDropTarget};wi(i)}},_findDropTarget:function(t){var e=this,i;return b(Ce,function(n,r){if(!!e._checkDropTargetActive(r)){var a=h(r);b(RC(a),function(s,o){var l=h(o);e._checkDropTarget(BC(a),l,h(i),t)&&(i=o)})}}),i},_checkDropTargetActive:function(t){var e=!1;return b(this._dropTargets,function(i,n){return e=e||n===t||Fe(n,t),!e}),e},_checkDropTarget:function(t,e,i,n){var r=e.get(0)===h(n.target).get(0);if(r)return!1;var a=$C(t,e);if(n.pageX<a.left||n.pageY<a.top)return!1;var s=LC(t,e);return n.pageX>a.left+s.width||n.pageY>a.top+s.height||i.length&&i.closest(e).length||t.checkDropTarget&&!t.checkDropTarget(e,n)?!1:e},_end:function(t){var e=Q(t);this._fireEvent(Ra,t,{offset:this._calculateOffset(e)}),this._fireDropTargetEvent(t,wl),delete this._currentDropTarget}});en({emitter:kC,events:[Da,Kn,Ra]});var yh=function(){var t=[];return{add:function(e){var i=L(e,t);i===-1&&t.push(e)},remove:function(e){var i=L(e,t);i!==-1&&t.splice(i,1)},fire:function(){var e=t.pop(),i=!!e;return i&&e(),i},hasCallback:function(){return t.length>0}}}(),Ba="dxResizable",PC="dx-resizable",MC="dx-resizable-resizing",or="dx-resizable-handle",VC="dx-resizable-handle-top",HC="dx-resizable-handle-bottom",FC="dx-resizable-handle-left",NC="dx-resizable-handle-right",lr="dx-resizable-handle-corner",WC=T(Da,Ba),zC=T(Kn,Ba),KC=T(Ra,Ba),UC={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},Uf=xi.inherit({_getDefaultOptions:function(){return v(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0,_keepAspectRatio:!1})},_init:function(){this.callBase(),this.$element().addClass(PC)},_initMarkup:function(){this.callBase(),this._renderHandles()},_render:function(){this.callBase(),this._renderActions()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){this._handles=[];var t=this.option("handles");if(t!=="none"){var e=t==="all"?["top","bottom","left","right"]:t.split(" ");b(e,(i,n)=>{this._renderHandle(n)}),L("bottom",e)+1&&L("right",e)+1&&this._renderHandle("corner-bottom-right"),L("bottom",e)+1&&L("left",e)+1&&this._renderHandle("corner-bottom-left"),L("top",e)+1&&L("right",e)+1&&this._renderHandle("corner-top-right"),L("top",e)+1&&L("left",e)+1&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}},_renderHandle:function(t){var e=h("<div>").addClass(or).addClass(or+"-"+t).appendTo(this.$element());this._handles.push(e)},_attachEventHandlers:function(){if(!this.option("disabled")){var t={};t[WC]=this._dragStartHandler.bind(this),t[zC]=this._dragHandler.bind(this),t[KC]=this._dragEndHandler.bind(this),this._handles.forEach(e=>{p.on(e,t,{direction:"both",immediate:!0})})}},_detachEventHandlers:function(){this._handles.forEach(t=>{p.off(t)})},_toggleEventHandlers:function(t){t?this._attachEventHandlers():this._detachEventHandlers()},_getElementSize:function(){var t=this.$element();return t.css("boxSizing")==="border-box"?{width:ot(t),height:st(t)}:{width:F(t),height:z(t)}},_dragStartHandler:function(t){var e=this.$element();if(e.is(".dx-state-disabled, .dx-state-disabled *")){t.cancel=!0;return}this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(t),this._elementLocation=Di(e),this._elementSize=this._getElementSize(),this._renderDragOffsets(t),this._resizeStartAction({event:t,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),t.targetElements=null},_toggleResizingClass:function(t){this.$element().toggleClass(MC,t)},_renderDragOffsets:function(t){var e=this._getArea();if(!!e){var i=h(t.target).closest("."+or),n=ot(i),r=st(i),a=i.offset(),s=e.offset,o=this._getAreaScrollOffset();t.maxLeftOffset=this._leftMaxOffset=a.left-s.left-o.scrollX,t.maxRightOffset=this._rightMaxOffset=s.left+e.width-a.left-n+o.scrollX,t.maxTopOffset=this._topMaxOffset=a.top-s.top-o.scrollY,t.maxBottomOffset=this._bottomMaxOffset=s.top+e.height-a.top-r+o.scrollY}},_getBorderWidth:function(t,e){if(ee(t.get(0)))return 0;var i=t.css(UC[e]);return parseInt(i)||0},_proportionate:function(t,e){var i=this._elementSize,n=t==="x"?i.width/i.height:i.height/i.width;return e*n},_getProportionalDelta:function(t){var{x:e,y:i}=t,n=this._proportionate("y",e);if(n>=i)return{x:e,y:n};var r=this._proportionate("x",i);return r>=e?{x:r,y:i}:{x:0,y:0}},_getDirectionName:function(t){var e=this._movingSides;return t==="x"?e.left?"left":"right":e.top?"top":"bottom"},_fitIntoArea:function(t,e){var i,n=this._getDirectionName(t);return Math.min(e,(i=this["_".concat(n,"MaxOffset")])!==null&&i!==void 0?i:1/0)},_fitDeltaProportionally:function(t){var e=A({},t),i=this._elementSize,{minWidth:n,minHeight:r,maxWidth:a,maxHeight:s}=this.option(),o=()=>i.width+e.x,l=()=>i.height+e.y,u=g=>e[g]===this._fitIntoArea(g,e[g]),c=()=>Iu(o(),n,a)&&u("x"),d=()=>Iu(l(),r,s)&&u("y");if(!c()){var f=this._fitIntoArea("x",ge(o(),n,a)-i.width);e={x:f,y:this._proportionate("y",f)}}if(!d()){var m=this._fitIntoArea("y",ge(l(),r,s)-i.height);e={x:this._proportionate("x",m),y:m}}return c()&&d()?e:{x:0,y:0}},_fitDelta:function(t){var{x:e,y:i}=t,n=this._elementSize,{minWidth:r,minHeight:a,maxWidth:s,maxHeight:o}=this.option();return{x:ge(n.width+e,r,s)-n.width,y:ge(n.height+i,a,o)-n.height}},_getDeltaByOffset:function(t){var e=this._movingSides,i=this._isCornerHandler(e)&&this.option("_keepAspectRatio"),n={x:t.x*(e.left?-1:1),y:t.y*(e.top?-1:1)};if(i){var r=this._getProportionalDelta(n),a=this._fitDeltaProportionally(r);n=a}else{var s=this._fitDelta(n),o=this._roundByStep(s);n=o}return n},_updatePosition:function(t,e){var{width:i,height:n}=e,r=this._elementLocation,a=this._movingSides,s=this.$element(),o=this._getElementSize(),l=t.y*(a.top?-1:1)-((o.height||n)-n),u=t.x*(a.left?-1:1)-((o.width||i)-i);Lt(s,{top:r.top+(a.top?l:0),left:r.left+(a.left?u:0)})},_dragHandler:function(t){var e=this._getOffset(t),i=this._getDeltaByOffset(e),n=this._updateDimensions(i);this._updatePosition(i,n),this._triggerResizeAction(t,n)},_updateDimensions:function(t){var e=u=>u.substring(u.length-2)==="px",i=this.option("stepPrecision")==="strict",n=this._elementSize,r=n.width+t.x,a=n.height+t.y,s=this.$element().get(0).style,o=t.x||i||e(s.width),l=t.y||i||e(s.height);return o&&this.option({width:r}),l&&this.option({height:a}),{width:o?r:n.width,height:l?a:n.height}},_triggerResizeAction:function(t,e){var{width:i,height:n}=e;this._resizeAction({event:t,width:this.option("width")||i,height:this.option("height")||n,handles:this._movingSides}),Pe(this.$element())},_isCornerHandler:t=>Object.values(t).reduce((e,i)=>e^i,0)===0,_getOffset:function(t){var e=t.offset,i=this._movingSides;return!i.left&&!i.right&&(e.x=0),!i.top&&!i.bottom&&(e.y=0),e},_roundByStep:function(t){return this.option("stepPrecision")==="strict"?this._roundStrict(t):this._roundNotStrict(t)},_getSteps:function(){return il(this.option("step"),!this.option("roundStepValue"))},_roundNotStrict:function(t){var e=this._getSteps();return{x:t.x-t.x%e.h,y:t.y-t.y%e.v}},_roundStrict:function(t){var e=this._movingSides,i={x:t.x*(e.left?-1:1),y:t.y*(e.top?-1:1)},n=this._getSteps(),r=this._elementLocation,a=this._elementSize,s=e.left?r.left:r.left+a.width,o=e.top?r.top:r.top+a.height,l=(s+i.x)%n.h,u=(o+i.y)%n.v,c=Math.sign||(w=>(w=+w,w===0||isNaN(w)?w:w>0?1:-1)),d=(w,D)=>(1+.2*c(D))%1*w,f=(w,D)=>Math.abs(w)<.2*D,m=i.x-l,g=i.y-u;l>d(n.h,i.x)&&(m+=n.h),u>d(n.v,i.y)&&(g+=n.v);var x=(e.left||e.right)&&!f(i.x,n.h)?m:0,E=(e.top||e.bottom)&&!f(i.y,n.v)?g:0;return{x:x*(e.left?-1:1),y:E*(e.top?-1:1)}},_getMovingSides:function(t){var e=h(t.target),i=e.hasClass(lr+"-top-left"),n=e.hasClass(lr+"-top-right"),r=e.hasClass(lr+"-bottom-left"),a=e.hasClass(lr+"-bottom-right");return{top:e.hasClass(VC)||i||n,left:e.hasClass(FC)||i||r,bottom:e.hasClass(HC)||r||a,right:e.hasClass(NC)||n||a}},_getArea:function(){var t=this.option("area");return k(t)&&(t=t.call(this)),K(t)?this._getAreaFromObject(t):this._getAreaFromElement(t)},_getAreaScrollOffset:function(){var t=this.option("area"),e=!k(t)&&!K(t),i={scrollY:0,scrollX:0};if(e){var n=h(t)[0];ee(n)&&(i.scrollX=n.pageXOffset,i.scrollY=n.pageYOffset)}return i},_getAreaFromObject:function(t){var e={width:t.right-t.left,height:t.bottom-t.top,offset:{left:t.left,top:t.top}};return this._correctAreaGeometry(e),e},_getAreaFromElement:function(t){var e=h(t),i;return e.length&&(i={width:Tu(e),height:Ou(e),offset:v({top:0,left:0},ee(e[0])?{}:e.offset())},this._correctAreaGeometry(i,e)),i},_correctAreaGeometry:function(t,e){var i=e?this._getBorderWidth(e,"left"):0,n=e?this._getBorderWidth(e,"top"):0;t.offset.left+=i+this._getBorderWidth(this.$element(),"left"),t.offset.top+=n+this._getBorderWidth(this.$element(),"top"),t.width-=ot(this.$element())-Tu(this.$element()),t.height-=st(this.$element())-Ou(this.$element())},_dragEndHandler:function(t){var e=this.$element();this._resizeEndAction({event:t,width:ot(e),height:st(e),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(t){this.option("width",ge(t,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(t){this.option("height",ge(t,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(t){switch(t.name){case"disabled":this._toggleEventHandlers(!t.value),this.callBase(t);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":M()&&this._renderWidth(ot(this.$element()));break;case"minHeight":case"maxHeight":M()&&this._renderHeight(st(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"_keepAspectRatio":break;default:this.callBase(t)}},_clean:function(){this.$element().find("."+or).remove()},_useTemplates:function(){return!1}});et(Ba,Uf);var ur=5;class jC{constructor(e){this.init(e)}init(e){var{dragEnabled:i,handle:n,draggableElement:r,positionController:a}=e;this._positionController=a,this._draggableElement=r,this._handle=n,this._dragEnabled=i,this.unsubscribe(),i&&this.subscribe()}moveDown(e){this._moveTo(ur,0,e)}moveUp(e){this._moveTo(-ur,0,e)}moveLeft(e){this._moveTo(0,-ur,e)}moveRight(e){this._moveTo(0,ur,e)}subscribe(){var e=this._getEventNames();p.on(this._handle,e.startEventName,i=>{this._dragStartHandler(i)}),p.on(this._handle,e.updateEventName,i=>{this._dragUpdateHandler(i)}),p.on(this._handle,e.endEventName,i=>{this._dragEndHandler(i)})}unsubscribe(){var e=this._getEventNames();p.off(this._handle,e.startEventName),p.off(this._handle,e.updateEventName),p.off(this._handle,e.endEventName)}_getEventNames(){var e=T(Da,"overlayDrag"),i=T(Kn,"overlayDrag"),n=T(Ra,"overlayDrag");return{startEventName:e,updateEventName:i,endEventName:n}}_dragStartHandler(e){var i=this._getAllowedOffsets();this._prevOffset={x:0,y:0},e.targetElements=[],e.maxTopOffset=i.top,e.maxBottomOffset=i.bottom,e.maxLeftOffset=i.left,e.maxRightOffset=i.right}_dragUpdateHandler(e){var i={top:e.offset.y-this._prevOffset.y,left:e.offset.x-this._prevOffset.x};this._moveByOffset(i),this._prevOffset=e.offset}_dragEndHandler(e){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(e)}_moveTo(e,i,n){if(!!this._dragEnabled){n.preventDefault(),n.stopPropagation();var r=this._fitOffsetIntoAllowedRange(e,i);this._moveByOffset(r),this._dragEndHandler(n)}}_fitOffsetIntoAllowedRange(e,i){var n=this._getAllowedOffsets();return{top:ge(e,-n.top,n.bottom),left:ge(i,-n.left,n.right)}}_getContainerDimensions(){var e=R.getDocument(),i=this._positionController.$dragResizeContainer.get(0),n=ot(i),r=st(i);return ee(i)&&(r=Math.max(e.body.clientHeight,r),n=Math.max(e.body.clientWidth,n)),{width:n,height:r}}_getContainerPosition(){var e=this._positionController.$dragResizeContainer.get(0);return ee(e)?{top:0,left:0}:Au(e)}_getElementPosition(){return Au(this._draggableElement)}_getInnerDelta(){var e=this._getContainerDimensions(),i=this._getElementDimensions();return{x:e.width-i.width,y:e.height-i.height}}_getOuterDelta(){var{width:e,height:i}=this._getElementDimensions(),n=this._positionController.outsideDragFactor;return{x:e*n,y:i*n}}_getFullDelta(){var e=this._getInnerDelta(),i=this._getOuterDelta();return{x:e.x+i.x,y:e.y+i.y}}_getElementDimensions(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}_getAllowedOffsets(){var e=this._getFullDelta(),i=e.y>=0&&e.x>=0;if(!i)return{top:0,bottom:0,left:0,right:0};var n=this._getElementPosition(),r=this._getContainerPosition(),a=this._getOuterDelta();return{top:n.top-r.top+a.y,bottom:-n.top+r.top+e.y,left:n.left-r.left+a.x,right:-n.left+r.left+e.x}}_moveByOffset(e){var i=Di(this._draggableElement),n={left:i.left+e.left,top:i.top+e.top};Lt(this._draggableElement,n)}}var Es="dx-swatch-",GC=t=>{var e=h(t),i=e.closest('[class^="'.concat(Es,'"], [class*=" ').concat(Es,'"]')),n=fi();if(!i.length)return n;var r=new RegExp("(\\s|^)(".concat(Es,".*?)(\\s|$)")),a=i[0].className.match(r)[2],s=n.children("."+a);return s.length||(s=h("<div>").addClass(a).appendTo(n)),s},qC={getSwatchContainer:GC},Rr=1500,Cn=[],XC=t=>(Rr=Bt(t,Rr),Rr),YC=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rr,e=Cn.length,i=(e?Cn[e-1]:t)+1;return Cn.push(i),i},Ih=t=>{var e=Cn.indexOf(t);e>=0&&Cn.splice(e,1)};var Th=U(),QC={observe:C,unobserve:C,disconnect:C};class ZC{constructor(){if(!M()||!Th.ResizeObserver)return QC;this._callbacksMap=new Map,this._observer=new Th.ResizeObserver(e=>{e.forEach(i=>{var n;(n=this._callbacksMap.get(i.target))===null||n===void 0||n(i)})})}observe(e,i){this._callbacksMap.set(e,i),this._observer.observe(e)}unobserve(e){this._callbacksMap.delete(e),this._observer.unobserve(e)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}}var Yr=new ZC,hr=U(),jf={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},Oh={h:0,v:0};class Dl{constructor(e){var{position:i,target:n,container:r,$root:a,$content:s,$wrapper:o,onPositioned:l,onVisualPositionChanged:u,dragOutsideBoundary:c,dragAndResizeArea:d,outsideDragFactor:f,restorePosition:m,_fixWrapperPosition:g}=e;this._props={position:i,target:n,container:r,dragOutsideBoundary:c,dragAndResizeArea:d,outsideDragFactor:f,restorePosition:m,onPositioned:l,onVisualPositionChanged:u,_fixWrapperPosition:g},this._$root=a,this._$content=s,this._$wrapper=o,this._$markupContainer=void 0,this._$wrapperCoveredElement=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this._$dragResizeContainer=void 0,this._outsideDragFactor=void 0,this.updateContainer(r),this.updatePosition(i,n),this._updateDragResizeContainer(),this._updateOutsideDragFactor()}get $container(){return this._$markupContainer}get $dragResizeContainer(){return this._$dragResizeContainer}get outsideDragFactor(){return this._outsideDragFactor}set fixWrapperPosition(e){this._props._fixWrapperPosition=e,this.styleWrapperPosition()}set dragAndResizeArea(e){this._props.dragAndResizeArea=e,this._updateDragResizeContainer()}set dragOutsideBoundary(e){this._props.dragOutsideBoundary=e,this._updateDragResizeContainer(),this._updateOutsideDragFactor()}set outsideDragFactor(e){this._props.outsideDragFactor=e,this._updateOutsideDragFactor()}set restorePosition(e){this._props.restorePosition=e}restorePositionOnNextRender(e){this._shouldRenderContentInitialPosition=e||!this._visualPosition}openingHandled(){var e=this._props.restorePosition;this.restorePositionOnNextRender(e)}dragHandled(){this.restorePositionOnNextRender(!1)}resizeHandled(){this.restorePositionOnNextRender(!1)}updateTarget(e){this._props.target=e,this.updatePosition(this._props.position,e)}updatePosition(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._props.target;this._props.position=e,this._position=this._normalizePosition(e,i),this._updateWrapperCoveredElement()}updateContainer(e){this._props.container=e;var i=e??fi(),n=this._$root.closest(i);n.length||(n=h(i).first()),this._$markupContainer=n.length?n:this._$root.parent(),this._updateWrapperCoveredElement(),this._updateDragResizeContainer()}detectVisualPositionChange(e){this._updateVisualPositionValue(),this._raisePositionedEvents(e)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(Lt(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$wrapperCoveredElement&&Nt.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$wrapperCoveredElement})}isAllWindowCoveredByWrapper(){return!this._$wrapperCoveredElement||ee(this._$wrapperCoveredElement.get(0))}styleWrapperPosition(){var e=this.isAllWindowCoveredByWrapper()||this._props._fixWrapperPosition,i=e?"fixed":"absolute";this._$wrapper.css("position",i)}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._visualPosition=Di(this._$content)}_renderContentInitialPosition(){this._renderBoundaryOffset(),Sl(this._$content);var e=this._$wrapper.css("overflow");this._$wrapper.css("overflow","hidden");var i=Nt.setup(this._$content,this._position);this._$wrapper.css("overflow",e),this._initialPosition=i,this.detectVisualPositionChange()}_raisePositionedEvents(e){var i=this._previousVisualPosition,n=this._visualPosition,r=i?.top!==n.top||i?.left!==n.left;r&&this._props.onVisualPositionChanged({previousPosition:i,position:n,event:e}),this._props.onPositioned({position:this._initialPosition})}_updateOutsideDragFactor(){this._outsideDragFactor=this._getOutsideDragFactor()}_getOutsideDragFactor(){return this._props.dragOutsideBoundary?1:this._props.outsideDragFactor}_updateDragResizeContainer(){this._$dragResizeContainer=this._getDragResizeContainer()}_getDragResizeContainer(){if(this._props.dragOutsideBoundary)return h(hr);if(this._props.dragAndResizeArea)return h(this._props.dragAndResizeArea);var e=Jd().get(0)||this._props.container;return e?this._$markupContainer:h(hr)}_updateWrapperCoveredElement(){this._$wrapperCoveredElement=this._getWrapperCoveredElement()}_renderBoundaryOffset(){var e,i=(e=this._position)!==null&&e!==void 0?e:{boundaryOffset:Oh};this._$content.css("margin","".concat(i.v,"px ").concat(i.h,"px"))}_getWrapperCoveredElement(){var e=this._props.container;if(e)return h(e);if(this._position)return h(kv(this._position.of)?hr:this._position.of||hr)}_normalizePosition(e,i){var n={of:i,boundaryOffset:Oh};return I(e)?v(!0,{},n,this._positionToObject(e)):n}_positionToObject(e){return St(e)?v({},jf[e]):e}}var JC=he.add,Bi=U(),Ah=Sa,tb="dx-overlay",eb="dx-overlay-wrapper",ib="dx-overlay-content",nb="dx-overlay-shader",rb="dx-overlay-modal",wh="dx-inner-overlay",xh="dx-state-invisible",ab="content",sb="dx-rtl",Dh=["onShowing","onShown","onHiding","onHidden","onPositioned","onResizeStart","onResize","onResizeEnd","onVisualPositionChanged"],Ro=[],Ss="dx-prevent-safari-scrolling",ob="tab";JC(()=>{p.subscribeGlobal(R.getDocument(),Et.down,t=>{for(var e=Ro.length-1;e>=0;e--)if(!Ro[e]._proxiedDocumentDownHandler(t))return})});var nn=Re.inherit({_supportedKeys:function(){return v(this.callBase(),{escape:function(){this.hide()},upArrow:t=>{this._drag.moveUp(t)},downArrow:t=>{this._drag.moveDown(t)},leftArrow:t=>{this._drag.moveLeft(t)},rightArrow:t=>{this._drag.moveRight(t)}})},_getDefaultOptions:function(){return v(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:v({},jf.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,to:{opacity:0,scale:.55},from:{opacity:1,scale:1}}},dragOutsideBoundary:!1,closeOnOutsideClick:!1,copyRootClassesToWrapper:!1,_ignoreCopyRootClassesToWrapperDeprecation:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",dragEnabled:!1,dragAndResizeArea:void 0,outsideDragFactor:0,resizeEnabled:!1,onResizeStart:null,onResize:null,onResizeEnd:null,innerOverlay:!1,restorePosition:!0,target:void 0,container:void 0,hideTopOverlayHandler:()=>{this.hide()},hideOnParentScroll:!1,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_fixWrapperPosition:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!M()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),v(this._optionsByReference,{animation:!0})},$wrapper:function(){return this._$wrapper},_eventBindingTarget:function(){return this._$content},_setDeprecatedOptions(){this.callBase(),v(this._deprecatedOptions,{elementAttr:{since:"21.2",message:'Use the "wrapperAttr" option instead'}})},ctor:function(t,e){this.callBase(t,e),e&&e.copyRootClassesToWrapper&&!e._ignoreCopyRootClassesToWrapperDeprecation&&N.log("W0001",this.NAME,"copyRootClassesToWrapper","21.2",'Use the "wrapperAttr" option instead')},_init:function(){this.callBase(),this._initActions(),this._initCloseOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=h("<div>").addClass(eb),this._$content=h("<div>").addClass(ib),this._initInnerOverlayClass();var t=this.$element();this.option("copyRootClassesToWrapper")&&this._$wrapper.addClass(t.attr("class")),t.addClass(tb),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler")),this._parentsScrollSubscriptionInfo={handler:e=>{this._targetParentsScrollHandler(e)}},this._updateResizeCallbackSkipCondition(),this.warnPositionAsFunction()},warnPositionAsFunction(){k(this.option("position"))&&N.log("W0018")},_initOptions:function(t){this._setAnimationTarget(t.target),this.callBase(t)},_initInnerOverlayClass:function(){this._$content.toggleClass(wh,this.option("innerOverlay"))},_setAnimationTarget:function(t){if(!!I(t)){var e=this.option();["animation.show.from.position.of","animation.show.to.position.of","animation.hide.from.position.of","animation.hide.to.position.of"].forEach(i=>{for(var n=i.split("."),r=e;r;)if(n.length===1){K(r)&&(r[n.shift()]=t);break}else r=r[n.shift()]})}},_initHideTopOverlayHandler:function(t){this._hideTopOverlayHandler=t},_initActions:function(){this._actions={},b(Dh,(t,e)=>{this._actions[e]=this._createActionByOption(e,{excludeValidators:["disabled","readOnly"]})||C})},_initCloseOnOutsideClickHandler:function(){var t=this;this._proxiedDocumentDownHandler=function(){return t._documentDownHandler(...arguments)}},_areContentDimensionsRendered:function(t){var e,i,n,r=(e=t.contentBoxSize)===null||e===void 0?void 0:e[0];if(r){var a,s;return parseInt(r.inlineSize,10)===((a=this._renderedDimensions)===null||a===void 0?void 0:a.width)&&parseInt(r.blockSize,10)===((s=this._renderedDimensions)===null||s===void 0?void 0:s.height)}var o=t.contentRect;return parseInt(o.width,10)===((i=this._renderedDimensions)===null||i===void 0?void 0:i.width)&&parseInt(o.height,10)===((n=this._renderedDimensions)===null||n===void 0?void 0:n.height)},_contentResizeHandler:function(t){this._shouldSkipContentResize(t)||this._renderGeometry({shouldOnlyReposition:!0})},_updateResizeCallbackSkipCondition(){var t=this._doesShowAnimationChangeDimensions();this._shouldSkipContentResize=e=>t&&this._showAnimationProcessing||this._areContentDimensionsRendered(e)},_doesShowAnimationChangeDimensions:function(){var t=this.option("animation");return["to","from"].some(e=>{var i,n=t==null||(i=t.show)===null||i===void 0?void 0:i[e];return ht(n)&&("width"in n||"height"in n)})},_observeContentResize:function(t){if(!!this.option("useResizeObserver")){var e=this._$content.get(0);t?Yr.observe(e,i=>{this._contentResizeHandler(i)}):Yr.unobserve(e)}},_initMarkup(){this.callBase(),this._renderWrapperAttributes(),this._initPositionController()},_documentDownHandler:function(t){this._showAnimationProcessing&&this._stopAnimation();var e=this.option("closeOnOutsideClick");k(e)&&(e=e(t));var i=h(Bi.document).is(t.target)||Fe(Bi.document,t.target),n=h(t.target).closest(".".concat(wh)).length,r=i&&!n&&!(this._$content.is(t.target)||Fe(this._$content.get(0),t.target));return r&&e&&this._outsideClickHandler(t),this.option("propagateOutsideClick")},_outsideClickHandler(t){this.option("shading")&&t.preventDefault(),this.hide()},_getAnonymousTemplateName:function(){return ab},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new zi}),this.callBase()},_isTopOverlay:function(){for(var t=this._overlayStack(),e=t.length-1;e>=0;e--){var i=t[e]._findTabbableBounds();if(i.first||i.last)return t[e]===this}return!1},_overlayStack:function(){return Ro},_zIndexInitValue:function(){return nn.baseZIndex()},_toggleViewPortSubscription:function(t){var e=this;Ah.remove(this._viewPortChangeHandle),t&&(this._viewPortChangeHandle=function(){e._viewPortChangeHandler(...arguments)},Ah.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._positionController.updateContainer(this.option("container")),this._refresh()},_renderWrapperAttributes(){var{wrapperAttr:t}=this.option(),e=v({},t),i=e.class;delete e.class,this.$wrapper().attr(e).removeClass(this._customWrapperClass).addClass(i),this._customWrapperClass=i},_renderVisibilityAnimate:function(t){return this._observeContentResize(t),this._stopAnimation(),t?this._show():this._hide()},_getAnimationConfig:function(){return this._getOptionValue("animation",this)},_animateShowing:function(){var t,e,i,n=this,r=(t=this._getAnimationConfig())!==null&&t!==void 0?t:{},a=this._normalizeAnimation(r.show,"to"),s=(e=a?.start)!==null&&e!==void 0?e:C,o=(i=a?.complete)!==null&&i!==void 0?i:C;this._animate(a,function(){if(!n._isAnimationPaused){n.option("focusStateEnabled")&&p.trigger(n._focusTarget(),"focus");for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];o.call(n,...u),n._showAnimationProcessing=!1,n._isHidden=!1,n._actions.onShown(),n._toggleSafariScrolling(),n._showingDeferred.resolve()}},function(){if(!n._isAnimationPaused){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];s.call(n,...u),n._showAnimationProcessing=!0}})},_show:function(){if(this._showingDeferred=new y,this._parentHidden=this._isParentHidden(),this._showingDeferred.done(()=>{delete this._parentHidden}),this._parentHidden)return this._isHidden=!0,this._showingDeferred.resolve();if(this._currentVisible)return new y().resolve().promise();if(this._currentVisible=!0,this._isHidingActionCanceled)delete this._isHidingActionCanceled,this._showingDeferred.resolve();else{var t=()=>{if(this._renderVisibility(!0),this._isShowingActionCanceled){delete this._isShowingActionCanceled,this._showingDeferred.resolve();return}this._animateShowing()};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(t)):t()}return this._showingDeferred.promise()},_normalizeAnimation:function(t,e){return t&&(t=v({type:"slide",skipElementInitialStyles:!0},t),t[e]&&typeof t[e]=="object"&&v(t[e],{position:this._positionController._position})),t},_animateHiding:function(){var t,e,i,n=this,r=(t=this._getAnimationConfig())!==null&&t!==void 0?t:{},a=this._normalizeAnimation(r.hide,"from"),s=(e=a?.start)!==null&&e!==void 0?e:C,o=(i=a?.complete)!==null&&i!==void 0?i:C;this._animate(a,function(){var l;n._$content.css("pointerEvents",""),n._renderVisibility(!1);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];o.call(n,...c),n._hideAnimationProcessing=!1,(l=n._actions)===null||l===void 0||l.onHidden(),n._hidingDeferred.resolve()},function(){n._$content.css("pointerEvents","none");for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];s.call(n,...u),n._hideAnimationProcessing=!0})},_hide:function(){if(!this._currentVisible)return new y().resolve().promise();this._currentVisible=!1,this._hidingDeferred=new y;var t={cancel:!1};return this._isShowingActionCanceled?this._hidingDeferred.resolve():(this._actions.onHiding(t),this._toggleSafariScrolling(),t.cancel?(this._isHidingActionCanceled=!0,this.option("visible",!0),this._hidingDeferred.resolve()):(this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animateHiding())),this._hidingDeferred.promise()},_forceFocusLost:function(){var t=R.getActiveElement(),e=!!this._$content.find(t).length;e&&Fn()},_animate:function(t,e,i){t?(i=i||t.start||C,Ie.animate(this._$content,v({},t,{start:i,complete:e}))):e()},_stopAnimation:function(){Ie.stop(this._$content,!0)},_renderVisibility:function(t){if(!(t&&this._isParentHidden())){if(this._currentVisible=t,this._stopAnimation(),t||Sm(this._$content),this._toggleVisibility(t),this._$content.toggleClass(xh,!t),this._updateZIndexStackPosition(t),t){this._positionController.openingHandled(),this._renderContent();var e={cancel:!1};if(this._actions.onShowing(e),e.cancel){this._toggleVisibility(!1),this._$content.toggleClass(xh,!0),this._updateZIndexStackPosition(!1),this._moveFromContainer(),this._isShowingActionCanceled=!0,this.option("visible",!1);return}this._moveToContainer(),this._renderGeometry(),rf(this._$content),Pe(this._$content)}else this._moveFromContainer();this._toggleShading(t),this._toggleSubscriptions(t)}},_updateZIndexStackPosition:function(t){var e=this._overlayStack(),i=L(this,e);t?(i===-1&&(this._zIndex=YC(this._zIndexInitValue()),e.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):i!==-1&&(e.splice(i,1),Ih(this._zIndex))},_toggleShading:function(t){this._$wrapper.toggleClass(rb,this.option("shading")&&!this.option("container")),this._$wrapper.toggleClass(nb,t&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(t&&this.option("shading"))},_initTabTerminatorHandler:function(){var t=this;this._proxiedTabTerminatorHandler=function(){t._tabKeyHandler(...arguments)}},_toggleTabTerminator:function(t){var e=T("keydown",this.NAME);t?p.on(R.getDocument(),e,this._proxiedTabTerminatorHandler):p.off(R.getDocument(),e,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var t=this._$wrapper.find("*"),e=t.length-1,i={first:null,last:null},n=0;n<=e&&(!i.first&&t.eq(n).is(Ku)&&(i.first=t.eq(n)),!i.last&&t.eq(e-n).is(Ku)&&(i.last=t.eq(e-n)),!(i.first&&i.last));n++);return i},_tabKeyHandler:function(t){if(!(le(t)!==ob||!this._isTopOverlay())){var e=this._findTabbableBounds(),i=e.first,n=e.last,r=!t.shiftKey&&t.target===n.get(0),a=t.shiftKey&&t.target===i.get(0),s=e.length===0,o=!Fe(this._$wrapper.get(0),t.target);if(r||a||s||o){t.preventDefault();var l=t.shiftKey?n:i;p.trigger(l,"focusin"),p.trigger(l,"focus")}}},_toggleSubscriptions:function(t){M()&&(this._toggleHideTopOverlayCallback(t),this._toggleParentsScrollSubscription(t))},_toggleHideTopOverlayCallback:function(t){!this._hideTopOverlayHandler||(t?yh.add(this._hideTopOverlayHandler):yh.remove(this._hideTopOverlayHandler))},_toggleParentsScrollSubscription:function(t){var e,i=T("scroll",this.NAME),{prevTargets:n,handler:r}=(e=this._parentsScrollSubscriptionInfo)!==null&&e!==void 0?e:{};p.off(n,i,r);var a=this.option("hideOnParentScroll");if(t&&a){var s=this._$wrapper.parents();B.real().deviceType==="desktop"&&(s=s.add(Bi)),p.on(s,i,r),this._parentsScrollSubscriptionInfo.prevTargets=s}},_targetParentsScrollHandler:function(t){var e=!1,i=this.option("hideOnParentScroll");k(i)&&(e=i(t)),!e&&!this._showAnimationProcessing&&this.hide()},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var t=!this._currentVisible&&this.option("deferRendering"),e=this.option("visible")&&this._isParentHidden();if(e){this._isHidden=!0;return}this._contentAlreadyRendered||t||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(this._parentHidden!==void 0)return this._parentHidden;var t=this.$element().parent();if(t.is(":visible"))return!1;var e=!1;return t.add(t.parents()).each(function(){var i=h(this);if(i.css("display")==="none")return e=!0,!1}),e||!R.getBody().contains(t.get(0))},_renderContentImpl:function(){var t=new y,e=this.option("contentTemplate"),i=this._getTemplate(e),n=this._templateManager.anonymousTemplateName===e;return i&&i.render({container:H(this.$content()),noModel:!0,transclude:n,onRendered:()=>{t.resolve()}}),this._renderDrag(),this._renderResize(),this._renderScrollTerminator(),t.done(()=>{this.option("visible")&&this._moveToContainer()}),t.promise()},_getPositionControllerConfig(){var{target:t,container:e,dragAndResizeArea:i,dragOutsideBoundary:n,outsideDragFactor:r,_fixWrapperPosition:a,restorePosition:s}=this.option();return{target:t,container:e,$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper,onPositioned:this._actions.onPositioned,onVisualPositionChanged:this._actions.onVisualPositionChanged,restorePosition:s,dragAndResizeArea:i,dragOutsideBoundary:n,outsideDragFactor:r,_fixWrapperPosition:a}},_initPositionController(){this._positionController=new Dl(this._getPositionControllerConfig())},_renderDrag:function(){var t=this._getDragTarget();if(!!t){var e={dragEnabled:this.option("dragEnabled"),handle:t.get(0),draggableElement:this._$content.get(0),positionController:this._positionController};this._drag?this._drag.init(e):this._drag=new jC(e)}},_renderResize:function(){this._resizable=this._createComponent(this._$content,Uf,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:t=>{this._resizeEndHandler(t),this._observeContentResize(!0)},onResize:t=>{this._actions.onResize(t)},onResizeStart:t=>{this._observeContentResize(!1),this._actions.onResizeStart(t)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer})},_resizeEndHandler:function(t){var e=this._resizable.option("width"),i=this._resizable.option("height");e&&this._setOptionWithoutOptionChange("width",e),i&&this._setOptionWithoutOptionChange("height",i),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(t.event),this._actions.onResizeEnd(t)},_renderScrollTerminator:function(){var t=this._$wrapper,e=T(Kn,this.NAME);p.off(t,e),p.on(t,e,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(i){i||this._toggleGestureCoverImpl(i)},_clearSelection:C,isNative:!0},i=>{var n=i.originalEvent.originalEvent,{type:r}=n||{},a=r==="wheel",s=r==="mousemove",o=a&&!_i(i);i._cancelPreventDefault=!0,n&&i.cancelable!==!1&&(!s&&!a||o)&&i.preventDefault()})},_getDragTarget:function(){return this.$content()},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._detachWrapperToContainer()},_detachWrapperToContainer:function(){this._$wrapper.detach()},_moveToContainer:function(){this._attachWrapperToContainer(),this._$content.appendTo(this._$wrapper)},_attachWrapperToContainer:function(){var t=this.$element(),e=this.option("container")!==void 0,i=e?this._positionController.$container:qC.getSwatchContainer(t);i&&i[0]===t.parent()[0]&&(i=t),this._$wrapper.appendTo(i)},_renderGeometry:function(t){var{visible:e,useResizeObserver:i}=this.option();if(e&&M()){var n=this._showAnimationProcessing,r=n&&!(t!=null&&t.forceStopAnimation)&&i;this._isAnimationPaused=r||void 0,this._stopAnimation(),t!=null&&t.shouldOnlyReposition?this._positionController.positionContent():this._renderGeometryImpl(),r&&(this._animateShowing(),this._isAnimationPaused=void 0)}},_cacheDimensions:function(){!this.option("useResizeObserver")||(this._renderedDimensions={width:parseInt(F(this._$content),10),height:parseInt(z(this._$content),10)})},_renderGeometryImpl:function(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition(),this._cacheDimensions()},_renderPosition(){this._positionController.positionContent()},_isAllWindowCovered:function(){return this._positionController.isAllWindowCoveredByWrapper()&&this.option("shading")},_toggleSafariScrolling:function(){var t=this.option("visible"),e=h(R.getBody()),i=B.real().platform==="ios"&&di.safari,n=this._isAllWindowCovered(),r=e.hasClass(Ss),a=!r&&t&&n,s=r&&(!t||!n||this._disposed);i&&(s?(e.removeClass(Ss),Bi.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):a&&(this._cachedBodyScrollTop=Bi.pageYOffset,e.addClass(Ss)))},_renderWrapper:function(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()},_renderWrapperDimensions:function(){var t,e,i=this._positionController._$wrapperCoveredElement;if(!!i){var n=this._positionController.isAllWindowCoveredByWrapper(),r=R.getDocumentElement();t=n?r.clientWidth:ot(i),e=n?Bi.innerHeight:st(i),this._$wrapper.css({width:t,height:e})}},_renderDimensions:function(){var t=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",t),maxWidth:this._getOptionValue("maxWidth",t),minHeight:this._getOptionValue("minHeight",t),maxHeight:this._getOptionValue("maxHeight",t),width:this._getOptionValue("width",t),height:this._getOptionValue("height",t)})},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardListenerId=An.on(this._$content,null,t=>this._keyboardHandler(t))},_keyboardHandler:function(t){var e=t.originalEvent,i=h(e.target);(i.is(this._$content)||!this.option("ignoreChildEvents"))&&this.callBase(...arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(t){t?this.option("visible")&&this._renderVisibilityAnimate(t):this._renderVisibilityAnimate(t)},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){this._contentAlreadyRendered||this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._observeContentResize(!1),this._cleanFocusState()},_stopShowTimer(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){Ie.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this._parentsScrollSubscriptionInfo=null,this.callBase(),this._toggleSafariScrolling(),Ih(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleRTLDirection:function(t){this._$content.toggleClass(sb,t)},_optionChanged:function(t){var e,i=t.value;if(L(t.name,Dh)>-1){this._initActions();return}switch(t.name){case"dragEnabled":this._renderDrag(),this._renderGeometry();break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"shading":this._toggleShading(this.option("visible")),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":this._renderGeometry(),(e=this._resizable)===null||e===void 0||e.option(t.name,t.value);break;case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":this._positionController.updatePosition(this.option("position")),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break;case"visible":this._renderVisibilityAnimate(i).done(()=>{!this._animateDeferred||this._animateDeferred.resolveWith(this)});break;case"target":this._positionController.updateTarget(i),this._setAnimationTarget(i),this._invalidate();break;case"container":if(this._positionController.updateContainer(i),this._invalidate(),this._toggleSafariScrolling(),this.option("resizeEnabled")){var n;(n=this._resizable)===null||n===void 0||n.option("area",this._positionController.$dragResizeContainer)}break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(t.value),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"hideOnParentScroll":this._toggleParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"propagateOutsideClick":break;case"animation":this._updateResizeCallbackSkipCondition();break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(t);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=i;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=i,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=i,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=i;break;case"restorePosition":this._positionController.restorePosition=t.value;break;default:this.callBase(t)}},toggle:function(t){t=t===void 0?!this.option("visible"):t;var e=new y;if(t===this.option("visible"))return e.resolveWith(this,[t]).promise();var i=new y;return this._animateDeferred=i,this.option("visible",t),i.promise().done(()=>{delete this._animateDeferred,e.resolveWith(this,[this.option("visible")])}),e.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return H(this._$content)},repaint:function(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),Pe(this._$content)):this.callBase()}});nn.baseZIndex=t=>XC(t);et("dxOverlay",nn);var lb="dx-loadpanel",ub="dx-loadpanel-wrapper",Rh="dx-loadpanel-indicator",Bh="dx-loadpanel-message",hb="dx-loadpanel-content",cb="dx-loadpanel-content-wrapper",db="dx-loadpanel-pane-hidden",Gf=nn.inherit({_supportedKeys:function(){return v(this.callBase(),{escape:C})},_getDefaultOptions:function(){return v(this.callBase(),{message:rt.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,resizeEnabled:!1,focusStateEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:function(){return Tt()},options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}}])},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.$element().addClass(lb),this.$wrapper().addClass(ub)},_renderContentImpl:function(){this.callBase(),this.$content().addClass(hb),this._$loadPanelContentWrapper=h("<div>").addClass(cb),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var t=this.option("delay");if(!t)return this.callBase();var e=new y,i=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(function(){i().done(function(){e.resolve()})},t),e.promise()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){if(!!this._$loadPanelContentWrapper){var t=this.option("message");if(!!t){var e=h("<div>").addClass(Bh).text(t);this._$loadPanelContentWrapper.append(e)}}},_renderLoadIndicator:function(){!this._$loadPanelContentWrapper||!this.option("showIndicator")||(this._$indicator||(this._$indicator=h("<div>").addClass(Rh).appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,Ye,{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.$content().find("."+Bh).remove(),this.$content().find("."+Rh).remove(),delete this._$indicator},_togglePaneVisible:function(){this.$content().toggleClass(db,!this.option("showPane"))},_optionChanged:function(t){switch(t.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:this.callBase(t)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}});et("dxLoadPanel",Gf);var fb=he.add,qf="DEVEXTREME_XHR_ERROR_UNLOAD",pb=function(t){return[t[0],t.length<3?"=":String(t[1]).toLowerCase(),t.length<2?!0:t[t.length-1]]},Bo=function(t){return Array.isArray(t)||(t=[t]),De(t,function(e){var i={selector:k(e)||typeof e=="string"?e:e.getter||e.field||e.selector,desc:!!(e.desc||String(e.dir).charAt(0).toLowerCase()==="d")};return e.compare&&(i.compare=e.compare),i})},_b=function(){var t={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},e;return fb(function(){var i=U();R.listen(i,"beforeunload",function(){e=!0})}),function(i,n){return e?qf:i.status<400?function(r){var a=t[r];return a||r}(n):i.statusText}}(),vb={count:{seed:0,step:function(t){return 1+t}},sum:{seed:0,step:function(t,e){return t+e}},min:{step:function(t,e){return e<t?e:t}},max:{step:function(t,e){return e>t?e:t}},avg:{seed:[0,0],step:function(t,e){return[t[0]+e,t[1]+1]},finalize:function(t){return t[1]?t[0]/t[1]:NaN}}},mb=function(){var t=0,e;return{obtain:function(){t===0&&(e=new y),t++},release:function(){t--,t<1&&e.resolve()},promise:function(){var i=t===0?new y().resolve():e;return i.promise()},reset:function(){t=0,e&&e.resolve()}}}();function gb(t){return/^(and|&&|&)$/i.test(t)}var $a=function(t,e,i){if(Array.isArray(t)){for(var n=De(e,function(s,o){return o}),r,a=0;a<n.length;a++)if(r=n[a],!qi(e[r],i[r],0,!1))return!1;return!0}return qi(e,i,0,!1)};var Cb=function(t){return t[0]==="!"&&Array.isArray(t[1])},bb=function(t){return t==="and"||t==="or"},Eb=function(t){var e=t[0],i=t[1];return!!(Array.isArray(e)||k(e)&&(Array.isArray(i)||k(i)||bb(i)))},Ki=function(){var t=new y;return t.resolve.apply(t,arguments).promise()},Xf=function(){var t=new y;return t.reject.apply(t,arguments).promise()};function Sb(t,e){var i,n;return function(){return n=arguments,i||(i=setTimeout(()=>{i=void 0,n&&t.call(this,n)},k(e)?e():e)),i}}function yb(t,e){var i=[],n=Sb(function(){t.call(this,i),i=[]},e);return function(r){return Array.isArray(r)&&i.push(...r),n.call(this,i)}}var Ct=Ud(N.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"}),Ib=null,Rl=function(t){var e;(e=Ib)===null||e===void 0||e(t)};var Un=W.inherit({toArray:function(){var t=[];for(this.reset();this.next();)t.push(this.current());return t},countable:function(){return!1}}),Bl=Un.inherit({ctor:function(t){this.array=t,this.index=-1},next:function(){return this.index+1<this.array.length?(this.index++,!0):!1},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),La=Un.inherit({ctor:function(t){this.iter=t},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),ys=La.inherit({ctor:function(t,e){this.callBase(t),this.index=-1,this.mapper=e},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var t=this.callBase();return t&&this.index++,t}}),Tb=function(t,e){return t=It(t),e=It(e),t===null&&e!==null?-1:t!==null&&e===null||t===void 0&&e!==void 0?1:t!==void 0&&e===void 0||t<e?-1:t>e?1:0},$o=Un.inherit({ctor:function(t,e,i,n){t instanceof ys||(t=new ys(t,this._wrap)),this.iter=t,this.rules=[{getter:e,desc:i,compare:n}]},thenBy:function(t,e,i){var n=new $o(this.sortedIter||this.iter,t,e,i);return this.sortedIter||(n.rules=this.rules.concat(n.rules)),n},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var t=this;t.sortedIter||(b(t.rules,function(){this.getter=At(this.getter)}),t.sortedIter=new ys(new Bl(this.iter.toArray().sort(function(e,i){return t._compare(e,i)})),t._unwrap))},_wrap:function(t,e){return{index:e,value:t}},_unwrap:function(t){return t.value},_compare:function(t,e){var i=t.index,n=e.index;if(t=t.value,e=e.value,t===e)return i-n;for(var r=0,a=this.rules.length;r<a;r++){var s=this.rules[r],o=s.getter(t),l=s.getter(e),u=s.compare||Tb,c=u(o,l);if(c)return s.desc?-c:c}return i-n}}),Lo=function(){var t=function(i){return I(i)?i.toString():""};function e(i,n,r){return function(a){a=It(i(a));var s=function(o){return o===""||o===0||o===!1}(n)?a===n:a==n;return r&&(s=!s),s}}return function(i){return k(i)?i:Eb(i)?function(n){var r=[],a=!1,s=!1;return b(n,function(){if(Array.isArray(this)||k(this)){if(r.length>1&&a!==s)throw new Ct.Error("E4019");r.push(Lo(this)),a=s,s=!0}else s=gb(this)}),function(o){for(var l=a,u=0;u<r.length;u++)if(r[u](o)!==a){l=!a;break}return l}}(i):Cb(i)?function(n){var r=n[0],a=Lo(n[1]);if(r==="!")return function(s){return!a(s)};throw Ct.Error("E4003",r)}(i):function(n){n=pb(n);var r=At(n[0]),a=n[1],s=n[2];switch(s=It(s),a.toLowerCase()){case"=":return e(r,s);case"<>":return e(r,s,!0);case">":return function(o){return It(r(o))>s};case"<":return function(o){return It(r(o))<s};case">=":return function(o){return It(r(o))>=s};case"<=":return function(o){return It(r(o))<=s};case"startswith":return function(o){return It(t(r(o))).indexOf(s)===0};case"endswith":return function(o){var l=It(t(r(o))),u=t(s);if(l.length<u.length)return!1;var c=l.lastIndexOf(s);return c!==-1&&c===l.length-s.length};case"contains":return function(o){return It(t(r(o))).indexOf(s)>-1};case"notcontains":return function(o){return It(t(r(o))).indexOf(s)===-1}}throw Ct.Error("E4003",a)}(i)}}(),Ob=La.inherit({ctor:function(t,e){this.callBase(t),this.criteria=Lo(e)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),Ab=Un.inherit({ctor:function(t,e){this.iter=t,this.getter=e},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var t={},e=[],i=this.iter,n=At(this.getter);for(i.reset();i.next();){var r=i.current(),a=n(r);a in t?t[a].push(r):(t[a]=[r],e.push(a))}this.groupedIter=new Bl(De(e,function(s){return{key:s,items:t[s]}}))}}}),wb=La.inherit({ctor:function(t,e){this.callBase(t),this.getter=At(e)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),xb=La.inherit({ctor:function(t,e,i){this.callBase(t),this.skip=Math.max(0,e),this.take=Math.max(0,i),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}}),ka=function t(e,i){i=i||{},e instanceof Un||(e=new Bl(e));var n=function(u){var c=i.errorHandler;c&&c(u),Rl(u)},r=function(u){var c=new y().fail(n),d,f=u.step,m=u.finalize;try{e.reset(),"seed"in u?d=u.seed:d=e.next()?e.current():NaN;for(var g=d;e.next();)g=f(g,e.current());c.resolve(m?m(g):g)}catch(x){c.reject(x)}return c.promise()},a=function(u){return r(vb[u])},s=function(u){return!k(u)&&!Array.isArray(u)&&(u=[].slice.call(arguments)),l(new wb(e,u))},o=function(u){return s(At(u))};function l(u){return t(u,i)}return{toArray:function(){return e.toArray()},enumerate:function(){var u=new y().fail(n);try{u.resolve(e.toArray())}catch(c){u.reject(c)}return u.promise()},sortBy:function(u,c,d){return l(new $o(e,u,c,d))},thenBy:function(u,c,d){if(e instanceof $o)return l(e.thenBy(u,c,d));throw Ct.Error("E4004")},filter:function(u){return Array.isArray(u)||(u=[].slice.call(arguments)),l(new Ob(e,u))},slice:function(u,c){return c===void 0&&(c=Number.MAX_VALUE),l(new xb(e,u,c))},select:s,groupBy:function(u){return l(new Ab(e,u))},aggregate:function(u,c,d){return arguments.length<2?r({step:arguments[0]}):r({seed:u,step:c,finalize:d})},count:function(){if(e.countable()){var u=new y().fail(n);try{u.resolve(e.count())}catch(c){u.reject(c)}return u.promise()}return a("count")},sum:function(u){return u?o(u).sum():a("sum")},min:function(u){return u?o(u).min():a("min")},max:function(u){return u?o(u).max():a("max")},avg:function(u){return u?o(u).avg():a("avg")}}};function $l(t,e){return t=t.groupBy(e[0].selector),e.length>1&&(t=t.select(function(i){return v({},i,{items:$l(ka(i.items),e.slice(1)).toArray()})})),t}function Yf(t,e){var i=[];return b(t,function(n,r){var a=be(e,function(s){return r.selector===s.selector});a.length<1&&i.push(r)}),i.concat(e)}function Db(t,e,i){e=e||{};var n=e.filter;if(n&&(t=t.filter(n)),i)return t;var r=e.sort,a=e.select,s=e.group,o=e.skip,l=e.take;return s&&(s=Bo(s),s.keepInitialKeyOrder=!!e.group.keepInitialKeyOrder),(r||s)&&(r=Bo(r||[]),s&&!s.keepInitialKeyOrder&&(r=Yf(s,r)),b(r,function(u){t=t[u?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),a&&(t=t.select(a)),s&&(t=$l(t,s)),(l||o)&&(t=t.slice(o||0,l)),t}var Qr={multiLevelGroup:$l,arrangeSortingInfo:Yf,queryByOptions:Db},un=W.abstract,$h=Qr.queryByOptions,ko={},Ui=W.inherit({ctor:function(t){var e=this;t=t||{},this._eventsStrategy=new Ti(this),b(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],function(i,n){n in t&&e.on(n.slice(2).toLowerCase(),t[n])}),this._key=t.key,this._errorHandler=t.errorHandler,this._useDefaultSearch=!0},_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(t){return this._keyGetter||(this._keyGetter=At(this.key())),this._keyGetter(t)},_requireKey:function(){if(!this.key())throw Ct.Error("E4005")},load:function(t){var e=this;return t=t||{},this._eventsStrategy.fireEvent("loading",[t]),this._withLock(this._loadImpl(t)).done(function(i){e._eventsStrategy.fireEvent("loaded",[i,t])})},_loadImpl:function(t){return $h(this.createQuery(t),t).enumerate()},_withLock:function(t){var e=new y;return t.done(function(){var i=this,n=arguments;mb.promise().done(function(){e.resolveWith(i,n)})}).fail(function(){e.rejectWith(this,arguments)}),e},createQuery:un,totalCount:function(t){return this._totalCountImpl(t)},_totalCountImpl:function(t){return $h(this.createQuery(t),t,!0).count()},byKey:function(t,e){return this._addFailHandlers(this._withLock(this._byKeyImpl(t,e)))},_byKeyImpl:un,insert:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("inserting",[t]),e._addFailHandlers(e._insertImpl(t).done(function(i,n){e._eventsStrategy.fireEvent("inserted",[i,n]),e._eventsStrategy.fireEvent("modified")}))},_insertImpl:un,update:function(t,e){var i=this;return i._eventsStrategy.fireEvent("modifying"),i._eventsStrategy.fireEvent("updating",[t,e]),i._addFailHandlers(i._updateImpl(t,e).done(function(){i._eventsStrategy.fireEvent("updated",[t,e]),i._eventsStrategy.fireEvent("modified")}))},_updateImpl:un,push:function(t){var e={changes:t,waitFor:[]};this._eventsStrategy.fireEvent("beforePush",[e]),lt(...e.waitFor).done(()=>{this._pushImpl(t),this._eventsStrategy.fireEvent("push",[t])})},_pushImpl:C,remove:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("removing",[t]),e._addFailHandlers(e._removeImpl(t).done(function(i){e._eventsStrategy.fireEvent("removed",[i]),e._eventsStrategy.fireEvent("modified")}))},_removeImpl:un,_addFailHandlers:function(t){return t.fail(this._errorHandler).fail(Rl)},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}});Ui.create=function(t,e){if(!(t in ko))throw Ct.Error("E4020",t);return new ko[t](e)};Ui.registerClass=function(t,e){return e&&(ko[e]=t),t};Ui.inherit=function(t){return function(e,i){var n=t.apply(this,[e]);return Ui.registerClass(n,i),n}}(Ui.inherit);var Pa=Ui;function Rb(t,e){for(var i,n=typeof e=="string"?e.split():e.slice();n.length;)if(i=n.shift(),i in t)return!0;return!1}function Qf(t,e,i,n){var r,a;if(n){for(var s=0;s<e.length;s++)if(r=e[s].items||e[s].collapsedItems||[],a=Qf(t,r||[],i,n-1),a)return a}else if(mi(t,e,i)>=0)return e}function Bb(t,e,i,n){return n?Qf(t,e,i,n)||[]:e}function $b(t,e){if(t.key()&&(!e._dataByKeyMap||e._dataByKeyMapLength!==e.length)){for(var i={},n=e.length,r=0;r<n;r++)i[JSON.stringify(t.keyOf(e[r]))]=e[r];e._dataByKeyMap=i,e._dataByKeyMapLength=n}}function Lb(t,e){if(t._dataByKeyMap)return t._dataByKeyMap[JSON.stringify(e)]}function kb(t,e){return t._dataByKeyMap?t._dataByKeyMap[JSON.stringify(e)]:!0}function Zf(t,e,i){t._dataByKeyMap&&(t._dataByKeyMap[JSON.stringify(e)]=i,t._dataByKeyMapLength+=i?1:-1)}function Jf(t,e){e=e||new WeakMap;var i=t?Object.create(Object.getPrototypeOf(t)):{};t&&e.set(t,i);var n=jd({},t);for(var r in n){var a=n[r];ht(a)&&!K(a)&&!e.has(a)&&(n[r]=Jf(a,e))}nl(i,n,!0,!0);for(var s in i){var o=i[s];ht(o)&&e.has(o)&&(i[s]=e.get(o))}return i}function Pb(t,e){var i=Jf(t);return nl(i,e,!0,!0)}function Ll(t){var{keyInfo:e,data:i,changes:n,groupCount:r,useInsertIndex:a,immutable:s,disableCache:o,logError:l}=t,u=s===!0?[...i]:i;return n.forEach(c=>{var d=c.type==="insert"?u:Bb(e,u,c.key,r);switch(!o&&$b(e,d),c.type){case"update":kl(e,d,c.key,c.data,!0,s,l);break;case"insert":Pl(e,d,c.data,a&&I(c.index)?c.index:-1,!0,l);break;case"remove":tp(e,d,c.key,!0,l)}}),u}function Zr(t,e,i){return t?e&&Ct.log(i):Xf(Ct.Error(i))}function kl(t,e,i,n,r,a,s){var o,l=t.key();if(l){if(Rb(n,l)&&!$a(l,i,t.keyOf(n)))return Zr(r,s,"E4017");if(o=Lb(e,i),!o){var u=mi(t,e,i);if(u<0)return Zr(r,s,"E4009");if(o=e[u],a===!0&&I(o)){var c=Pb(o,n);return e[u]=c,!r&&Ki(c,i)}}}else o=i;if(nl(o,n,!0),!r)return $t().useLegacyStoreResult?Ki(i,n):Ki(o,i)}function Pl(t,e,i,n,r,a){var s,o=t.key(),l=K(i)?v({},i):i;if(o){if(s=t.keyOf(l),s===void 0||typeof s=="object"&&Nd(s)){if(Array.isArray(o))throw Ct.Error("E4007");s=l[o]=String(new Ae)}else if(e[mi(t,e,s)]!==void 0)return Zr(r,a,"E4008")}else s=l;if(n>=0?e.splice(n,0,l):e.push(l),Zf(e,s,l),!r)return Ki($t().useLegacyStoreResult?i:l,s)}function tp(t,e,i,n,r){var a=mi(t,e,i);if(a>-1&&(e.splice(a,1),Zf(e,i,null)),n){if(a<0)return Zr(n,r,"E4009")}else return Ki(i)}function mi(t,e,i){var n=t.key();if(!kb(e,i))return-1;for(var r=0,a=e.length;r<a;r++)if($a(n,t.keyOf(e[r]),i))return r;return-1}var ep="totalCount",Po="load",ip="byKey",Lh="insert",kh="update",Ph="remove";function ji(t){return t&&k(t.then)}function oi(t){return new y().resolve(t).promise()}function bn(t,e){if(!k(e))throw Ct.Error("E4011",t)}function np(t){throw Ct.Error("E4012",t)}function ii(t){function e(i){var n=i[0],r=i[1];return!n||!n.getResponseHeader?null:_b(n,r)}return function(i){var n;i instanceof Error?n=i:n=new Error(e(arguments)||i&&String(i)||"Unknown error"),n.message!==qf&&t.reject(n)}}function rp(t,e){var i=t._loadFunc,n;return bn(Po,i),n=i.apply(t,[e]),Array.isArray(n)?n=oi(n):n==null?n=oi([]):ji(n)||np(Po),Ee(n)}function Mb(t,e){var i=t._totalCountFunc,n;if(!k(i))throw Ct.Error("E4021");return n=i.apply(t,[e]),ji(n)||(n=Number(n),isFinite(n)||np(ep),n=oi(n)),Ee(n)}function Vb(t,e,i){var n=t._byKeyFunc,r;return bn(ip,n),r=n.apply(t,[e,i]),ji(r)||(r=oi(r)),Ee(r)}function ap(t,e,i,n){if(e.__rawData)n(e.__rawData);else{var r=e.__rawDataPromise||rp(e,i);e._cacheRawData&&(e.__rawDataPromise=r),r.always(function(){delete e.__rawDataPromise}).done(function(a){e._cacheRawData&&(e.__rawData=a),n(a)}).fail(ii(t))}}function Mh(t,e,i,n){i=i||{};var r={};"userData"in i&&(r.userData=i.userData),ap(t,e,r,function(a){var s=ka(a,{errorHandler:e._errorHandler}),o,l,u=[],c,d;n||(o=Qr.queryByOptions(s,i),o===s?c=a.slice(0):u.push(o.enumerate().done(function(f){c=f}))),(i.requireTotalCount||n)&&(l=Qr.queryByOptions(s,i,!0),l===s?d=a.length:u.push(l.count().done(function(f){d=f}))),lt.apply(h,u).done(function(){n?t.resolve(d):i.requireTotalCount?t.resolve(c,{totalCount:d}):t.resolve(c)}).fail(function(f){t.reject(f)})})}function Hb(t,e,i){ap(t,e,{},function(n){for(var r=e.key(),a,s=0,o=n.length;s<o;s++)if(a=n[s],$a(r,e.keyOf(n[s]),i)){t.resolve(a);return}t.reject(Ct.Error("E4009"))})}var Jr=Pa.inherit({ctor:function(t){t=t||{},this.callBase(t),this._useDefaultSearch=!!t.useDefaultSearch||t.loadMode==="raw",this._loadMode=t.loadMode,this._cacheRawData=t.cacheRawData!==!1,this._loadFunc=t[Po],this._totalCountFunc=t[ep],this._byKeyFunc=t[ip],this._insertFunc=t[Lh],this._updateFunc=t[kh],this._removeFunc=t[Ph]},createQuery:function(){throw Ct.Error("E4010")},clearRawDataCache:function(){delete this.__rawData},_totalCountImpl:function(t){var e=new y;return this._loadMode==="raw"&&!this._totalCountFunc?Mh(e,this,t,!0):(Mb(this,t).done(function(i){e.resolve(Number(i))}).fail(ii(e)),e=this._addFailHandlers(e)),e.promise()},_pushImpl:function(t){this.__rawData&&Ll({keyInfo:this,data:this.__rawData,changes:t})},_loadImpl:function(t){var e=new y;return this._loadMode==="raw"?Mh(e,this,t,!1):(rp(this,t).done(function(i,n){e.resolve(i,n)}).fail(ii(e)),e=this._addFailHandlers(e)),e.promise()},_byKeyImpl:function(t,e){var i=new y;return this._byKeyViaLoad()?(this._requireKey(),Hb(i,this,t)):Vb(this,t,e).done(function(n){i.resolve(n)}).fail(ii(i)),i.promise()},_byKeyViaLoad:function(){return this._loadMode==="raw"&&!this._byKeyFunc},_insertImpl:function(t){var e=this,i=e._insertFunc,n,r=new y;return bn(Lh,i),n=i.apply(e,[t]),ji(n)||(n=oi(n)),Ee(n).done(function(a){$t().useLegacyStoreResult?r.resolve(t,a):r.resolve(a||t,e.keyOf(a))}).fail(ii(r)),r.promise()},_updateImpl:function(t,e){var i=this._updateFunc,n,r=new y;return bn(kh,i),n=i.apply(this,[t,e]),ji(n)||(n=oi(n)),Ee(n).done(function(a){$t().useLegacyStoreResult?r.resolve(t,e):r.resolve(a||e,t)}).fail(ii(r)),r.promise()},_removeImpl:function(t){var e=this._removeFunc,i,n=new y;return bn(Ph,e),i=e.apply(this,[t]),ji(i)||(i=oi()),Ee(i).done(function(){n.resolve(t)}).fail(ii(n)),n.promise()}});function sp(t){var e=[],i=!1;function n(){for(;e.length;){i=!0;var r=e.shift(),a=r();if(a!==void 0){if(a.then){lt(a).always(n);return}throw N.Error("E0015")}}i=!1}return{add:function(r,a){t?(e[0]&&a&&a(e[0]),e=[r]):e.push(r),i||n()},busy:function(){return i}}}var _B=sp().add;function kt(t,e){if(t==null)return{};var i={},n=Object.keys(t),r,a;for(a=0;a<n.length;a++)r=n[a],!(e.indexOf(r)>=0)&&(i[r]=t[r]);return i}var Fb=U(),Nb={getXhr:function(){return new Fb.XMLHttpRequest}},Wb=ga(Nb),Ml=U(),En="success",Is="error",zb="timeout",Kb="nocontent",Ub="parsererror",jb=function(t){return 200<=t&&t<300},Gb=function(t){return t!==204},qb=function(t){var e=[];for(var i in t){var n=t[i];n!==void 0&&(n===null&&(n=""),typeof n=="function"&&(n=n()),e.push(encodeURIComponent(i)+"="+encodeURIComponent(n)))}return e.join("&")},op=function(t){var e=R.createElement("script");for(var i in t)e[i]=t[i];return e},lp=function(t){t.parentNode.removeChild(t)},up=function(t){return R.getHead().appendChild(t)},Vh=function(t){var e=op({text:t});up(e),lp(e)},Xb=function(t){var e=op({src:t});return new si(function(i,n){var r={load:i,error:n},a=function(o){r[o.type](),lp(e)};for(var s in r)R.listen(e,s,a);up(e)})},Yb=function(t){var e=t.dataType||"*",i="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",n={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:i,script:i};return jd(n,t.accepts,!0),n[e]?n[e]+(e!=="*"?", */*; q=0.01":""):n["*"]},Qb=function(t){var e;return t.data&&!t.upload&&Vl(t)!=="GET"&&(e="application/x-www-form-urlencoded;charset=utf-8"),t.contentType||e},Zb=function(t){return t.responseType&&t.responseType!=="text"||typeof t.responseText!="string"?t.response:t.responseText},Jb=function(t,e,i){var n=Zb(e);switch(i){case"jsonp":Vh(n);break;case"script":Vh(n),t.resolve(n,En,e);break;case"json":try{t.resolve(JSON.parse(n),En,e)}catch(r){t.reject(e,Ub,r)}break;default:t.resolve(n,En,e)}},tE=function(t){if(!M())return!0;var e=!1,i=R.createElement("a"),n=R.createElement("a");i.href=Ml.location.href;try{n.href=t,n.href=n.href,e=i.protocol+"//"+i.host!=n.protocol+"//"+n.host}catch{e=!0}return e},eE=function(t,e){return t&&setTimeout(function(){e.customStatus=zb,e.abort()},t)},iE=function(t){if(t.dataType==="jsonp"){var e=Math.random().toString().replace(/\D/g,""),i=t.jsonpCallback||"dxCallback"+Date.now()+"_"+e,n=t.jsonp||"callback";return t.data=t.data||{},t.data[n]=i,i}},nE=function(t,e){var i=t.data,n=typeof i=="string",r=t.url||Ml.location.href;return!n&&!t.cache&&(i=i||{},i._=Date.now()),i&&!t.upload&&(n||(i=qb(i)),Vl(t)==="GET"?(i!==""&&(r+=(r.indexOf("?")>-1?"&":"?")+i),i=null):e["Content-Type"]&&e["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(i=i.replace(/%20/g,"+"))),{url:r,parameters:i}};function Vl(t){return(t.method||"GET").toUpperCase()}var rE=function(t){var e=t.headers||{};return e["Content-Type"]=e["Content-Type"]||Qb(t),e.Accept=e.Accept||Yb(t),!t.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest"),e},aE=function(t){var e=Wb.getXhr(),i=new y,n=i.promise(),r=I(t.async)?t.async:!0,a=t.dataType,s=t.timeout||0,o;t.crossDomain=tE(t.url);var l=a==="jsonp"||a==="script";t.cache===void 0&&(t.cache=!l);var u=iE(t),c=rE(t),d=nE(t,c),f=d.url,m=d.parameters;if(u&&(Ml[u]=function(E){i.resolve(E,En,e)}),t.crossDomain&&l)return Xb(f).then(function(){a!=="jsonp"&&i.resolve(null,En,e)},function(){i.reject(e,Is)}),n;if(t.crossDomain&&!("withCredentials"in e))return i.reject(e,Is),n;if(e.open(Vl(t),f,r,t.username,t.password),r&&(e.timeout=s,o=eE(s,e,i)),e.onreadystatechange=function(E){e.readyState===4&&(clearTimeout(o),jb(e.status)?Gb(e.status)?Jb(i,e,a):i.resolve(null,Kb,e):i.reject(e,e.customStatus||Is))},t.upload&&(e.upload.onprogress=t.upload.onprogress,e.upload.onloadstart=t.upload.onloadstart,e.upload.onabort=t.upload.onabort),t.xhrFields)for(var g in t.xhrFields)e[g]=t.xhrFields[g];t.responseType==="arraybuffer"&&(e.responseType=t.responseType);for(var x in c)Object.prototype.hasOwnProperty.call(c,x)&&I(c[x])&&e.setRequestHeader(x,c[x]);return t.beforeSend&&t.beforeSend(e),e.send(m),n.abort=function(){e.abort()},n},sE=ga({sendRequest:aE}),oE={},lE=function t(e,i,n){n=n||[],i=i||{};var r=function(o,l){return{name:o,args:l}},a=function(o){var l=new y,u,c,d,f,m,g=function(w){var D=i.errorHandler;D&&D(w),Rl(w),l.reject(w)};function x(w){switch(w.name){case"sortBy":return m=[w.args],!0;case"thenBy":if(!m)throw Ct.Error("E4004");return m.push(w.args),!0}return!1}try{u=i.adapter,k(u)||(u=oE[u]),c=u(i),d=[].concat(n).concat(o);var E=c.optimize;for(E&&E(d);d.length;){if(f=d[0],!x(f)){if(m){d.unshift(r("multiSort",[m])),m=null;continue}if(String(f.name)!=="enumerate"&&(!c[f.name]||c[f.name].apply(c,f.args)===!1))break}d.shift()}(function(){var w=d[0],D=[];w&&w.name==="multiSort"&&(d.shift(),b(w.args[0],function(){D.push(r(D.length?"thenBy":"sortBy",this))})),d=D.concat(d)})(),c.exec(e).done(function(w,D){if(!d.length)l.resolve(w,D);else{var j=ka(w,{errorHandler:i.errorHandler});b(d,function(){j=j[this.name].apply(j,this.args)}),j.done(l.resolve).fail(l.reject)}}).fail(g)}catch(w){g(w)}return l.promise()},s={};return b(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var o=String(this);s[o]=function(){return t(e,i,n.concat(r(o,arguments)))}}),b(["count","min","max","sum","avg","aggregate","enumerate"],function(){var o=String(this);s[o]=function(){return a.call(this,r(o,arguments))}}),s},uE={array:ka,remote:lE},gi=function(){var t=Array.isArray(arguments[0])?"array":"remote";return uE[t].apply(this,arguments)},hp=Pa.inherit({ctor:function(t){Array.isArray(t)?t={data:t}:t=t||{},this.callBase(t);var e=t.data;if(e&&!Array.isArray(e))throw Ct.Error("E4006");this._array=e||[]},createQuery:function(){return gi(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(t){var e=mi(this,this._array,t);return e===-1?Xf(Ct.Error("E4009")):Ki(this._array[e])},_insertImpl:function(t){return Pl(this,this._array,t)},_pushImpl:function(t){Ll({keyInfo:this,data:this._array,changes:t})},_updateImpl:function(t,e){return kl(this,this._array,t,e)},_removeImpl:function(t){return tp(this,this._array,t)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array"),hE=["items"],cp="canceled",Hh=t=>t.state()==="pending",Fh=t=>{switch(t.length){case 0:return;case 1:return t[0]}return[].slice.call(t)},cE=(t,e,i)=>De(t,n=>{var r=kt(n,hE);return A({},r,{items:dp(n.items,e-1,i)})}),dp=(t,e,i)=>Array.isArray(t)?e?cE(t,e,i):De(t,i):t,dE=(t,e,i)=>{var n=i?Bo(i).length:0;return dp(t,n,e)},fp=(t,e)=>{var i;return(i=t)!==null&&i!==void 0&&i.data&&(e=t,t=t.data),Array.isArray(t)||(t=[t]),{data:t,extra:e}},fE=t=>{var e={};return b(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){e[this]=t[this],delete t[this]}),new Jr(e)},pE=t=>{var e=t.type;return delete t.type,Pa.create(e,t)},_E=(t,e)=>new Jr({load:()=>sE.sendRequest({url:t,dataType:"json"}),loadMode:e?.fromUrlLoadMode}),pp=(t,e)=>{var i;return typeof t=="string"&&(t={paginate:!1,store:_E(t,e)}),t===void 0&&(t=[]),Array.isArray(t)||t instanceof Pa?t={store:t}:t=v({},t),t.store===void 0&&(t.store=[]),i=t.store,"load"in t?i=fE(t):Array.isArray(i)?i=new hp(i):K(i)&&(i=pE(v({},i))),t.store=i,t};class vE{constructor(){this._counter=-1,this._deferreds={}}add(e){return this._counter++,this._deferreds[this._counter]=e,this._counter}remove(e){return delete this._deferreds[e]}cancel(e){return e in this._deferreds?(this._deferreds[e].reject(cp),!0):!1}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}var ta=W.inherit({ctor(t){var e;t=pp(t),this._eventsStrategy=new Ti(this,{syncStrategy:!0}),this._store=t.store,this._changedTime=0;var i=t.pushAggregationTimeout!==0;if(i){var n=t.pushAggregationTimeout===void 0?()=>5*this._changedTime:t.pushAggregationTimeout,r,a,s=yb(o=>{r.resolve();var l=lt(...a);l.done(()=>this._onPush(o)),a=void 0,r=void 0},n);this._onPushHandler=o=>{this._aggregationTimeoutId=s(o.changes),r||(r=new y),a=o.waitFor,o.waitFor.push(r.promise())},this._store.on("beforePush",this._onPushHandler)}else this._onPushHandler=o=>this._onPush(o),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(t),this._mapFunc=t.map,this._postProcessFunc=t.postProcess,this._pageIndex=t.pageIndex!==void 0?t.pageIndex:0,this._pageSize=t.pageSize!==void 0?t.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in t?t.searchValue:null,this._searchOperation=t.searchOperation||"contains",this._searchExpr=t.searchExpr,this._paginate=t.paginate,this._reshapeOnPush=(e=t.reshapeOnPush)!==null&&e!==void 0?e:!1,b(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(o,l)=>{l in t&&this.on(l.substr(2,1).toLowerCase()+l.substr(3),t[l])}),this._operationManager=new vE,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,I(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var t;this._store.off("beforePush",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),(t=this._delayedLoadTask)===null||t===void 0||t.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(t){var e={},i=["sort","filter","select","group","requireTotalCount"],n=this._store._customLoadOptions();return n&&(i=i.concat(n)),b(i,function(){e[this]=t[this]}),e},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(t){if(!ai(t))return this._pageIndex;this._pageIndex=t,this._isLastPage=!this._paginate},paginate(t){if(!oo(t))return this._paginate;this._paginate!==t&&(this._paginate=t,this.pageIndex(0))},pageSize(t){if(!ai(t))return this._pageSize;this._pageSize=t},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(t){return e=>{var i=Fh(e);if(i===void 0)return this._storeLoadOptions[t];this._storeLoadOptions[t]=i}},sort(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.generateStoreLoadOptionAccessor("sort")(e)},filter(){var t=Fh(arguments);if(t===void 0)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=t,this.pageIndex(0)},group(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.generateStoreLoadOptionAccessor("group")(e)},select(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.generateStoreLoadOptionAccessor("select")(e)},requireTotalCount(t){if(!oo(t))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=t},searchValue(t){if(arguments.length<1)return this._searchValue;this._searchValue=t,this.pageIndex(0)},searchOperation(t){if(!St(t))return this._searchOperation;this._searchOperation=t,this.pageIndex(0)},searchExpr(t){var e=arguments.length;if(e===0)return this._searchExpr;e>1&&(t=[].slice.call(arguments)),this._searchExpr=t,this.pageIndex(0)},store(){return this._store},key(){var t;return(t=this._store)===null||t===void 0?void 0:t.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>sp(),_changeLoadingCount(t){var e=this.isLoading();this._loadingCount+=t;var i=this.isLoading();e^i&&this._eventsStrategy.fireEvent("loadingChanged",[i])},_scheduleLoadCallbacks(t){this.beginLoading(),t.always(()=>{this.endLoading()})},_scheduleFailCallbacks(t){var e=this;t.fail(function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];n[0]!==cp&&e._eventsStrategy.fireEvent("loadError",n)})},_fireChanged(t){var e=new Date;this._eventsStrategy.fireEvent("changed",t),this._changedTime=new Date-e},_scheduleChangedCallbacks(t){t.done(()=>this._fireChanged())},loadSingle(t,e){var i=new y,n=this.key(),r=this._store,a=this._createStoreLoadOptions();return this._scheduleFailCallbacks(i),arguments.length<2&&(e=t,t=n),delete a.skip,delete a.group,delete a.refresh,delete a.pageIndex,delete a.searchString,(()=>t===n||r instanceof Jr&&!r._byKeyViaLoad()?r.byKey(e,a):(a.take=1,a.filter=a.filter?[a.filter,[t,e]]:[t,e],r.load(a)))().fail(i.reject).done(s=>{!I(s)||Pv(s)?i.reject(new Ct.Error("E4009")):(Array.isArray(s)||(s=[s]),i.resolve(this._applyMapFunction(s)[0]))}),i.promise()},load(){var t=new y,e=()=>{if(!this._disposed&&!!Hh(t))return this._loadFromStore(i,t)};this._scheduleLoadCallbacks(t),this._scheduleFailCallbacks(t),this._scheduleChangedCallbacks(t);var i=this._createLoadOperation(t);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[i]),this._loadQueue.add(()=>(typeof i.delay=="number"?this._delayedLoadTask=Gd(e,i.delay):e(),t.promise())),t.promise({operationId:i.operationId})},_onPush(t){if(this._reshapeOnPush)this.load();else{this._eventsStrategy.fireEvent("changing",[{changes:t}]);var e=this.group(),i=this.items(),n=0,r=this.paginate()||e?t.filter(a=>a.type==="update"):t;e&&(n=Array.isArray(e)?e.length:1),this._mapFunc&&r.forEach(a=>{a.type==="insert"&&(a.data=this._mapFunc(a.data))}),Ll({keyInfo:this.store(),data:i,changes:r,groupCount:n,useInsertIndex:!0}),this._fireChanged([{changes:t}])}},_createLoadOperation(t){var e=this._operationManager.add(t),i=this._createStoreLoadOptions();return t.always(()=>this._operationManager.remove(e)),{operationId:e,storeLoadOptions:i}},reload(){var t=this.store();return t instanceof Jr&&t.clearRawDataCache(),this._init(),this.load()},cancel(t){return this._operationManager.cancel(t)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(t){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(t):(t.searchOperation=this._searchOperation,t.searchValue=this._searchValue,t.searchExpr=this._searchExpr))},_createStoreLoadOptions(){var t=v({},this._storeLoadOptions);return this._addSearchOptions(t),this._paginate&&this._pageSize&&(t.skip=this._pageIndex*this._pageSize,t.take=this._pageSize),t.userData=this._userData,t},_addSearchFilter(t){var e=this._searchValue,i=this._searchOperation,n=this._searchExpr,r=[];!e||(n||(n="this"),Array.isArray(n)||(n=[n]),b(n,function(a,s){r.length&&r.push("or"),r.push([s,i,e])}),t.filter?t.filter=[r,t.filter]:t.filter=r)},_loadFromStore(t,e){var i=(n,r)=>{if(!this._disposed&&!!Hh(e)){var a=v(fp(n,r),t);this._eventsStrategy.fireEvent("customizeLoadResult",[a]),lt(a.data).done(s=>{a.data=s,this._processStoreLoadResult(a,e)}).fail(e.reject)}};return t.data?new y().resolve(t.data).done(i):this.store().load(t.storeLoadOptions).done(i).fail(e.reject)},_processStoreLoadResult(t,e){var i=t.data,n=t.extra,r=t.storeLoadOptions,a=()=>(this._isLoaded=!0,this._totalCount=isFinite(n.totalCount)?n.totalCount:-1,e.resolve(i,n));this._disposed||(i=this._applyPostProcessFunction(this._applyMapFunction(i)),K(n)||(n={}),this._items=i,(!i.length||!this._paginate||this._pageSize&&i.length<this._pageSize)&&(this._isLastPage=!0),r.requireTotalCount&&!isFinite(n.totalCount)?this.store().totalCount(r).done(function(s){n.totalCount=s,a()}).fail(e.reject):a())},_applyMapFunction(t){return this._mapFunc?dE(t,this._mapFunc,this.group()):t},_applyPostProcessFunction(t){return this._postProcessFunc?this._postProcessFunc(t):t},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}}),Nh="_dataSourceOptions",Wh="_dataSourceChangedHandler",zh="_dataSourceLoadErrorHandler",Kh="_dataSourceLoadingChangedHandler",Uh="_dataSourceFromUrlLoadMode",jh="_getSpecificDataSourceOption",Gh="_normalizeDataSource",Hl={postCtor:function(){this.on("disposing",function(){this._disposeDataSource()}.bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var t=jh in this?this[jh]():this.option("dataSource"),e,i;this._disposeDataSource(),t&&(t instanceof ta?(this._isSharedDataSource=!0,this._dataSource=t):(e=Nh in this?this[Nh]():{},i=this._dataSourceType?this._dataSourceType():ta,t=pp(t,{fromUrlLoadMode:Uh in this&&this[Uh]()}),this._dataSource=new i(v(!0,{},e,t))),Gh in this&&(this._dataSource=this[Gh](this._dataSource)),this._addDataSourceHandlers())},_addDataSourceHandlers:function(){Wh in this&&this._addDataSourceChangeHandler(),zh in this&&this._addDataSourceLoadErrorHandler(),Kh in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",function(t){this._ready&&this._ready(!t)}.bind(this))},_addDataSourceChangeHandler:function(){var t=this._dataSource;this._proxiedDataSourceChangedHandler=function(e){this[Wh](t.items(),e)}.bind(this),t.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this[zh].bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this[Kh].bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){if(this._dataSource){var t=this._dataSource;t.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():t.load()}},_loadSingle:function(t,e){return t=t==="this"?this._dataSource.key()||"this":t,this._dataSource.loadSingle(t,e)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}},Br=function(t,e){var i=e(t);if(ht(i))try{return JSON.stringify(i)}catch{return i}return i},mE=function(t,e,i,n){var r=Br(t,n);return e[i[r]]},gE=function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<e.length;i++)if(t[i]!==e[i])return!1;return!0},CE=function(t,e,i,n){var r={},a={},s=0,o=0,l=[];t.forEach(function(D,j){var Z=Br(D,i);r[Z]=j}),e.forEach(function(D,j){var Z=Br(D,i);a[Z]=j});for(var u=Math.max(t.length,e.length),c=0;c<u+s;c++){var d=e[c],f=c-s+o,m=t[f],g=!d||m&&!mE(m,e,a,i);if(g)m&&(l.push({type:"remove",key:i(m),index:c,oldItem:m}),o++,c--);else{var x=Br(d,i),E=r[x],w=t[E];if(!w)s++,l.push({type:"insert",data:d,index:c});else if(E===f)n(w,d)||l.push({type:"update",data:d,key:i(d),index:c,oldItem:w});else return}}return l},bE=W.abstract,cr=B.real(),_p="scroll",Fl="dxscrollinit",Nl="dxscrollstart",Wl="dxscroll",zl="dxscrollend",Kl="dxscrollstop",Ul="dxscrollcancel",vp=W.inherit(function(){var t=T(_p,"dxScrollEmitter");return{ctor:function(e){this._element=e,this._locked=!1,this._proxiedScroll=i=>{this._disposed||this._scroll(i)},p.on(this._element,t,this._proxiedScroll)},_scroll:bE,check:function(e,i){this._locked&&i()},dispose:function(){this._disposed=!0,p.off(this._element,t,this._proxiedScroll)}}}()),mp=vp.inherit({ctor:function(t,e){this.callBase(t),this._timeout=e},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var t=this;this._timer=setTimeout(function(){t._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),qh=mp.inherit({ctor:function(t){this.callBase(t,400),this._lastWheelDirection=null},check:function(t,e){this._checkDirectionChanged(t),this.callBase(t,e)},_checkDirectionChanged:function(t){if(!xt(t)){this._lastWheelDirection=null;return}var e=t.shiftKey||!1,i=this._lastWheelDirection!==null&&e!==this._lastWheelDirection;this._lastWheelDirection=e,this._locked=this._locked&&!i}}),Mo=mp.inherit({ctor:function(t){this.callBase(t,400)}});(function(){var t=cr.ios&&vi(cr.version,[8])>=0,e=cr.android&&vi(cr.version,[5])>=0;!(t||e)||(Mo=vp.inherit({_scroll:function(){this._locked=!0;var i=this;oe(this._scrollFrame),this._scrollFrame=wn(function(){i._locked=!1})},check:function(i,n){oe(this._scrollFrame),oe(this._checkFrame);var r=this,a=this.callBase;this._checkFrame=wn(function(){a.call(r,i,n),r._locked=!1})},dispose:function(){this.callBase(),oe(this._scrollFrame),oe(this._checkFrame)}}))})();var EE=zn.inherit(function(){var t=Math.round(16.666666666666668);return{ctor:function(e){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new Mo(e),this._wheelLocker=new qh(e)},validate:function(){return!0},configure:function(e){e.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new Mo(e.scrollTarget),this._wheelLocker=new qh(e.scrollTarget)),this.callBase(e)},_init:function(e){this._wheelLocker.check(e,function(){xt(e)&&this._accept(e)}.bind(this)),this._pointerLocker.check(e,function(){var i=this.isNative&&pi(e);!xt(e)&&!i&&this._accept(e)}.bind(this)),this._fireEvent(Fl,e),this._prevEventData=Q(e)},move:function(e){this.callBase.apply(this,arguments),e.isScrollingEvent=this.isNative||e.isScrollingEvent},_start:function(e){this._savedEventData=Q(e),this._fireEvent(Nl,e),this._prevEventData=Q(e)},_move:function(e){var i=Q(e);this._fireEvent(Wl,e,{delta:Ve(this._prevEventData,i)});var n=Ve(this._savedEventData,i);n.time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=Q(e)},_end:function(e){var i=Ve(this._prevEventData,Q(e)),n={x:0,y:0};if(!xt(e)&&i.time<100){var r=Ve(this._savedEventData,this._prevEventData),a=t/r.time;n={x:r.x*a,y:r.y*a}}this._fireEvent(zl,e,{velocity:n})},_stop:function(e){this._fireEvent(Kl,e)},cancel:function(e){this.callBase.apply(this,arguments),this._fireEvent(Ul,e)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());en({emitter:EE,events:[Fl,Nl,Wl,zl,Kl,Ul]});var Ht={init:Fl,start:Nl,move:Wl,end:zl,stop:Kl,cancel:Ul,scroll:_p},SE=W.abstract,yE=W.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,oe(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped()){this._stop();return}if(this._isFinished()){this._finished=!0,this._complete();return}this._step(),this._stepAnimationFrame=wn(this._proxiedStepCore)},_step:SE,_isFinished:C,_stop:C,_complete:C,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}}),Vo="dxScrollbar",gp="dx-scrollable-scrollbar",Xh="".concat(gp,"-active"),IE="dx-scrollable-scroll",TE="dx-scrollable-scroll-content",OE="dx-scrollbar-hoverable",Yh="horizontal",AE=15,de={onScroll:"onScroll",onHover:"onHover",always:"always",never:"never"},Fi=null,Cp=Re.inherit({_getDefaultOptions:function(){return v(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:de.onScroll,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass(OE,this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=h("<div>").addClass(IE),h("<div>").addClass(TE).appendTo(this._$thumb),this.$element().addClass(gp).append(this._$thumb)},isThumb:function(t){return!!this.$element().find(t).length},_isHoverMode:function(){var t=this.option("visibilityMode");return(t===de.onHover||t===de.always)&&this.option("expandable")},_renderDirection:function(){var t=this.option("direction");this.$element().addClass("dx-scrollbar-"+t),this._dimension=t===Yh?"width":"height",this._prop=t===Yh?"left":"top"},_attachPointerDownHandler:function(){p.on(this._$thumb,T(Et.down,Vo),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(Xh),Fi=this},feedbackOff:function(){this.$element().removeClass(Xh),Fi=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(t){this.option("visibilityMode")===de.onScroll&&this._$thumb.css("opacity"),t=this._adjustVisibility(t),this.option().visible=t,this._$thumb.toggleClass("dx-state-invisible",!t)},_adjustVisibility:function(t){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case de.onScroll:break;case de.onHover:t=t||!!this._isHovered;break;case de.never:t=!1;break;case de.always:t=!0}return t},moveTo:function(t){if(!this._isHidden()){K(t)&&(t=t[this._prop]||0);var e={};e[this._prop]=this._calculateScrollBarPosition(t),Lt(this._$thumb,e)}},_calculateScrollBarPosition:function(t){return-t*this._thumbRatio},_update:function(){var t=Math.round(this.option("containerSize")),e=Math.round(this.option("contentSize")),i=Math.round(this.option("baseContainerSize")),n=Math.round(this.option("baseContentSize"));isNaN(i)&&(i=t,n=e),this._baseContainerToContentRatio=n?i/n:i,this._realContainerToContentRatio=e?t/e:t;var r=Math.round(Math.max(Math.round(t*this._realContainerToContentRatio),AE));this._thumbRatio=(t-r)/(this.option("scaleRatio")*(e-t)),this.option(this._dimension,r/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return this.option("visibilityMode")===de.never},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(t){return K(t)?t[this._dimension]||0:t},_clean:function(){this.callBase(),this===Fi&&(Fi=null),p.off(this._$thumb,"."+Vo)},_optionChanged:function(t){if(!this._isHidden())switch(t.name){case"containerSize":case"contentSize":this.option()[t.name]=this._normalizeSize(t.value),this._update();break;case"baseContentSize":case"baseContainerSize":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;case"scaleRatio":this._update();break;default:this.callBase.apply(this,arguments)}},update:Wi(function(){this._adjustVisibility()&&this.option("visible",!0)})});he.add(function(){p.subscribeGlobal(R.getDocument(),T(Et.up,Vo),function(){Fi&&Fi.feedbackOff()})});var bp="dxSimulatedScrollable",wE="dxScrollableStrategy",dr=bp+"Cursor",Ts=bp+"Keyboard",Os="dx-scrollable-simulated",xE="dx-scrollable-scrollbars-alwaysvisible",DE="dx-scrollable-scrollbar",re="vertical",bt="horizontal",ea=.92,Ep=.5,Sp=1,RE=Math.round(1e3/60),BE=40,$E=500,LE=Sp/5,kE=400,PE=kE/RE,ME=(1-Math.pow(ea,PE))/(1-ea),fe={PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home",LEFT:"leftArrow",UP:"upArrow",RIGHT:"rightArrow",DOWN:"downArrow",TAB:"tab"},yp=yE.inherit({ctor:function(t){this.callBase(),this.scroller=t},VELOCITY_LIMIT:Sp,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?ea:Ep},_complete:function(){this.scroller._scrollComplete()}}),VE=yp.inherit({VELOCITY_LIMIT:LE,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return ea},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),Ip=W.inherit({ctor:function(t){this._initOptions(t),this._initAnimators(),this._initScrollbar()},_initOptions:function(t){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=t.direction===bt?"x":"y",this._prop=t.direction===bt?"left":"top",this._dimension=t.direction===bt?"width":"height",this._scrollProp=t.direction===bt?"scrollLeft":"scrollTop",b(t,(e,i)=>{this["_"+e]=i})},_initAnimators:function(){this._inertiaAnimator=new yp(this),this._bounceAnimator=new VE(this)},_initScrollbar:function(){this._scrollbar=new Cp(h("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(t){return t===!0?"onScroll":t===!1?"never":t},_scrollStep:function(t){var e=this._location;this._location+=t,this._suppressBounce(),this._move(),!(Math.abs(e-this._location)<1)&&p.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(t){return t=t!==void 0?t:this._location,Math.max(Math.min(t,this._maxOffset),this._minOffset)},_move:function(t){this._location=t!==void 0?t*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var t=this._location;this._$container[this._scrollProp](-t/this._getScaleRatio()),this._moveContentByTranslator(t)},_getScaleRatio:function(){if(M()&&!this._scaleRatio){var t=this._$element.get(0),e=this._getRealDimension(t,this._dimension),i=this._getBaseDimension(t,this._dimension);this._scaleRatio=Math.round(e/i*100)/100}return this._scaleRatio||1},_getRealDimension:function(t,e){return Math.round(Qt(t)[e])},_getBaseDimension:function(t,e){var i="offset"+Nr(e);return t[i]},_moveContentByTranslator:function(t){var e,i=-this._maxScrollPropValue;if(t>0?e=t:t<=i?e=t-i:e=t%1,this._translateOffset!==e){var n={};if(n[this._prop]=e,this._translateOffset=e,e===0){Sl(this._$content);return}Lt(this._$content,n)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var t=this._bounceLocation=this._boundLocation(),e=t-this._location;this._velocity=e/ME},_inBounds:function(t){return t=t!==void 0?t:this._location,this._boundLocation(t)===t},_crossBoundOnNextStep:function(){var t=this._location,e=t+this._velocity;return t<this._minOffset&&e>=this._minOffset||t>this._maxOffset&&e<=this._maxOffset},_initHandler:function(t){this._stopScrolling(),this._prepareThumbScrolling(t)},_stopScrolling:Wi(function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}),_prepareThumbScrolling:function(t){if(!xt(t.originalEvent)){var e=h(t.originalEvent.target),i=this._isScrollbar(e);i&&this._moveToMouseLocation(t),this._thumbScrolling=i||this._isThumb(e),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(e),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(t){return this._isThumb(t)},_moveToMouseLocation:function(t){var e=t["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],i=this._location+e/this._containerToContentRatio()-z(this._$container)/2;this._scrollStep(-Math.round(i))},_startHandler:function(){this._showScrollbar()},_moveHandler:function(t){this._crossThumbScrolling||(this._thumbScrolling&&(t[this._axis]=-Math.round(t[this._axis]/this._containerToContentRatio())),this._scrollBy(t))},_scrollBy:function(t){t=t[this._axis],this._inBounds()||(t*=Ep),this._scrollStep(t)},_scrollByHandler:function(t){this._scrollBy(t),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(t){return this._completeDeferred=new y,this._velocity=t[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){return this._stopScrolling(),lo(()=>{this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),ci(()=>{this._moveScrollbar(),this._scrollbar.update()})})},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=(Di(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:wu(function(){var t=this._containerSize(),e=this._contentSize(),i=this._getBaseDimension(this._$container.get(0),this._dimension),n=this._getBaseDimension(this._$content.get(0),this._dimension);ci(()=>{this._scrollbar.option({containerSize:t,contentSize:e,baseContainerSize:i,baseContentSize:n,scaleRatio:this._getScaleRatio()})})}),_moveToBounds:Wi(wu(Wi(function(){var t=this._boundLocation(),e=t!==this._location;this._location=t,this._move(),e&&this._scrollAction()}))),_createActionsHandler:function(t){this._scrollAction=t.scroll,this._bounceAction=t.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var t=this._$content.css("overflow"+this._axis.toUpperCase())==="hidden",e=this._getRealDimension(this._$content.get(0),this._dimension);if(!t){var i=this._$content[0]["scroll"+Nr(this._dimension)]*this._getScaleRatio();e=Math.max(i,e)}return e},_validateEvent:function(t){var e=h(t.originalEvent.target);return this._isThumb(e)||this._isScrollbar(e)},_isThumb:function(t){return this._scrollByThumb&&this._scrollbar.isThumb(t)},_isScrollbar:function(t){return this._scrollByThumb&&t&&t.is(this._$scrollbar)},_reachedMin:function(){return Math.round(this._location-this._minOffset)<=0},_reachedMax:function(){return Math.round(this._location-this._maxOffset)>=0},_cursorEnterHandler:function(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:C}),jt,$i,Tp=W.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=h(t.container()),this._$wrapper=t._$wrapper,this._$content=t.$content(),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t)},render:function(){this._$element.addClass(Os),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(bt)&&this._createScroller(bt),this._isDirection(re)&&this._createScroller(re),this._$element.toggleClass(xE,this.option("showScrollbar")==="always")},_createScroller:function(t){this._scrollers[t]=new Ip(this._scrollerOptions(t))},_scrollerOptions:function(t){return{direction:t,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(t){for(var e in this._scrollers){var i=this._getPropByDirection(e);if(I(t[i])){var n=this._scrollers[e];t[i]*=n._getScaleRatio()}}return t},_isAnyThumbScrolling:function(t){var e=!1;return this._eventHandler("isThumbScrolling",t).done(function(i,n){e=i||n}),e},handleInit:function(t){this._suppressDirections(t),this._eventForUserAction=t,this._eventHandler("init",t)},_suppressDirections:function(t){if(xt(t.originalEvent)){this._prepareDirections(!0);return}this._prepareDirections(),this._eachScroller(function(e,i){var n=h(t.originalEvent.target),r=e._validateEvent(t)||this.option("scrollByContent")&&this._isContent(n);this._validDirections[i]=r})},_isContent:function(t){return!!t.closest(this._$element).length},_prepareDirections:function(t){t=t||!1,this._validDirections={},this._validDirections[bt]=t,this._validDirections[re]=t},_eachScroller:function(t){t=t.bind(this),b(this._scrollers,function(e,i){t(i,e)})},handleStart:function(t){this._eventForUserAction=t,this._eventHandler("start").done(this._startAction)},_saveActive:function(){$i=this},_resetActive:function(){$i===this&&($i=null)},handleMove:function(t){if(this._isLocked()){t.cancel=!0,this._resetActive();return}this._saveActive(),t.preventDefault&&t.preventDefault(),this._adjustDistance(t,t.delta),this._eventForUserAction=t,this._eventHandler("move",t.delta)},_adjustDistance:function(t,e){e.x*=this._validDirections[bt],e.y*=this._validDirections[re];var i=this._tryGetDevicePixelRatio();i&&xt(t.originalEvent)&&(e.x=Math.round(e.x/i*100)/100,e.y=Math.round(e.y/i*100)/100)},_tryGetDevicePixelRatio:function(){if(M())return U().devicePixelRatio},handleEnd:function(t){return this._resetActive(),this._refreshCursorState(t.originalEvent&&t.originalEvent.target),this._adjustDistance(t,t.velocity),this._eventForUserAction=t,this._eventHandler("end",t.velocity).done(this._endAction)},handleCancel:function(t){return this._resetActive(),this._eventForUserAction=t,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._updateRtlConfig(),this._scrollAction()},_attachKeyboardHandler:function(){p.off(this._$element,".".concat(Ts)),!this.option("disabled")&&this.option("useKeyboard")&&p.on(this._$element,T("keydown",Ts),this._keyDownHandler.bind(this))},_keyDownHandler:function(t){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{le(t)===fe.TAB&&this._eachScroller(i=>{i._updateHandler()})}),!!this._$container.is(R.getActiveElement())){var e=!0;switch(le(t)){case fe.DOWN:this._scrollByLine({y:1});break;case fe.UP:this._scrollByLine({y:-1});break;case fe.RIGHT:this._scrollByLine({x:1});break;case fe.LEFT:this._scrollByLine({x:-1});break;case fe.PAGE_DOWN:this._scrollByPage(1);break;case fe.PAGE_UP:this._scrollByPage(-1);break;case fe.HOME:this._scrollToHome();break;case fe.END:this._scrollToEnd();break;default:e=!1}e&&(t.stopPropagation(),t.preventDefault())}},_scrollByLine:function(t){var e=this._tryGetDevicePixelRatio(),i=BE;e&&(i=Math.abs(i/e*100)/100),this.scrollBy({top:(t.y||0)*-i,left:(t.x||0)*-i})},_scrollByPage:function(t){var e=this._wheelProp(),i=this._dimensionByProp(e),n={},r=i==="width"?F:z;n[e]=t*-r(this._$container),this.scrollBy(n)},_dimensionByProp:function(t){return t==="left"?"width":"height"},_getPropByDirection:function(t){return t===bt?"left":"top"},_scrollToHome:function(){var t=this._wheelProp(),e={};e[t]=0,this._component.scrollTo(e)},_scrollToEnd:function(){var t=this._wheelProp(),e=this._dimensionByProp(t),i={},n=e==="width"?F:z;i[t]=n(this._$content)-n(this._$container),this._component.scrollTo(i)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(t){var e=this._createActionByOption(t);return()=>{e(v(this._createActionArgs(),arguments))}},_createActionArgs:function(){var{horizontal:t,vertical:e}=this._scrollers,i=this._getScrollOffset();return this._scrollOffset={top:e&&i.top,left:t&&i.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:t&&t._reachedMax(),reachedRight:t&&t._reachedMin(),reachedTop:e&&e._reachedMax(),reachedBottom:e&&e._reachedMin()}},_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}},_eventHandler:function(t){var e=[].slice.call(arguments).slice(1),i=De(this._scrollers,n=>n["_"+t+"Handler"].apply(n,e));return lt.apply(h,i).promise()},location:function(){var t=Di(this._$content);return t.top-=this._$container.scrollTop(),t.left-=this._$container.scrollLeft(),t},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){p.off(this._$element,".".concat(dr)),!this.option("disabled")&&this._isHoverMode()&&(p.on(this._$element,T("mouseenter",dr),this._cursorEnterHandler.bind(this)),p.on(this._$element,T("mouseleave",dr),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return this.option("showScrollbar")==="onHover"},_cursorEnterHandler:function(t){t=t||{},t.originalEvent=t.originalEvent||{},!($i||t.originalEvent._hoverHandled)&&(jt&&jt._cursorLeaveHandler(),jt=this,this._eventHandler("cursorEnter"),t.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(t){jt!==this||$i===jt||(this._eventHandler("cursorLeave"),jt=null,this._refreshCursorState(t&&t.relatedTarget))},_refreshCursorState:function(t){if(!(!this._isHoverMode()&&(!t||$i))){var e=h(t),i=e.closest(".".concat(Os,":not(.dx-state-disabled)")),n=i.length&&i.data(wE);jt&&jt!==n&&jt._cursorLeaveHandler(),n&&n._cursorEnterHandler()}},update:function(){var t=this._eventHandler("update").done(this._updateAction);return lt(t,lo(()=>{var e=this._allowedDirections();return ci(()=>{var i=e.vertical?"pan-x":"";i=e.horizontal?"pan-y":i,i=e.vertical&&e.horizontal?"none":i,this._$container.css("touchAction",i)}),lt().promise()}))},_allowedDirections:function(){var t=this.option("bounceEnabled"),e=this._scrollers[re],i=this._scrollers[bt];return{vertical:e&&(e._minOffset<0||t),horizontal:i&&(i._minOffset<0||t)}},_updateBounds:function(){this._scrollers[bt]&&this._scrollers[bt]._updateBounds()},_isHorizontalAndRtlEnabled:function(){return this.option("rtlEnabled")&&this.option("direction")!==re},updateRtlPosition:function(t){t&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()&&lo(()=>{var e=this._getMaxOffset().left-this._rtlConfig.scrollRight;e<=0&&(e=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),ci(()=>{this._getScrollOffset().left!==e&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:e}),this._rtlConfig.skipUpdating=!1)})})},_updateRtlConfig:function(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){var{clientWidth:t,scrollLeft:e}=this._$container.get(0),i=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===i&&this._rtlConfig.clientWidth===t&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-e),this._rtlConfig.clientWidth=t,this._rtlConfig.windowPixelRatio=i}},_getWindowDevicePixelRatio:function(){return M()?U().devicePixelRatio:1},scrollBy:function(t){var e=this._scrollers[re],i=this._scrollers[bt];e&&(t.top=e._boundLocation(t.top+e._location)-e._location),i&&(t.left=i._boundLocation(t.left+i._location)-i._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:t.left,y:t.top}),this._endAction(),this._updateRtlConfig()},validate:function(t){return xt(t)&&_i(t)||this.option("disabled")?!1:this.option("bounceEnabled")?!0:xt(t)?this._validateWheel(t):this._validateMove(t)},_validateWheel:function(t){var e=this._scrollers[this._wheelDirection(t)],i=e._reachedMin(),n=e._reachedMax(),r=!i||!n,a=!i&&!n,s=i&&t.delta>0,o=n&&t.delta<0,l=r&&(a||s||o);return l=l||this._validateWheelTimer!==void 0,l&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},$E)),l},_validateMove:function(t){return!this.option("scrollByContent")&&!h(t.target).closest(".".concat(DE)).length?!1:this._allowedDirection()},getDirection:function(t){return xt(t)?this._wheelDirection(t):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===bt?"left":"top"},_wheelDirection:function(t){switch(this.option("direction")){case bt:return bt;case re:return re;default:return t&&t.shiftKey?bt:re}},dispose:function(){this._resetActive(),jt===this&&(jt=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass(Os),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){p.off(this._$element,".".concat(dr)),p.off(this._$container,".".concat(Ts))}}),Qh="dxNativeScrollable",As="dx-scrollable-native",HE="dx-scrollable-scrollbar-simulated",FE="dx-scrollable-scrollbars-hidden",hn="vertical",fr="horizontal",NE=500,jl=W.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=h(t.container()),this._$content=t.$content(),this._direction=t.option("direction"),this._useSimulatedScrollbar=t.option("useSimulatedScrollbar"),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t),this._isRtlNativeStrategy=t._isRtlNativeStrategy.bind(t)},render:function(){var t=B.real(),e=t.platform;this._$element.addClass(As).addClass(As+"-"+e).toggleClass(FE,!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateRtlPosition:function(t){t&&this.option("rtlEnabled")&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(HE),this._renderScrollbar(hn),this._renderScrollbar(fr)},_renderScrollbar:function(t){!this._isDirection(t)||(this._scrollbars[t]=new Cp(h("<div>").appendTo(this._$element),{direction:t,expandable:this._component.option("scrollByThumb")}))},handleInit:C,handleStart:C,handleMove:function(t){if(this._isLocked()){t.cancel=!0;return}this._allowedDirection()&&(t.originalEvent.isScrollingEvent=!0)},handleEnd:C,handleCancel:C,handleStop:C,_eachScrollbar:function(t){t=t.bind(this),b(this._scrollbars||{},function(e,i){t(i,e)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var{left:t,top:e}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-t):this._isReachedLeft(t),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(t)):this._isReachedRight(t),reachedTop:this._isDirection(hn)?Math.round(e)>=0:void 0,reachedBottom:this._isDirection(hn)?Math.round(Math.abs(e)-this._getMaxOffset().top)>=0:void 0}},_getScrollOffset:function(){var{top:t,left:e}=this.location();return{top:-t,left:this._normalizeOffsetLeft(-e)}},_normalizeOffsetLeft(t){return this._isRtlNativeStrategy()?this._getMaxOffset().left+t:t},_isReachedLeft:function(t){return this._isDirection(fr)?Math.round(t)>=0:void 0},_isReachedRight:function(t){return this._isDirection(fr)?Math.round(Math.abs(t)-this._getMaxOffset().left)>=0:void 0},_isScrollbarVisible:function(){var{showScrollbar:t}=this.option();return t!=="never"&&t!==!1},handleScroll:function(t){this._eventForUserAction=t,this._moveScrollbars(),this._scrollAction(this._createActionArgs())},_moveScrollbars:function(){var{top:t,left:e}=this._getScrollOffset();this._eachScrollbar(function(i){i.moveTo({top:-t,left:-e}),i.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(function(){this._eachScrollbar(function(t){t.option("visible",!1)})}.bind(this),NE)},location:function(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}},disabledChanged:C,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:z(this._$container),width:F(this._$container)},this._componentContentSize={height:z(this._component.$content()),width:F(this._component.$content())},this._contentSize={height:z(this._$content),width:F(this._$content)}},_updateScrollbars:function(){this._eachScrollbar(function(t,e){var i=e===hn?"height":"width";t.option({containerSize:this._containerSize[i],contentSize:this._componentContentSize[i]}),t.update()})},_allowedDirections:function(){return{vertical:this._isDirection(hn)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(fr)&&this._contentSize.width>this._containerSize.width}},dispose:function(){var t=this._$element.get(0).className,e=new RegExp(As+"\\S*","g");e.test(t)&&this._$element.removeClass(t.match(e).join(" ")),p.off(this._$element,"."+Qh),p.off(this._$container,"."+Qh),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(t){t.$element().remove()})},scrollBy:function(t){var e=this.location();this._$container.scrollTop(Math.round(-e.top-t.top)),this._$container.scrollLeft(Math.round(-e.left-t.left))},validate:function(t){return this.option("disabled")||xt(t)&&this._isScrolledInMaxDirection(t)?!1:!!this._allowedDirection()},_isScrolledInMaxDirection(t){var e=this._$container.get(0),i;return t.delta>0?i=t.shiftKey?!e.scrollLeft:!e.scrollTop:t.shiftKey?i=e.scrollLeft>=this._getMaxOffset().left:i=e.scrollTop>=this._getMaxOffset().top,i},getDirection:function(){return this._allowedDirection()}}),Op=function(){return[{device:function(){return!Dn},options:{useNative:!1}},{device:function(t){return!B.isSimulator()&&B.real().deviceType==="desktop"&&t.platform==="generic"},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:xn,showScrollbar:"onHover"}}]};function WE(t,e){for(var i={left:0,top:0},n=e;(r=n)!==null&&r!==void 0&&r.offsetParent&&!n.classList.contains(t);){var r,a=n.offsetParent,s=n.getBoundingClientRect(),o=a.getBoundingClientRect();i.left+=s.left-o.left,i.top+=s.top-o.top,n=n.offsetParent}return i}var zE="vertical",vB="horizontal",mB="both";var KE="dx-scrollable-content";function UE(t,e,i,n,r){var a=A({top:0,left:0,right:0,bottom:0},r),s=e===zE,o=s?"top":"left",l=s?"bottom":"right",u=s?"height":"width",c=i["offset".concat(Nr(u))],d=i["client".concat(Nr(u))],f=i.getBoundingClientRect()[u],m=t.getBoundingClientRect()[u],g=1;Math.abs(f-c)>1&&(g=f/c);var x=WE(KE,t)[o]/g,E=n[o],w=E-x+a[o],D=E-x-m/g+d-a[l];return w<=0&&D>=0?E:E-(Math.abs(w)>Math.abs(D)?D:w)}var se="dxScrollable",jE="dxScrollableStrategy",Zh="dx-scrollable",GE="dx-scrollable-disabled",qE="dx-scrollable-container",XE="dx-scrollable-wrapper",Jh="dx-scrollable-content",ae="vertical",pe="horizontal",ws="both",Gl=xi.inherit({_getDefaultOptions:function(){return v(this.callBase(),{disabled:!1,onScroll:null,direction:ae,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat(Op(),[{device:function(){return Dn&&B.real().platform==="android"&&!di.mozilla},options:{useSimulatedScrollbar:!0}}])},_initOptions:function(t){this.callBase(t),"useSimulatedScrollbar"in t||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(t){t?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var t=this.$element().addClass(Zh),e=this._$container=h("<div>").addClass(qE),i=this._$wrapper=h("<div>").addClass(XE),n=this._$content=h("<div>").addClass(Jh);n.append(t.contents()).appendTo(e),e.appendTo(i),i.appendTo(t)},_dimensionChanged:function(){this.update(),this._updateRtlPosition()},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition(!0)},_updateRtlPosition:function(t){this._strategy.updateRtlPosition(t)},_getMaxOffset:function(){var{scrollWidth:t,clientWidth:e,scrollHeight:i,clientHeight:n}=h(this.container()).get(0);return{left:t-e,top:i-n}},_attachEventHandlers:function(){var t=this._strategy,e={getDirection:t.getDirection.bind(t),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};p.off(this._$wrapper,"."+se),p.on(this._$wrapper,T(Ht.init,se),e,this._initHandler.bind(this)),p.on(this._$wrapper,T(Ht.start,se),t.handleStart.bind(t)),p.on(this._$wrapper,T(Ht.move,se),t.handleMove.bind(t)),p.on(this._$wrapper,T(Ht.end,se),t.handleEnd.bind(t)),p.on(this._$wrapper,T(Ht.cancel,se),t.handleCancel.bind(t)),p.on(this._$wrapper,T(Ht.stop,se),t.handleStop.bind(t)),p.off(this._$container,"."+se),p.on(this._$container,T("scroll",se),t.handleScroll.bind(t))},_validate:function(t){return this._isLocked()?!1:(this._updateIfNeed(),this._moveIsAllowed(t))},_moveIsAllowed(t){return this._strategy.validate(t)},handleMove(t){this._strategy.handleMove(t)},_prepareDirections(t){this._strategy._prepareDirections(t)},_initHandler:function(){var t=this._strategy;t.handleInit.apply(t,arguments)},_renderDisabledState:function(){this.$element().toggleClass(GE,this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-"+pe).removeClass("dx-scrollable-"+ae).removeClass("dx-scrollable-"+ws).addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data(jE,this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new jl(this):new Tp(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(t){switch(t.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":case"scrollByContent":break;case"width":this.callBase(t),this._updateRtlPosition();break;default:this.callBase(t)}},_resetInactiveDirection:function(){var t=this._getInactiveProp();if(!(!t||!M())){var e=this.scrollOffset();e[t]=0,this.scrollTo(e)}},_getInactiveProp:function(){var t=this.option("direction");if(t===ae)return"left";if(t===pe)return"top"},_location:function(){return this._strategy.location()},_normalizeLocation:function(t){if(K(t)){var e=Bt(t.left,t.x),i=Bt(t.top,t.y);return{left:I(e)?-e:void 0,top:I(i)?-i:void 0}}else{var n=this.option("direction");return{left:n!==ae?-t:void 0,top:n!==pe?-t:void 0}}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(t){var e=this.option("direction");return t===ae?e!==pe:t===pe?e!==ae:e===t},_updateAllowedDirection:function(){var t=this._strategy._allowedDirections();this._isDirection(ws)&&t.vertical&&t.horizontal?this._allowedDirectionValue=ws:this._isDirection(pe)&&t.horizontal?this._allowedDirectionValue=pe:this._isDirection(ae)&&t.vertical?this._allowedDirectionValue=ae:this._allowedDirectionValue=null},_allowedDirection:function(){return this._allowedDirectionValue},$content:function(){return this._$content},content:function(){return H(this._$content)},container:function(){return H(this._$container)},scrollOffset:function(){return this._strategy._getScrollOffset()},_isRtlNativeStrategy:function(){var{useNative:t,rtlEnabled:e}=this.option();return t&&e},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return z(this._$container)},scrollHeight:function(){return st(this.$content())},clientWidth:function(){return F(this._$container)},scrollWidth:function(){return ot(this.$content())},update:function(){if(!!this._strategy)return lt(this._strategy.update()).done(function(){this._updateAllowedDirection()}.bind(this))},scrollBy:function(t){t=this._normalizeLocation(t),!(!t.top&&!t.left)&&(this._updateIfNeed(),this._strategy.scrollBy(t))},scrollTo:function(t){t=this._normalizeLocation(t),this._updateIfNeed();var e=this._location();this.option("useNative")||(t=this._strategy._applyScaleRatio(t),e=this._strategy._applyScaleRatio(e)),this._isRtlNativeStrategy()&&(e.left=e.left-this._getMaxOffset().left);var i=this._normalizeLocation({left:e.left-Bt(t.left,e.left),top:e.top-Bt(t.top,e.top)});!i.top&&!i.left||this._strategy.scrollBy(i)},scrollToElement:function(t,e){var i=h(t),n=this.$content().find(t).length,r=i.parents("."+Zh).length-i.parents("."+Jh).length===0;if(!(!n||!r)){var a={top:0,left:0},s=this.option("direction");s!==ae&&(a.left=this.getScrollElementPosition(i,pe,e)),s!==pe&&(a.top=this.getScrollElementPosition(i,ae,e)),this.scrollTo(a)}},getScrollElementPosition:function(t,e,i){var n=this.scrollOffset();return UE(t.get(0),e,h(this.container()).get(0),n,i)},_updateIfNeed:function(){this.option("updateManually")||this.update()},_useTemplates:function(){return!1},isRenovated:function(){return!!Gl.IS_RENOVATED_WIDGET}});et(se,Gl);var tc="dx-inkripple",ec="dx-inkripple-wave",Ap="dx-inkripple-showing",wp="dx-inkripple-hiding",YE=2,QE=4e3,xs=300,ZE=1e3,xp=0,Dp=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{useHoldAnimation:e,waveSizeCoefficient:i,isCentered:n,wavesNumber:r}=t;return{waveSizeCoefficient:i||YE,isCentered:n||!1,wavesNumber:r||1,durations:nS(e??!0)}},JE=function(t){var e=Dp(t);return{showWave:Bp.bind(this,e),hideWave:Lp.bind(this,e)}},tS=function(t){var e=t.children("."+tc);return e.length===0&&(e=h("<div>").addClass(tc).appendTo(t)),e},Rp=function(t,e){for(var i=tS(h(t)),n=i.children("."+ec).toArray(),r=n.length;r<e;r++){var a=h("<div>").appendTo(i).addClass(ec);n.push(a[0])}return h(n)},eS=function(t,e){var i=h(e.element),n=ot(i),r=st(i),a=parseInt(Math.sqrt(n*n+r*r)),s=Math.min(QE,parseInt(a*t.waveSizeCoefficient)),o,l;if(t.isCentered)o=(n-s)/2,l=(r-s)/2;else{var u=e.event,c=i.offset(),d=u.pageX-c.left,f=u.pageY-c.top;o=d-s/2,l=f-s/2}return{left:o,top:l,height:s,width:s}};function Bp(t,e){var i=Rp(e.element,t.wavesNumber).eq(e.wave||xp);t.hidingTimeout&&clearTimeout(t.hidingTimeout),$p(i),i.css(eS(t,e)),t.showingTimeout=setTimeout(iS.bind(this,t,i),0)}function iS(t,e){var i=t.durations.showingScale+"ms";e.addClass(Ap).css("transitionDuration",i)}function nS(t){return{showingScale:t?ZE:xs,hidingScale:xs,hidingOpacity:xs}}function $p(t){t.removeClass(wp).css("transitionDuration","")}function Lp(t,e){t.showingTimeout&&clearTimeout(t.showingTimeout);var i=Rp(e.element,e.wavesNumber).eq(e.wave||xp),n=t.durations,r=n.hidingScale+"ms, "+n.hidingOpacity+"ms";i.addClass(wp).removeClass(Ap).css("transitionDuration",r);var a=Math.max(n.hidingScale,n.hidingOpacity);t.hidingTimeout=setTimeout($p.bind(this,i),a)}var cn="dx-icon",rS="dx-svg-icon",Ma=t=>!t||typeof t!="string"?!1:/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(t)?"svg":/data:.*base64|\.|[^<\s]\//.test(t)?"image":/^[\w-_]+$/.test(t)?"dxIcon":/^\s?([\w-_]\s?)+$/.test(t)?"fontIcon":!1,aS=t=>{switch(Ma(t)){case"image":return h("<img>").attr("src",t).addClass(cn);case"fontIcon":return h("<i>").addClass("".concat(cn," ").concat(t));case"dxIcon":return h("<i>").addClass("".concat(cn," ").concat(cn,"-").concat(t));case"svg":return h("<i>").addClass("".concat(cn," ").concat(rS)).append(t);default:return null}};function sS(t){return class{constructor(){throw new Error("Module '".concat(t,"' not found"))}static getInstance(){}}}var ic=sS("TextBox"),nc={_getDefaultOptions:function(){return v(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){var t=this.$element(),e=this.option("searchEnabled"),i=this._addWidgetPrefix("search"),n=this._addWidgetPrefix("with-search");if(!e){t.removeClass(n),this._removeSearchBox();return}var r=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(r):(t.addClass(n),this._$searchEditorElement=h("<div>").addClass(i).prependTo(t),this._searchEditor=this._createComponent(this._$searchEditorElement,ic,r))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){var t=this,e=t.option("searchEditorOptions"),i=rt.format("Search");return v({mode:"search",placeholder:i,tabIndex:t.option("tabIndex"),value:t.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":i},onValueChanged:function(n){var r=t.option("searchTimeout");t._valueChangeDeferred=new y,clearTimeout(t._valueChangeTimeout),t._valueChangeDeferred.done(function(){this.option("searchValue",n.value)}.bind(t)),n.event&&n.event.type==="input"&&r?t._valueChangeTimeout=setTimeout(function(){t._valueChangeDeferred.resolve()},r):t._valueChangeDeferred.resolve()}},e)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.$element()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(t,e){this.option("searchEnabled")&&this._toggleFocusClass(e,this.$element()),this.callBase(t,e)},getOperationBySearchMode:function(t){return t==="equals"?"=":t},_cleanAria:function(t){this.setAria({role:null,activedescendant:null},t),t.attr("tabIndex",null)},_optionChanged:function(t){switch(t.name){case"searchEnabled":case"searchEditorOptions":this._cleanAria(this.option("searchEnabled")?this.$element():this._itemContainer()),this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource){pt.log("W1009");return}t.name==="searchMode"?this._dataSource.searchOperation(this.getOperationBySearchMode(t.value)):this._dataSource[t.name](t.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(t)}},focus:function(){if(!this.option("focusedElement")&&this.option("searchEnabled")){this._searchEditor&&this._searchEditor.focus();return}this.callBase()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()},setEditorClass:function(t){ic=t}},{ios:oS,mac:lS}=B.real(),uS=oS||lS,hS=function(t){var e;try{e={start:t.selectionStart,end:t.selectionEnd}}catch{e={start:0,end:0}}return e},cS=function(t,e){if(!!R.getBody().contains(t))try{t.selectionStart=e.start,t.selectionEnd=e.end}catch{}},kp=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t=h(t).get(0),!I(e))return hS(t);!i&&uS&&R.getActiveElement()!==t||cS(t,e)};function dS(){var{android:t,version:e}=B.real();return t&&e[0]>4}function fS(){return"onbeforeinput"in R.createElement("input")||dS()}var Mi=" ",Pp=W.inherit({ctor:function(t){this._value=Mi,v(this,t)},next:function(t){if(!arguments.length)return this._next;this._next=t},text:C,value:C,rawValue:C,handle:C,_prepareHandlingArgs:function(t,e){var i,n,r;e=e||{};var a=Object.prototype.hasOwnProperty.call(t,"value")?"value":"text";return t[a]=(i=e.str)!==null&&i!==void 0?i:t[a],t.start=(n=e.start)!==null&&n!==void 0?n:t.start,t.length=(r=e.length)!==null&&r!==void 0?r:t.length,t.index=t.index+1,t},reset:C,clear:C,first:function(t){return t=t||0,this.next().first(t+1)},isAccepted:function(){return!1},adjustedCaret:function(t,e,i){return e?this._adjustedForward(t,0,i):this._adjustedBackward(t,0,i)},_adjustedForward:C,_adjustedBackward:C,isValid:C}),pS=Pp.inherit({next:C,handle:function(){return 0},text:function(){return""},value:function(){return""},first:function(){return 0},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),Mp=Pp.inherit({text:function(){return(this._value!==Mi?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value")?t.value:t.text;if(!e||!e.length||!t.length)return 0;if(t.start)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start-1}));var i=e[0],n=e.substring(1);return this._tryAcceptChar(i,t),this._accepted()?this.next().handle(this._prepareHandlingArgs(t,{str:n,length:t.length-1}))+1:this.handle(this._prepareHandlingArgs(t,{str:n,length:t.length-1}))},clear:function(t){this._tryAcceptChar(Mi,t),this.next().clear(this._prepareHandlingArgs(t))},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(t,e){if(this._accepted(!1),!!this._isAllowed(t,e)){var i=t===Mi?this.maskChar:t;e.fullText=e.fullText.substring(0,e.index)+i+e.fullText.substring(e.index+1),this._accepted(!0),this._value=t}},_accepted:function(t){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!t},first:function(t){return this._value===Mi?t||0:this.callBase(t)},_isAllowed:function(t,e){return t===Mi?!0:this._isValid(t,e)},_isValid:function(t,e){var i=this.allowedChars;return i instanceof RegExp?i.test(t):k(i)?i(t,e.index,e.fullText):Array.isArray(i)?L(t,i)>-1:i===t},isAccepted:function(t){return t===0?this._accepted():this.next().isAccepted(t-1)},_adjustedForward:function(t,e,i){return e>=t?e:this.next()._adjustedForward(t,e+1,i)||e+1},_adjustedBackward:function(t,e){return e>=t-1?t:this.next()._adjustedBackward(t,e+1)||e+1},isValid:function(t){return this._isValid(this._value,t)&&this.next().isValid(this._prepareHandlingArgs(t))}}),rc=Mp.inherit({value:function(){return this.next().value()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value"),i=e?t.value:t.text;if(!i.length||!t.length)return 0;if(t.start||e)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start&&t.start-1}));var n=i[0],r=i.substring(1);this._tryAcceptChar(n);var a=this._isAllowed(n)?this._prepareHandlingArgs(t,{str:r,length:t.length-1}):t;return this.next().handle(a)+1},clear:function(t){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(t))},_tryAcceptChar:function(t){this._accepted(this._isValid(t))},_isValid:function(t){return t===this.maskChar},first:function(t){return t=t||0,this.next().first(t+1)},_adjustedForward:function(t,e,i){return e>=t&&i===this.maskChar?e:t===e+1&&this._accepted()?t:this.next()._adjustedForward(t,e+1,i)},_adjustedBackward:function(t,e){return e>=t-1?0:this.next()._adjustedBackward(t,e+1)},isValid:function(t){return this.next().isValid(this._prepareHandlingArgs(t))}}),nt={valid:"valid",invalid:"invalid",pending:"pending"};class Qe{constructor(){this.NAME="base"}defaultMessage(e){return rt.getFormatter("validation-".concat(this.NAME))(e)}defaultFormattedMessage(e){return rt.getFormatter("validation-".concat(this.NAME,"-formatted"))(e)}_isValueEmpty(e){return!jn.required.validate(e,{})}validate(e,i){var n=Array.isArray(e)?e:[e],r=!0;return n.length?n.every(a=>(r=this._validate(a,i),r)):r=this._validate(null,i),r}}class _S extends Qe{constructor(){super();this.NAME="required"}_validate(e,i){return!I(e)||e===!1?!1:(e=String(e),(i.trim||!I(i.trim))&&(e=e.trim()),e!=="")}}class vS extends Qe{constructor(){super();this.NAME="numeric"}_validate(e,i){return i.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:i.useCultureSettings&&St(e)?!isNaN(Mv.parse(e)):ai(e)}}class mS extends Qe{constructor(){super();this.NAME="range"}_validate(e,i){if(i.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;var n=jn.numeric.validate(e,i),r=I(e)&&e!=="",a=n?parseFloat(e):r&&e.valueOf(),s=i.min,o=i.max;if(!(n||Vv(e))&&!r)return!1;if(I(s))return I(o)?a>=s&&a<=o:a>=s;if(I(o))return a<=o;throw N.Error("E0101")}}class gS extends Qe{constructor(){super();this.NAME="stringLength"}_validate(e,i){var n;return e=String((n=e)!==null&&n!==void 0?n:""),(i.trim||!I(i.trim))&&(e=e.trim()),i.ignoreEmptyValue&&this._isValueEmpty(e)?!0:jn.range.validate(e.length,v({},i))}}class Vp extends Qe{constructor(){super();this.NAME="custom"}validate(e,i){if(i.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var n=i.validator,r=n&&k(n.option)&&n.option("dataGetter"),a=k(r)&&r(),s={value:e,validator:n,rule:i};return a&&v(s,a),i.validationCallback(s)}}class CS extends Vp{constructor(){super();this.NAME="async"}validate(e,i){if(I(i.reevaluate)||v(i,{reevaluate:!0}),i.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var n=i.validator,r=n&&k(n.option)&&n.option("dataGetter"),a=k(r)&&r(),s={value:e,validator:n,rule:i};a&&v(s,a);var o=i.validationCallback(s);if(!rl(o))throw N.Error("E0103");return this._getWrappedPromise(Ee(o).promise())}_getWrappedPromise(e){var i=new y;return e.then(function(n){i.resolve(n)},function(n){var r={isValid:!1};I(n)&&(St(n)?r.message=n:ht(n)&&I(n.message)&&St(n.message)&&(r.message=n.message)),i.resolve(r)}),i.promise()}}class bS extends Qe{constructor(){super();this.NAME="compare"}_validate(e,i){if(!i.comparisonTarget)throw N.Error("E0102");if(i.ignoreEmptyValue&&this._isValueEmpty(e))return!0;v(i,{reevaluate:!0});var n=i.comparisonTarget(),r=i.comparisonType||"==";switch(r){case"==":return e==n;case"!=":return e!=n;case"===":return e===n;case"!==":return e!==n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n}}}class ES extends Qe{constructor(){super();this.NAME="pattern"}_validate(e,i){if(i.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;var n=i.pattern;return St(n)&&(n=new RegExp(n)),n.test(e)}}class SS extends Qe{constructor(){super();this.NAME="email"}_validate(e,i){return i.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:jn.pattern.validate(e,v({},i,{pattern:/^[\d\w._-]+@[\d\w._-]+\.[\w]+$/i}))}}var jn={required:new _S,numeric:new vS,range:new mS,stringLength:new gS,custom:new Vp,async:new CS,compare:new bS,pattern:new ES,email:new SS},yS=W.inherit({ctor(t){this.group=t,this.validators=[],this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new Ti(this)},validate(){var t={isValid:!0,brokenRules:[],validators:[],status:nt.valid,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),b(this.validators,(e,i)=>{var n=i.validate();t.isValid=t.isValid&&n.isValid,n.brokenRules&&(t.brokenRules=t.brokenRules.concat(n.brokenRules)),t.validators.push(i),n.status===nt.pending&&this._addPendingValidator(i),this._subscribeToChangeEvents(i)}),this._pendingValidators.length?t.status=nt.pending:(t.status=t.isValid?nt.valid:nt.invalid,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(t)),this._updateValidationInfo(t),v({},this._validationInfo.result)},_subscribeToChangeEvents(t){t.on("validating",this._onValidatorStatusChanged),t.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents(t){t.off("validating",this._onValidatorStatusChanged),t.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents(){b(this.validators,(t,e)=>{this._unsubscribeFromChangeEvents(e)})},_updateValidationInfo(t){this._validationInfo.result=t,t.status===nt.pending&&(this._validationInfo.deferred||(this._validationInfo.deferred=new y,this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator(t){var e=be(this._pendingValidators,function(i){return i===t})[0];e||this._pendingValidators.push(t)},_removePendingValidator(t){var e=L(t,this._pendingValidators);e>=0&&this._pendingValidators.splice(e,1)},_orderBrokenRules(t){var e=[];return b(this.validators,function(i,n){var r=be(t,function(a){return a.validator===n});r.length&&(e=e.concat(r))}),e},_updateBrokenRules(t){if(!!this._validationInfo.result){var e=this._validationInfo.result.brokenRules,i=be(e,function(n){return n.validator!==t.validator});t.brokenRules&&(e=i.concat(t.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(e)}},_onValidatorStatusChanged(t){if(t.status===nt.pending){this._addPendingValidator(t.validator);return}this._resolveIfComplete(t)},_resolveIfComplete(t){if(this._removePendingValidator(t.validator),this._updateBrokenRules(t),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=this._validationInfo.result.brokenRules.length===0?nt.valid:nt.invalid,this._validationInfo.result.isValid=this._validationInfo.result.status===nt.valid;var e=v({},this._validationInfo.result,{complete:null}),i=this._validationInfo.deferred;this._validationInfo.deferred=null,this._raiseValidatedEvent(e),i&&setTimeout(()=>{i.resolve(e)})}},_raiseValidatedEvent(t){this._eventsStrategy.fireEvent("validated",[t])},_resetValidationInfo(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator(t){var e=L(t,this.validators);e>-1&&(this.validators.splice(e,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:t}))},registerValidator(t){L(t,this.validators)<0&&(this.validators.push(t),this._synchronizeValidationInfo())},reset(){b(this.validators,function(t,e){e.reset()}),this._pendingValidators=[],this._resetValidationInfo()},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}}),ct={groups:[],getGroupConfig(t){var e=be(this.groups,function(i){return i.group===t});if(e.length)return e[0]},findGroup(t,e){var i=t.parents(".dx-validationgroup").first();return i.length?i.dxValidationGroup("instance"):e},initGroups(){this.groups=[],this.addGroup()},addGroup(t){var e=this.getGroupConfig(t);return e||(e=new yS(t),this.groups.push(e)),e},removeGroup(t){var e=this.getGroupConfig(t),i=L(e,this.groups);return i>-1&&this.groups.splice(i,1),e},_setDefaultMessage(t){var{rule:e,validator:i,name:n}=t;I(e.message)||(i.defaultFormattedMessage&&I(n)?e.message=i.defaultFormattedMessage(n):e.message=i.defaultMessage())},_addBrokenRule(t){var{result:e,rule:i}=t;e.brokenRule||(e.brokenRule=i),e.brokenRules||(e.brokenRules=[]),e.brokenRules.push(i)},validate(t,e,i){var n,r={name:i,value:t,brokenRule:null,brokenRules:null,isValid:!0,validationRules:e,pendingRules:null,status:nt.valid,complete:null},a=e==null||(n=e[0])===null||n===void 0?void 0:n.validator,s=[];return b(e||[],(o,l)=>{var u=jn[l.type],c;if(u){if(I(l.isValid)&&l.value===t&&!l.reevaluate)return l.isValid?!0:(r.isValid=!1,this._addBrokenRule({result:r,rule:l}),!1);if(l.value=t,l.type==="async")return s.push({rule:l,ruleValidator:u}),!0;if(c=u.validate(t,l),l.isValid=c,c||(r.isValid=!1,this._setDefaultMessage({rule:l,validator:u,name:i}),this._addBrokenRule({result:r,rule:l})),!l.isValid)return!1}else throw N.Error("E0100")}),r.isValid&&!r.brokenRules&&s.length&&(r=this._validateAsyncRules({value:t,items:s,result:r,name:i})),this._synchronizeGroupValidationInfo(a,r),r.status=r.pendingRules?nt.pending:r.isValid?nt.valid:nt.invalid,r},_synchronizeGroupValidationInfo(t,e){var i;if(!!t){var n=ct.getGroupConfig(t._validationGroup);n._updateBrokenRules.call(n,{validator:t,brokenRules:(i=e.brokenRules)!==null&&i!==void 0?i:[]})}},_validateAsyncRules(t){var{result:e,value:i,items:n,name:r}=t,a=[];return b(n,(s,o)=>{var l=o.ruleValidator.validate(i,o.rule);if(!rl(l))this._updateRuleConfig({rule:o.rule,ruleResult:this._getPatchedRuleResult(l),validator:o.ruleValidator,name:r});else{e.pendingRules||(e.pendingRules=[]),e.pendingRules.push(o.rule);var u=l.then(c=>{var d=this._getPatchedRuleResult(c);return this._updateRuleConfig({rule:o.rule,ruleResult:d,validator:o.ruleValidator,name:r}),d});a.push(u)}}),a.length&&(e.complete=si.all(a).then(s=>this._getAsyncRulesResult({result:e,values:s}))),e},_updateRuleConfig(t){var{rule:e,ruleResult:i,validator:n,name:r}=t;e.isValid=i.isValid,i.isValid||(I(i.message)&&St(i.message)&&i.message.length?e.message=i.message:this._setDefaultMessage({rule:e,validator:n,name:r}))},_getPatchedRuleResult(t){var e;return ht(t)?(e=v({},t),I(e.isValid)||(e.isValid=!0)):e={isValid:oo(t)?t:!0},e},_getAsyncRulesResult(t){var{values:e,result:i}=t;return b(e,(n,r)=>{if(r.isValid===!1){i.isValid=r.isValid;var a=i.pendingRules[n];this._addBrokenRule({result:i,rule:a})}}),i.pendingRules=null,i.complete=null,i.status=i.isValid?nt.valid:nt.invalid,i},registerValidatorInGroup(t,e){var i=ct.addGroup(t);i.registerValidator.call(i,e)},_shouldRemoveGroup(t,e){var i=t===void 0,n=t&&t.NAME==="dxValidationGroup";return!i&&!n&&!e.length},removeRegisteredValidator(t,e){var i=ct.getGroupConfig(t);if(i){i.removeRegisteredValidator.call(i,e);var n=i.validators;this._shouldRemoveGroup(t,n)&&this.removeGroup(t)}},initValidationOptions(t){var e={};return t&&["isValid","validationStatus","validationError","validationErrors"].forEach(i=>{i in t&&v(e,this.synchronizeValidationOptions({name:i,value:t[i]},t))}),e},synchronizeValidationOptions(t,e){var{name:i,value:n}=t;switch(i){case"validationStatus":var r=n===nt.valid||n===nt.pending;return e.isValid!==r?{isValid:r}:{};case"isValid":var{validationStatus:a}=e,s=a;return n&&a===nt.invalid?s=nt.valid:!n&&a!==nt.invalid&&(s=nt.invalid),s!==a?{validationStatus:s}:{};case"validationErrors":var o=!n||!n.length?null:n[0];return e.validationError!==o?{validationError:o}:{};case"validationError":var{validationErrors:l}=e;if(!n&&l)return{validationErrors:null};if(n&&!l)return{validationErrors:[n]};if(n&&l&&n!==l[0])return l[0]=n,{validationErrors:l.slice()}}return{}},validateGroup(t){var e=ct.getGroupConfig(t);if(!e)throw N.Error("E0110");return e.validate()},resetGroup(t){var e=ct.getGroupConfig(t);if(!e)throw N.Error("E0110");return e.reset()}};ct.initGroups();var pr="dx-invalid-message",IS="dx-invalid-message-auto",TS="dx-invalid-message-always",OS="dx-invalid-message-content",AS=100,ql=nn.inherit({_getDefaultOptions(){return v(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",closeOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",mode:"auto",validationErrors:void 0,positionRequest:void 0,boundary:void 0,offset:{h:0,v:0},contentId:void 0})},_init(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup(){this.callBase(),this._ensureMessageNotEmpty(),this._toggleModeClass(),this._updateContentId()},_ensureMessageNotEmpty:function(){this._textMarkup=this._getTextMarkup();var t=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(t)},_toggleVisibilityClasses:function(t){t?(this.$element().addClass(pr),this.$wrapper().addClass(pr)):(this.$element().removeClass(pr),this.$wrapper().removeClass(pr))},_updateContentId(){var{container:t,contentId:e}=this.option(),i=e??h(t).attr("aria-describedby");this.$content().addClass(OS).attr("id",i)},_renderInnerHtml(t){var e=t&&h(t);e?.html(this._textMarkup)},_getTextMarkup(){var t,e=(t=this.option("validationErrors"))!==null&&t!==void 0?t:[],i="";return e.forEach(n=>{var r,a=i?"<br />":"";i+=a+Hv((r=n?.message)!==null&&r!==void 0?r:"")}),i},_toggleModeClass(){var t=this.option("mode");this.$wrapper().toggleClass(IS,t==="auto").toggleClass(TS,t==="always")},updateMaxWidth(){var t=this.option("target"),e=ot(t),i="100%";e&&(i=Math.max(e,AS)),this.option({maxWidth:i})},_updatePosition:function(){var{positionRequest:t,rtlEnabled:e,offset:i,boundary:n}=this.option(),r=Af(e),a=t==="below"?[" top"," bottom"]:[" bottom"," top"];e&&(i.h=-i.h),t!=="below"&&(i.v=-i.v),this.option("position",{offset:i,boundary:n,my:r+a[0],at:r+a[1],collision:"none flip"})},_optionChanged(t){var{name:e,value:i}=t;switch(e){case"target":this.updateMaxWidth(),this.callBase(t);break;case"boundary":this.option("position.boundary",i);break;case"mode":this._toggleModeClass(i);break;case"rtlEnabled":case"offset":case"positionRequest":this._updatePosition();break;case"container":this._updateContentId(),this.callBase(t);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:this.callBase(t)}}});et("dxValidationMessage",ql);var ac="dx-invalid-message-auto",wS="dx-state-readonly",xS="dx-invalid",DS="dx-show-invalid-badge",sc="dx-validation-target",RS="valid",oc="invalid",BS="editorReadOnly",$S=["outlined","filled","underlined"],lc={validationMessageMode:"mode",validationMessageOffset:"offset",validationBoundary:"boundary"},Yi=Re.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=X(),this.callBase.apply(this,arguments)},_createElement:function(t){this.callBase(t);var e=this.$element();e&&tt(e[0],sc,this)},_initOptions:function(t){this.callBase.apply(this,arguments),this.option(ct.initValidationOptions(t))},_init:function(){this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions"));var t=this.$element();t.addClass(DS)},_getDefaultOptions:function(){return v(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:RS,validationMessageMode:"auto",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})},_attachKeyboardEvents:function(){this.option("readOnly")||this.callBase()},_setOptionsByReference:function(){this.callBase(),v(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){var t;this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState(),(t=this.option("_onMarkupRendered"))===null||t===void 0||t()},_raiseValueChangeAction:function(t,e){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(t,e))},_valueChangeArgs:function(t,e){return{value:t,previousValue:e,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(t){this._valueChangeEventInstance=t},_focusInHandler:function(t){var e=this.option("validationMessageMode")==="auto";if(this._canValueBeChangedByClick()&&e){var i,n=(i=this._validationMessage)===null||i===void 0?void 0:i.$wrapper();n?.removeClass(ac),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>n?.addClass(ac),150)}return this.callBase(t)},_canValueBeChangedByClick:function(){return!1},_getStylingModePrefix:function(){return"dx-editor-"},_renderStylingMode:function(){var t=this.option("stylingMode"),e=this._getStylingModePrefix(),i=$S.map(s=>e+s);i.forEach(s=>this.$element().removeClass(s));var n=e+t;if(i.indexOf(n)===-1){var r=this._getDefaultOptions().stylingMode,a=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;n=e+(a||r)}this.$element().addClass(n)},_getValidationErrors:function(){var t=this.option("validationErrors");return!t&&this.option("validationError")&&(t=[this.option("validationError")]),t},_disposeValidationMessage:function(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)},_toggleValidationClasses:function(t){this.$element().toggleClass(xS,t),this.setAria(oc,t||void 0)},_renderValidationState:function(){var t=this.option("isValid")&&this.option("validationStatus")!==oc,e=this._getValidationErrors(),i=this.$element();if(this._toggleValidationClasses(!t),!!M()&&(this._disposeValidationMessage(),!t&&e)){var{validationMessageMode:n,validationMessageOffset:r,validationBoundary:a,rtlEnabled:s}=this.option();this._$validationMessage=h("<div>").appendTo(i);var o="dx-".concat(new Ae);this.setAria("describedby",o),this._validationMessage=new ql(this._$validationMessage,v({validationErrors:e,rtlEnabled:s,target:this._getValidationMessageTarget(),container:i,mode:n,positionRequest:"below",offset:r,boundary:a,contentId:o},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}},_getValidationMessageTarget:function(){return this.$element()},_toggleReadOnlyState:function(){var t=this.option("readOnly");this._toggleBackspaceHandler(t),this.$element().toggleClass(wS,!!t),this.setAria("readonly",t||void 0)},_toggleBackspaceHandler:function(t){var e=this._keyboardEventBindingTarget(),i=T("keydown",BS);p.off(e,i),t&&p.on(e,i,n=>{le(n)==="backspace"&&n.preventDefault()})},_dispose:function(){var t=this.$element()[0];tt(t,sc,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),this.callBase()},_setSubmitElementName:function(t){var e=this._getSubmitElement();!e||(t.length>0?e.attr("name",t):e.removeAttr("name"))},_getSubmitElement:function(){return null},_setValidationMessageOption:function(t){var e,{name:i,value:n}=t,r=lc[i]?lc[i]:i;(e=this._validationMessage)===null||e===void 0||e.option(r,n)},_hasActiveElement:C,_optionChanged:function(t){var e;switch(t.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":t.value!=t.previousValue&&this.validationRequest.fire({value:t.value,editor:this}),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(t.value,t.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(t),(e=this._validationMessage)===null||e===void 0||e.updateMaxWidth();break;case"name":this._setSubmitElementName(t.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(ct.synchronizeValidationOptions(t,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessageOffset":this._setValidationMessageOption(t);break;case"rtlEnabled":this._setValidationMessageOption(t),this.callBase(t);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,t);break;default:this.callBase(t)}},blur:function(){this._hasActiveElement()&&Fn()},reset:function(){var t=this._getDefaultOptions();this.option("value",t.value)}});Yi.isEditor=t=>t instanceof Yi;class Xl{constructor(e,i,n){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=i,this.name=e,this.options=n||{}}_addPlaceMarker(e){this.$placeMarker=h("<div>").appendTo(e)}_addToContainer(e){var{$placeMarker:i,$container:n}=this;i?i.replaceWith(e):e.appendTo(n)}_attachEvents(){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){var{editor:e,options:i}=this;return i.visible||!e.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){var{instance:e,$placeMarker:i}=this;e&&(e.dispose?e.dispose():e.remove(),this.instance=null),i&&i.remove()}render(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.$container;if(this.$container=e,this._isVisible()){var{instance:i,$element:n}=this._create();this.instance=i,this._attachEvents(i,n)}else this._addPlaceMarker(e)}update(){return this._shouldRender()&&this.render(),!!this.instance}}var LS=Et.down,kS="dx-state-invisible",PS="dx-clear-button-area",MS="dx-icon-clear",VS="dx-icon",HS="dx-show-clear-button";class FS extends Xl{_create(){var e=h("<span>").addClass(PS).append(h("<span>").addClass(VS).addClass(MS));return this._addToContainer(e),this.update(!0),{instance:e,$element:e}}_isVisible(){var{editor:e}=this;return e._isClearButtonVisible()}_attachEvents(e,i){var{editor:n}=this,r=n.NAME;p.on(i,T(LS,r),a=>{a.preventDefault(),a.pointerType!=="mouse"&&n._clearValueHandler(a)}),p.on(i,T(Ut,r),a=>n._clearValueHandler(a))}_legacyRender(e,i){e.toggleClass(HS,i)}update(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!e&&super.update();var{editor:i,instance:n}=this,r=i.$element(),a=this._isVisible();n&&n.toggleClass(kS,!a),this._legacyRender(r,a)}}var Ln=Array.isArray;function ia(t){var e=typeof t;return e==="string"||e==="number"}function P(t){return t==null}function kn(t){return t===null||t===!1||t===!0||t===void 0}function G(t){return typeof t=="function"}function Pn(t){return typeof t=="string"}function NS(t){return typeof t=="number"}function Dt(t){return t===null}function WS(t){return t===void 0}function Ze(t,e){var i={};if(t)for(var n in t)i[n]=t[n];if(e)for(var r in e)i[r]=e[r];return i}function Yl(t){return!Dt(t)&&typeof t=="object"}var dt={},zS="$F";function Ql(t){return t.substr(2).toLowerCase()}function Hp(t,e){t.appendChild(e)}function Zl(t,e,i){Dt(i)?Hp(t,e):t.insertBefore(e,i)}function KS(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t)}function US(t,e,i){t.replaceChild(e,i)}function Fp(t,e){t.removeChild(e)}function Np(t){for(var e=0;e<t.length;e++)t[e]()}function jS(t,e,i){var n=t.children;return i&4?n.$LI:i&8192?t.childFlags===2?n:n[e?0:n.length-1]:n}function zt(t,e){for(var i;t;){if(i=t.flags,i&2033)return t.dom;t=jS(t,e,i)}return null}function Gn(t,e){do{var i=t.flags;if(i&2033){Fp(e,t.dom);return}var n=t.children;if(i&4&&(t=n.$LI),i&8&&(t=n),i&8192)if(t.childFlags===2)t=n;else{for(var r=0,a=n.length;r<a;++r)Gn(n[r],e);return}}while(t)}function Wp(t,e,i){do{var n=t.flags;if(n&2033){Zl(e,t.dom,i);return}var r=t.children;if(n&4&&(t=r.$LI),n&8&&(t=r),n&8192)if(t.childFlags===2)t=r;else{for(var a=0,s=r.length;a<s;++a)Wp(r[a],e,i);return}}while(t)}function zp(t,e,i){return t.constructor.getDerivedStateFromProps?Ze(i,t.constructor.getDerivedStateFromProps(e,i)):i}var Mn={v:!1},Qi={componentComparator:null,createVNode:null,renderComplete:null};function Sn(t,e){t.textContent=e}function Kp(t,e){return Yl(t)&&t.event===e.event&&t.data===e.data}function Up(t,e){for(var i in e)WS(t[i])&&(t[i]=e[i]);return t}function Jl(t,e){return!!G(t)&&(t(e),!0)}var yn="$";function Va(t,e,i,n,r,a,s,o){this.childFlags=t,this.children=e,this.className=i,this.dom=null,this.flags=n,this.key=r===void 0?null:r,this.props=a===void 0?null:a,this.ref=s===void 0?null:s,this.type=o}function Ot(t,e,i,n,r,a,s,o){var l=r===void 0?1:r,u=new Va(l,n,i,t,s,a,o,e);return Qi.createVNode&&Qi.createVNode(u),l===0&&Gp(u,u.children),u}function GS(t,e,i){if(t&4)return i;var n=(t&32768?e.render:e).defaultHooks;return P(n)?i:P(i)?n:Up(i,n)}function qS(t,e,i){var n=(t&32768?e.render:e).defaultProps;return P(n)?i:P(i)?Ze(n,null):Up(i,n)}function XS(t,e){return t&12?t:e.prototype&&e.prototype.render?4:e.render?32776:8}function Kt(t,e,i,n,r){t=XS(t,e);var a=new Va(1,null,null,t,n,qS(t,e,i),GS(t,e,r),e);return Qi.createVNode&&Qi.createVNode(a),a}function qn(t,e){return new Va(1,P(t)||t===!0||t===!1?"":t,null,16,e,null,null,null)}function rn(t,e,i){var n=Ot(8192,8192,null,t,e,null,i,null);switch(n.childFlags){case 1:n.children=Ha(),n.childFlags=2;break;case 16:n.children=[qn(t)],n.childFlags=4;break}return n}function ue(t){var e=t.props;if(e){var i=t.flags;i&481&&(e.children!==void 0&&P(t.children)&&Gp(t,e.children),e.className!==void 0&&(P(t.className)&&(t.className=e.className||null),e.className=void 0)),e.key!==void 0&&(t.key=e.key,e.key=void 0),e.ref!==void 0&&(i&8?t.ref=Ze(t.ref,e.ref):t.ref=e.ref,e.ref=void 0)}return t}function YS(t){var e=t.children,i=t.childFlags;return rn(i===2?ft(e):e.map(ft),i,t.key)}function ft(t){var e=t.flags&-16385,i=t.props;if(e&14&&!Dt(i)){var n=i;i={};for(var r in n)i[r]=n[r]}return(e&8192)===0?new Va(t.childFlags,t.children,t.className,e,t.key,i,t.ref,t.type):YS(t)}function Ha(){return qn("",null)}function jp(t,e,i,n){for(var r=t.length;i<r;i++){var a=t[i];if(!kn(a)){var s=n+yn+i;if(Ln(a))jp(a,e,0,s);else{if(ia(a))a=qn(a,s);else{var o=a.key,l=Pn(o)&&o[0]===yn;(a.flags&81920||l)&&(a=ft(a)),a.flags|=65536,l?o.substring(0,n.length)!==n&&(a.key=n+o):Dt(o)?a.key=s:a.key=n+o}e.push(a)}}}}function QS(t){switch(t){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case zS:return 8192;default:return 1}}function Gp(t,e){var i,n=1;if(kn(e))i=e;else if(ia(e))n=16,i=e;else if(Ln(e)){for(var r=e.length,a=0;a<r;++a){var s=e[a];if(kn(s)||Ln(s)){i=i||e.slice(0,a),jp(e,i,a,"");break}else if(ia(s))i=i||e.slice(0,a),i.push(qn(s,yn+a));else{var o=s.key,l=(s.flags&81920)>0,u=Dt(o),c=Pn(o)&&o[0]===yn;l||u||c?(i=i||e.slice(0,a),(l||c)&&(s=ft(s)),(u||c)&&(s.key=yn+a),i.push(s)):i&&i.push(s),s.flags|=65536}}i=i||e,i.length===0?n=1:n=8}else i=e,i.flags|=65536,e.flags&81920&&(i=ft(e)),n=2;return t.children=i,t.childFlags=n,t}function Fa(t){return kn(t)||ia(t)?qn(t,null):Ln(t)?rn(t,0,null):t.flags&16384?ft(t):t}var ti="http://www.w3.org/1999/xlink",Ds="http://www.w3.org/XML/1998/namespace",uc={"xlink:actuate":ti,"xlink:arcrole":ti,"xlink:href":ti,"xlink:role":ti,"xlink:show":ti,"xlink:title":ti,"xlink:type":ti,"xml:base":Ds,"xml:lang":Ds,"xml:space":Ds};function Na(t){return{onClick:t,onDblClick:t,onFocusIn:t,onFocusOut:t,onKeyDown:t,onKeyPress:t,onKeyUp:t,onMouseDown:t,onMouseMove:t,onMouseUp:t,onTouchEnd:t,onTouchMove:t,onTouchStart:t}}var qp=Na(0),Ho=Na(null),Xp=Na(!0);function hc(t,e){var i=e.$EV;return i||(i=e.$EV=Na(null)),i[t]||++qp[t]===1&&(Ho[t]=ay(t)),i}function Yp(t,e){var i=e.$EV;i&&i[t]&&(--qp[t]===0&&(document.removeEventListener(Ql(t),Ho[t]),Ho[t]=null),i[t]=null)}function ZS(t,e,i,n){if(G(i))hc(t,n)[t]=i;else if(Yl(i)){if(Kp(e,i))return;hc(t,n)[t]=i}else Yp(t,n)}function JS(t){return G(t.composedPath)?t.composedPath()[0]:t.target}function Qp(t,e,i,n){var r=JS(t);do{if(e&&r.disabled)return;var a=r.$EV;if(a){var s=a[i];if(s&&(n.dom=r,s.event?s.event(s.data,t):s(t),t.cancelBubble))return}r=r.parentNode}while(!Dt(r))}function ty(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function ey(){return this.defaultPrevented}function iy(){return this.cancelBubble}function Zp(t){var e={dom:document};return t.isDefaultPrevented=ey,t.isPropagationStopped=iy,t.stopPropagation=ty,Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return e.dom}}),e}function ny(t){return function(e){if(e.button!==0){e.stopPropagation();return}Qp(e,!0,t,Zp(e))}}function ry(t){return function(e){Qp(e,!1,t,Zp(e))}}function ay(t){var e=t==="onClick"||t==="onDblClick"?ny(t):ry(t);return document.addEventListener(Ql(t),e),e}function sy(t,e){var i=document.createElement("i");return i.innerHTML=e,i.innerHTML===t.innerHTML}function cc(t,e,i){if(t[e]){var n=t[e];n.event?n.event(n.data,i):n(i)}else{var r=e.toLowerCase();t[r]&&t[r](i)}}function Xn(t,e){var i=function(n){var r=this.$V;if(!!r){var a=r.props||dt,s=r.dom;if(Pn(t))cc(a,t,n);else for(var o=0;o<t.length;++o)cc(a,t[o],n);if(G(e)){var l=this.$V,u=l.props||dt;e(u,s,!1,l)}}};return Object.defineProperty(i,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),i}function li(t,e,i){var n="$"+e,r=t[n];if(r){if(r[1].wrapped)return;t.removeEventListener(r[0],r[1]),t[n]=null}G(i)&&(t.addEventListener(e,i),t[n]=[e,i])}function tu(t){return t==="checkbox"||t==="radio"}var oy=Xn("onInput",eu),ly=Xn(["onClick","onChange"],eu);function Jp(t){t.stopPropagation()}Jp.wrapped=!0;function uy(t,e){tu(e.type)?(li(t,"change",ly),li(t,"click",Jp)):li(t,"input",oy)}function eu(t,e){var i=t.type,n=t.value,r=t.checked,a=t.multiple,s=t.defaultValue,o=!P(n);i&&i!==e.type&&e.setAttribute("type",i),!P(a)&&a!==e.multiple&&(e.multiple=a),!P(s)&&!o&&(e.defaultValue=s+""),tu(i)?(o&&(e.value=n),P(r)||(e.checked=r)):o&&e.value!==n?(e.defaultValue=n,e.value=n):P(r)||(e.checked=r)}function mn(t,e){if(t.type==="option")hy(t,e);else{var i=t.children,n=t.flags;if(n&4)mn(i.$LI,e);else if(n&8)mn(i,e);else if(t.childFlags===2)mn(i,e);else if(t.childFlags&12)for(var r=0,a=i.length;r<a;++r)mn(i[r],e)}}function hy(t,e){var i=t.props||dt,n=t.dom;n.value=i.value,i.value===e||Ln(e)&&e.indexOf(i.value)!==-1?n.selected=!0:(!P(e)||!P(i.selected))&&(n.selected=i.selected||!1)}var cy=Xn("onChange",t_);function dy(t){li(t,"change",cy)}function t_(t,e,i,n){var r=Boolean(t.multiple);!P(t.multiple)&&r!==e.multiple&&(e.multiple=r);var a=t.selectedIndex;a===-1&&(e.selectedIndex=-1);var s=n.childFlags;if(s!==1){var o=t.value;NS(a)&&a>-1&&e.options[a]&&(o=e.options[a].value),i&&P(o)&&(o=t.defaultValue),mn(n,o)}}var fy=Xn("onInput",e_),py=Xn("onChange");function _y(t,e){li(t,"input",fy),e.onChange&&li(t,"change",py)}function e_(t,e,i){var n=t.value,r=e.value;if(P(n)){if(i){var a=t.defaultValue;!P(a)&&a!==r&&(e.defaultValue=a,e.value=a)}}else r!==n&&(e.defaultValue=n,e.value=n)}function i_(t,e,i,n,r,a){t&64?eu(n,i):t&256?t_(n,i,r,e):t&128&&e_(n,i,r),a&&(i.$V=e)}function vy(t,e,i){t&64?uy(e,i):t&256?dy(e):t&128&&_y(e,i)}function n_(t){return t.type&&tu(t.type)?!P(t.checked):!P(t.value)}function Zt(){return{current:null}}function na(t){t&&!Jl(t,null)&&t.current&&(t.current=null)}function Yn(t,e,i){t&&(G(t)||t.current!==void 0)&&i.push(function(){!Jl(t,e)&&t.current!==void 0&&(t.current=e)})}function Yt(t,e){Te(t),Gn(t,e)}function Te(t){var e=t.flags,i=t.children,n;if(e&481){n=t.ref;var r=t.props;na(n);var a=t.childFlags;if(!Dt(r))for(var s=Object.keys(r),o=0,l=s.length;o<l;o++){var u=s[o];Xp[u]&&Yp(u,t.dom)}a&12?Vn(i):a===2&&Te(i)}else i&&(e&4?(G(i.componentWillUnmount)&&i.componentWillUnmount(),na(t.ref),i.$UN=!0,Te(i.$LI)):e&8?(n=t.ref,!P(n)&&G(n.onComponentWillUnmount)&&n.onComponentWillUnmount(zt(t,!0),t.props||dt),Te(i)):e&1024?Yt(i,t.ref):e&8192&&t.childFlags&12&&Vn(i))}function Vn(t){for(var e=0,i=t.length;e<i;++e)Te(t[e])}function $r(t){t.textContent=""}function Lr(t,e,i){Vn(i),e.flags&8192?Gn(e,t):$r(t)}function my(t){var e=t.event;return function(i){e(t.data,i)}}function gy(t,e,i,n){if(Yl(i)){if(Kp(e,i))return;i=my(i)}li(n,Ql(t),i)}function Cy(t,e,i){if(P(e)){i.removeAttribute("style");return}var n=i.style,r,a;if(Pn(e)){n.cssText=e;return}if(!P(t)&&!Pn(t)){for(r in e)a=e[r],a!==t[r]&&n.setProperty(r,a);for(r in t)P(e[r])&&n.removeProperty(r)}else for(r in e)a=e[r],n.setProperty(r,a)}function by(t,e,i,n){var r=t&&t.__html||"",a=e&&e.__html||"";r!==a&&!P(a)&&!sy(n,a)&&(Dt(i)||(i.childFlags&12?Vn(i.children):i.childFlags===2&&Te(i.children),i.children=null,i.childFlags=1),n.innerHTML=a)}function Fo(t,e,i,n,r,a,s){switch(t){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":n.autofocus=!!i;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":n[t]=!!i;break;case"defaultChecked":case"value":case"volume":if(a&&t==="value")break;var o=P(i)?"":i;n[t]!==o&&(n[t]=o);break;case"style":Cy(e,i,n);break;case"dangerouslySetInnerHTML":by(e,i,s,n);break;default:Xp[t]?ZS(t,e,i,n):t.charCodeAt(0)===111&&t.charCodeAt(1)===110?gy(t,e,i,n):P(i)?n.removeAttribute(t):r&&uc[t]?n.setAttributeNS(uc[t],t,i):n.setAttribute(t,i);break}}function r_(t,e,i,n,r){var a=!1,s=(e&448)>0;s&&(a=n_(i),a&&vy(e,n,i));for(var o in i)Fo(o,null,i[o],n,r,a,null);s&&i_(e,t,n,i,!0,a)}function a_(t,e,i){var n=Fa(t.render(e,t.state,i)),r=i;return G(t.getChildContext)&&(r=Ze(i,t.getChildContext())),t.$CX=r,n}function s_(t,e,i,n,r,a){var s=new e(i,n),o=s.$N=Boolean(e.getDerivedStateFromProps||s.getSnapshotBeforeUpdate);if(s.$SVG=r,s.$L=a,t.children=s,s.$BS=!1,s.context=n,s.props===dt&&(s.props=i),o)s.state=zp(s,i,s.state);else if(G(s.componentWillMount)){s.$BR=!0,s.componentWillMount();var l=s.$PS;if(!Dt(l)){var u=s.state;if(Dt(u))s.state=l;else for(var c in l)u[c]=l[c];s.$PS=null}s.$BR=!1}return s.$LI=a_(s,i,n),s}function iu(t,e){var i=t.props||dt;return t.flags&32768?t.type.render(i,t.ref,e):t.type(i,e)}function _t(t,e,i,n,r,a){var s=t.flags|=16384;s&481?l_(t,e,i,n,r,a):s&4?yy(t,e,i,n,r,a):s&8?(Iy(t,e,i,n,r,a),h_(t,a)):s&512||s&16?o_(t,e,r):s&8192?Sy(t,i,e,n,r,a):s&1024&&Ey(t,i,e,r,a)}function Ey(t,e,i,n,r){_t(t.children,t.ref,e,!1,null,r);var a=Ha();o_(a,i,n),t.dom=a.dom}function Sy(t,e,i,n,r,a){var s=t.children,o=t.childFlags;o&12&&s.length===0&&(o=t.childFlags=2,s=t.children=Ha()),o===2?_t(s,i,e,n,r,a):ui(s,i,e,n,r,a)}function o_(t,e,i){var n=t.dom=document.createTextNode(t.children);Dt(e)||Zl(e,n,i)}function l_(t,e,i,n,r,a){var s=t.flags,o=t.props,l=t.className,u=t.childFlags,c=t.dom=KS(t.type,n=n||(s&32)>0),d=t.children;if(!P(l)&&l!==""&&(n?c.setAttribute("class",l):c.className=l),u===16)Sn(c,d);else if(u!==1){var f=n&&t.type!=="foreignObject";u===2?(d.flags&16384&&(t.children=d=ft(d)),_t(d,c,i,f,null,a)):(u===8||u===4)&&ui(d,c,i,f,null,a)}Dt(e)||Zl(e,c,r),Dt(o)||r_(t,s,o,c,n),Yn(t.ref,c,a)}function ui(t,e,i,n,r,a){for(var s=0;s<t.length;++s){var o=t[s];o.flags&16384&&(t[s]=o=ft(o)),_t(o,e,i,n,r,a)}}function yy(t,e,i,n,r,a){var s=s_(t,t.type,t.props||dt,i,n,a);_t(s.$LI,e,s.$CX,n,r,a),u_(t.ref,s,a)}function Iy(t,e,i,n,r,a){_t(t.children=Fa(iu(t,i)),e,i,n,r,a)}function Ty(t){return function(){t.componentDidMount()}}function u_(t,e,i){Yn(t,e,i),G(e.componentDidMount)&&i.push(Ty(e))}function Oy(t,e){return function(){t.onComponentDidMount(zt(e,!0),e.props||dt)}}function h_(t,e){var i=t.ref;P(i)||(Jl(i.onComponentWillMount,t.props||dt),G(i.onComponentDidMount)&&e.push(Oy(i,t)))}function Ay(t,e,i,n,r,a){Te(t),(e.flags&t.flags&2033)!==0?(_t(e,null,n,r,null,a),US(i,e.dom,t.dom)):(_t(e,i,n,r,zt(t,!0),a),Gn(t,i))}function we(t,e,i,n,r,a,s){var o=e.flags|=16384;t.flags!==o||t.type!==e.type||t.key!==e.key||o&2048?t.flags&16384?Ay(t,e,i,n,r,s):_t(e,i,n,r,a,s):o&481?By(t,e,n,r,o,s):o&4?ky(t,e,i,n,r,a,s):o&8?Py(t,e,i,n,r,a,s):o&16?My(t,e):o&512?e.dom=t.dom:o&8192?Dy(t,e,i,n,r,s):Ry(t,e,n,s)}function wy(t,e,i){t!==e&&(t!==""?i.firstChild.nodeValue=e:Sn(i,e))}function xy(t,e){t.textContent!==e&&(t.textContent=e)}function Dy(t,e,i,n,r,a){var s=t.children,o=e.children,l=t.childFlags,u=e.childFlags,c=null;u&12&&o.length===0&&(u=e.childFlags=2,o=e.children=Ha());var d=(u&2)!==0;if(l&12){var f=s.length;(l&8&&u&8||d||!d&&o.length>f)&&(c=zt(s[f-1],!1).nextSibling)}nu(l,u,s,o,i,n,r,c,t,a)}function Ry(t,e,i,n){var r=t.ref,a=e.ref,s=e.children;if(nu(t.childFlags,e.childFlags,t.children,s,r,i,!1,null,t,n),e.dom=t.dom,r!==a&&!kn(s)){var o=s.dom;Fp(r,o),Hp(a,o)}}function By(t,e,i,n,r,a){var s=e.dom=t.dom,o=t.props,l=e.props,u=!1,c=!1,d;if(n=n||(r&32)>0,o!==l){var f=o||dt;if(d=l||dt,d!==dt){u=(r&448)>0,u&&(c=n_(d));for(var m in d){var g=f[m],x=d[m];g!==x&&Fo(m,g,x,s,n,c,t)}}if(f!==dt)for(var E in f)P(d[E])&&!P(f[E])&&Fo(E,f[E],null,s,n,c,t)}var w=e.children,D=e.className;t.className!==D&&(P(D)?s.removeAttribute("class"):n?s.setAttribute("class",D):s.className=D),r&4096?xy(s,w):nu(t.childFlags,e.childFlags,t.children,w,s,i,n&&e.type!=="foreignObject",null,t,a),u&&i_(r,e,s,d,!1,c);var j=e.ref,Z=t.ref;Z!==j&&(na(Z),Yn(j,s,a))}function $y(t,e,i,n,r,a){Te(t),ui(e,i,n,r,zt(t,!0),a),Gn(t,i)}function nu(t,e,i,n,r,a,s,o,l,u){switch(t){case 2:switch(e){case 2:we(i,n,r,a,s,o,u);break;case 1:Yt(i,r);break;case 16:Te(i),Sn(r,n);break;default:$y(i,n,r,a,s,u);break}break;case 1:switch(e){case 2:_t(n,r,a,s,o,u);break;case 1:break;case 16:Sn(r,n);break;default:ui(n,r,a,s,o,u);break}break;case 16:switch(e){case 16:wy(i,n,r);break;case 2:$r(r),_t(n,r,a,s,o,u);break;case 1:$r(r);break;default:$r(r),ui(n,r,a,s,o,u);break}break;default:switch(e){case 16:Vn(i),Sn(r,n);break;case 2:Lr(r,l,i),_t(n,r,a,s,o,u);break;case 1:Lr(r,l,i);break;default:var c=i.length|0,d=n.length|0;c===0?d>0&&ui(n,r,a,s,o,u):d===0?Lr(r,l,i):e===8&&t===8?Hy(i,n,r,a,s,c,d,o,l,u):Vy(i,n,r,a,s,c,d,o,u);break}break}}function Ly(t,e,i,n,r){r.push(function(){t.componentDidUpdate(e,i,n)})}function c_(t,e,i,n,r,a,s,o,l){var u=t.state,c=t.props,d=Boolean(t.$N),f=G(t.shouldComponentUpdate);if(d&&(e=zp(t,i,e!==u?Ze(u,e):e)),s||!f||f&&t.shouldComponentUpdate(i,e,r)){!d&&G(t.componentWillUpdate)&&t.componentWillUpdate(i,e,r),t.props=i,t.state=e,t.context=r;var m=null,g=a_(t,i,r);d&&G(t.getSnapshotBeforeUpdate)&&(m=t.getSnapshotBeforeUpdate(c,u)),we(t.$LI,g,n,t.$CX,a,o,l),t.$LI=g,G(t.componentDidUpdate)&&Ly(t,c,u,m,l)}else t.props=i,t.state=e,t.context=r}function ky(t,e,i,n,r,a,s){var o=e.children=t.children;if(!Dt(o)){o.$L=s;var l=e.props||dt,u=e.ref,c=t.ref,d=o.state;if(!o.$N){if(G(o.componentWillReceiveProps)){if(o.$BR=!0,o.componentWillReceiveProps(l,n),o.$UN)return;o.$BR=!1}Dt(o.$PS)||(d=Ze(d,o.$PS),o.$PS=null)}c_(o,d,l,i,n,r,!1,a,s),c!==u&&(na(c),Yn(u,o,s))}}function Py(t,e,i,n,r,a,s){var o=!0,l=e.props||dt,u=e.ref,c=t.props,d=!P(u),f=t.children;if(d&&G(u.onComponentShouldUpdate)&&(o=u.onComponentShouldUpdate(c,l)),o!==!1){d&&G(u.onComponentWillUpdate)&&u.onComponentWillUpdate(c,l);var m=Fa(iu(e,n));we(f,m,i,n,r,a,s),e.children=m,d&&G(u.onComponentDidUpdate)&&u.onComponentDidUpdate(c,l)}else e.children=f}function My(t,e){var i=e.children,n=e.dom=t.dom;i!==t.children&&(n.nodeValue=i)}function Vy(t,e,i,n,r,a,s,o,l){for(var u=a>s?s:a,c=0,d,f;c<u;++c)d=e[c],f=t[c],d.flags&16384&&(d=e[c]=ft(d)),we(f,d,i,n,r,o,l),t[c]=d;if(a<s)for(c=u;c<s;++c)d=e[c],d.flags&16384&&(d=e[c]=ft(d)),_t(d,i,n,r,o,l);else if(a>s)for(c=u;c<a;++c)Yt(t[c],i)}function Hy(t,e,i,n,r,a,s,o,l,u){var c=a-1,d=s-1,f=0,m=t[f],g=e[f],x,E;t:{for(;m.key===g.key;){if(g.flags&16384&&(e[f]=g=ft(g)),we(m,g,i,n,r,o,u),t[f]=g,++f,f>c||f>d)break t;m=t[f],g=e[f]}for(m=t[c],g=e[d];m.key===g.key;){if(g.flags&16384&&(e[d]=g=ft(g)),we(m,g,i,n,r,o,u),t[c]=g,c--,d--,f>c||f>d)break t;m=t[c],g=e[d]}}if(f>c){if(f<=d)for(x=d+1,E=x<s?zt(e[x],!0):o;f<=d;)g=e[f],g.flags&16384&&(e[f]=g=ft(g)),++f,_t(g,i,n,r,E,u)}else if(f>d)for(;f<=c;)Yt(t[f++],i);else Fy(t,e,n,a,s,c,d,f,i,r,o,l,u)}function Fy(t,e,i,n,r,a,s,o,l,u,c,d,f){var m,g,x,E=0,w=o,D=o,j=a-o+1,Z=s-o+1,yt=new Int32Array(Z+1),ut=j===n,Wt=!1,J=0,wt=0;if(r<4||(j|Z)<32)for(E=w;E<=a;++E)if(m=t[E],wt<Z){for(o=D;o<=s;o++)if(g=e[o],m.key===g.key){if(yt[o-D]=E+1,ut)for(ut=!1;w<E;)Yt(t[w++],l);J>o?Wt=!0:J=o,g.flags&16384&&(e[o]=g=ft(g)),we(m,g,l,i,u,c,f),++wt;break}!ut&&o>s&&Yt(m,l)}else ut||Yt(m,l);else{var Pt={};for(E=D;E<=s;++E)Pt[e[E].key]=E;for(E=w;E<=a;++E)if(m=t[E],wt<Z)if(o=Pt[m.key],o!==void 0){if(ut)for(ut=!1;E>w;)Yt(t[w++],l);yt[o-D]=E+1,J>o?Wt=!0:J=o,g=e[o],g.flags&16384&&(e[o]=g=ft(g)),we(m,g,l,i,u,c,f),++wt}else ut||Yt(m,l);else ut||Yt(m,l)}if(ut)Lr(l,d,t),ui(e,l,i,u,c,f);else if(Wt){var ce=Ny(yt);for(o=ce.length-1,E=Z-1;E>=0;E--)yt[E]===0?(J=E+D,g=e[J],g.flags&16384&&(e[J]=g=ft(g)),x=J+1,_t(g,l,i,u,x<r?zt(e[x],!0):c,f)):o<0||E!==ce[o]?(J=E+D,g=e[J],x=J+1,Wp(g,l,x<r?zt(e[x],!0):c)):o--}else if(wt!==Z)for(E=Z-1;E>=0;E--)yt[E]===0&&(J=E+D,g=e[J],g.flags&16384&&(e[J]=g=ft(g)),x=J+1,_t(g,l,i,u,x<r?zt(e[x],!0):c,f))}var _e,_r,dc=0;function Ny(t){var e=0,i=0,n=0,r=0,a=0,s=0,o=0,l=t.length;for(l>dc&&(dc=l,_e=new Int32Array(l),_r=new Int32Array(l));i<l;++i)if(e=t[i],e!==0){if(n=_e[r],t[n]<e){_r[i]=n,_e[++r]=i;continue}for(a=0,s=r;a<s;)o=a+s>>1,t[_e[o]]<e?a=o+1:s=o;e<t[_e[a]]&&(a>0&&(_r[i]=_e[a-1]),_e[a]=i)}a=r+1;var u=new Int32Array(a);for(s=_e[a-1];a-- >0;)u[a]=s,s=_r[s],_e[a]=0;return u}var Wy=typeof document<"u";Wy&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);function zy(t,e,i,n){var r=[],a=e.$V;Mn.v=!0,P(a)?P(t)||(t.flags&16384&&(t=ft(t)),_t(t,e,n,!1,null,r),e.$V=t,a=t):P(t)?(Yt(a,e),e.$V=null):(t.flags&16384&&(t=ft(t)),we(a,t,e,n,!1,null,r),a=e.$V=t),Np(r),Mn.v=!1,G(i)&&i(),G(Qi.renderComplete)&&Qi.renderComplete(a,e)}function Wa(t,e,i,n){i===void 0&&(i=null),n===void 0&&(n=dt),zy(t,e,i,n)}var kr=[],Ky=typeof Promise<"u"?Promise.resolve().then.bind(Promise.resolve()):function(t){window.setTimeout(t,0)},No=!1;function d_(t,e,i,n){var r=t.$PS;if(G(e)&&(e=e(r?Ze(t.state,r):t.state,t.props,t.context)),P(r))t.$PS=e;else for(var a in e)r[a]=e[a];if(t.$BR)G(i)&&t.$L.push(i.bind(t));else{if(!Mn.v&&kr.length===0){p_(t,n),G(i)&&i.call(t);return}if(kr.indexOf(t)===-1&&kr.push(t),n&&(t.$F=!0),No||(No=!0,Ky(f_)),G(i)){var s=t.$QU;s||(s=t.$QU=[]),s.push(i)}}}function Uy(t){for(var e=t.$QU,i=0;i<e.length;++i)e[i].call(t);t.$QU=null}function f_(){var t;for(No=!1;t=kr.shift();)if(!t.$UN){var e=t.$F;t.$F=!1,p_(t,e),t.$QU&&Uy(t)}}function p_(t,e){if(e||!t.$BR){var i=t.$PS;t.$PS=null;var n=[];Mn.v=!0,c_(t,Ze(t.state,i),t.props,zt(t.$LI,!0).parentNode,t.context,t.$SVG,e,null,n),Np(n),Mn.v=!1}else t.state=t.$PS,t.$PS=null}var za=function(e,i){this.state=null,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=e||dt,this.context=i||dt};za.prototype.forceUpdate=function(e){this.$UN||d_(this,{},e,!0)};za.prototype.setState=function(e,i){this.$UN||this.$BS||d_(this,e,i,!1)};za.prototype.render=function(e,i,n){return null};const Le={lockCount:0,lock(){this.lockCount++},callbacks:[],callEffects(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(this.lockCount===0){const t=this.callbacks;this.callbacks=[],t.forEach(e=>e())}}},Rs=(t,e)=>{if(!(t instanceof Object&&e instanceof Object))return t===e;const n=Object.keys(t),r=Object.keys(e);return n.length!==r.length?!1:!n.some(s=>t[s]!==e[s])};class Qn extends za{constructor(){super(...arguments);this._pendingContext=this.context}componentWillReceiveProps(e,i){this._pendingContext=i??{}}shouldComponentUpdate(e,i){return!Rs(this.props,e)||!Rs(this.state,i)||!Rs(this.context,this._pendingContext)}}class Ka extends Qn{constructor(){super(...arguments);this._effects=[]}createEffects(){return[]}updateEffects(){}componentWillMount(){Le.lock()}componentWillUpdate(e,i,n){Le.lock()}componentDidMount(){Le.callbacks.push(()=>{this._effects=this.createEffects()}),Le.callEffects()}componentDidUpdate(){Le.callbacks.push(()=>this.updateEffects()),Le.callEffects()}destroyEffects(){this._effects.forEach(e=>e.dispose())}componentWillUnmount(){this.destroyEffects()}}class Ua extends Ka{constructor(){super(...arguments);this.vDomElement=null}vDomUpdateClasses(){const e=this.vDomElement,i=e.className.length?e.className.split(" "):[],n=i.filter(a=>e.dxClasses.previous.indexOf(a)<0),r=e.dxClasses.previous.filter(a=>i.indexOf(a)<0);n.forEach(a=>{const s=e.dxClasses.removed.indexOf(a);s>-1?e.dxClasses.removed.splice(s,1):e.dxClasses.added.push(a)}),r.forEach(a=>{const s=e.dxClasses.added.indexOf(a);s>-1?e.dxClasses.added.splice(s,1):e.dxClasses.removed.push(a)})}componentDidMount(){const e=zt(this.$LI,!0);this.vDomElement=e,super.componentDidMount(),e.dxClasses=e.dxClasses||{removed:[],added:[],previous:[]},e.dxClasses.previous=e?.className.length?e.className.split(" "):[]}componentDidUpdate(){super.componentDidUpdate();const e=this.vDomElement;e!==null&&(e.dxClasses.added.forEach(i=>e.classList.add(i)),e.dxClasses.removed.forEach(i=>e.classList.remove(i)),e.dxClasses.previous=e.className.length?e.className.split(" "):[])}shouldComponentUpdate(e,i){const n=super.shouldComponentUpdate(e,i);return n&&this.vDomUpdateClasses(),n}}const jy=function(t){return t};class it{constructor(e,i){this.effect=e,this.dependency=i,this.destroy=e()}update(e){const i=this.dependency;e&&(this.dependency=e),(!e||e.some((n,r)=>i[r]!==n))&&(this.dispose(),this.destroy=this.effect())}dispose(){this.destroy&&this.destroy()}}const ja=()=>new it(()=>{f_()},[]),Gy=["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"],qy=/[A-Z]/g,Xy=t=>t.replace(qy,"-$&").toLowerCase(),Yy=t=>typeof t=="number"?!0:!isNaN(Number(t)),Qy=(t,e)=>Gy.indexOf(t)>-1?e:`${e}px`,__=t=>{if(t instanceof Object)return Object.keys(t).reduce((e,i)=>{const n=t[i],r=Xy(i);return e[r]=Yy(n)?Qy(r,n):n,e},{})},Zy="a runtime error occured! Use Inferno in development environment to find the error.";function Jy(t){return t==null}function tI(t){return t===null||t===!1||t===!0||t===void 0}function eI(t){return typeof t=="function"}function Ni(t){return t===null}function iI(t){throw t||(t=Zy),new Error(`Inferno Error: ${t}`)}function nI(t,e){const i=document.createElement("i");return i.innerHTML=e,i.innerHTML===t.innerHTML}function rI(t){let e,i;for(;t;){if(e=t.flags,e&2033)return t.dom;i=t.children,e&8192?t=t.childFlags===2?i:i[i.length-1]:e&4?t=i.$LI:t=i}return null}function aI(t,e){return Boolean(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&nI(t,e.dangerouslySetInnerHTML.__html))}function sI(t,e,i,n,r,a,s){const o=t.type,l=t.ref,u=t.props||dt;let c;if(a){const d=s_(t,o,u,n,r,s),f=d.$LI;c=Hn(f,e,i,d.$CX,r,s),u_(l,d,s)}else{const d=Fa(iu(t,n));c=Hn(d,e,i,n,r,s),t.children=d,h_(t,s)}return c}function v_(t,e,i,n,r,a){const s=t.childFlags,o=t.children,l=t.props,u=t.flags;if(s!==1){if(s===2)Ni(i)?_t(o,e,n,r,null,a):(i=Hn(o,e,i,n,r,a),i=i?i.nextSibling:null);else if(s===16)Ni(i)?e.appendChild(document.createTextNode(o)):e.childNodes.length!==1||i.nodeType!==3?e.textContent=o:i.nodeValue!==o&&(i.nodeValue=o),i=null;else if(s&12){let c=!1;for(let d=0,f=o.length;d<f;++d){const m=o[d];Ni(i)||c&&(m.flags&16)>0?_t(m,e,n,r,i,a):(i=Hn(m,e,i,n,r,a),i=i?i.nextSibling:null),c=(m.flags&16)>0}}if((u&8192)===0){let c=null;for(;i;)c=i.nextSibling,e.removeChild(i),i=c}}else!Ni(e.firstChild)&&!aI(e,l)&&(e.textContent="",u&448&&(e.defaultValue=""))}function oI(t,e,i,n,r,a){const s=t.props,o=t.className,l=t.flags,u=t.ref;return r=r||(l&32)>0,i.nodeType!==1?(l_(t,null,n,r,null,a),e.replaceChild(t.dom,i)):(t.dom=i,v_(t,i,i.firstChild,n,r,a),Ni(s)||r_(t,l,s,i,r),Jy(o)?i.className!==""&&i.removeAttribute("class"):r?i.setAttribute("class",o):i.className=o,Yn(u,i,a)),t.dom}function m_(t,e,i){if(i.nodeType!==3)e.replaceChild(t.dom=document.createTextNode(t.children),i);else{const n=t.children;i.nodeValue!==n&&(i.nodeValue=n),t.dom=i}return t.dom}function lI(t,e,i,n,r,a){const s=t.children;return t.childFlags===2?(m_(s,e,i),s.dom):(v_(t,e,i,n,r,a),rI(s[s.length-1]))}function Hn(t,e,i,n,r,a){const s=t.flags|=16384;return s&14?sI(t,e,i,n,r,(s&4)>0,a):s&481?oI(t,e,i,n,r,a):s&16?m_(t,e,i):s&512?t.dom=i:s&8192?lI(t,e,i,n,r,a):(iI(),null)}function uI(t,e,i){let n=e.firstChild;if(Ni(n))Wa(t,e,i);else{const r=[];for(tI(t)||(n=Hn(t,e,n,{},!1,r));n&&(n=n.nextSibling);)e.removeChild(n);if(r.length>0){let a;for(;(a=r.shift())!==void 0;)a()}}e.$V=t,eI(i)&&i()}function fc(t){return t==null}function hI(t){return typeof t=="string"}function pc(t){return t===void 0}var cI={onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function Pr(t,e,i){var n=arguments,r,a=null,s=null,o=null,l=0,u,c=arguments.length-2;if(c===1)r=i;else if(c>1)for(r=[];c-- >0;)r[c]=n[c+2];if(hI(t)){if(l=QS(t),!fc(e)){u={};for(var d in e)d==="className"||d==="class"?o=e[d]:d==="key"?s=e.key:d==="children"&&pc(r)?r=e.children:d==="ref"?a=e.ref:(d==="contenteditable"&&(l|=4096),u[d]=e[d])}}else{if(l=2,pc(r)||(e||(e={}),e.children=r),!fc(e)){u={};for(var f in e)f==="key"?s=e.key:f==="ref"?a=e.ref:cI[f]===1?(a||(a={}),a[f]=e[f]):u[f]=e[f]}return Kt(l,t,u,s,a)}return l&8192?rn(c===1?[r]:r,0,s):Ot(l,t,o,r,0,u,s,a)}function dI(t,e,i){setTimeout(()=>{var n;Wa(Pr(t,e),(n=e.container)===null||n===void 0?void 0:n.get(0))},0)}const fI=(t,e,i)=>!!e[t];var _c=t=>{var{parentNode:e}=t;e&&(zd(t),e.$V=t.$V,Wa(null,e),e.appendChild(t),t.innerHTML="",delete e.$V),delete t.$V},Li=ga({createElement:(t,e)=>Pr(t,e),remove:_c,onAfterRender:()=>{Le.callEffects()},onPreRender:()=>{Le.lock()},render:(t,e,i,n)=>{if(n)Wa(Pr(t,e),i);else{var{parentNode:r}=i,a=i?.nextSibling,s=R.createElement("div");s.appendChild(i);var o=R.createDocumentFragment().appendChild(s),l=!!i.$V;l&&_c(i),uI(Pr(t,e),o),i.$V=o.$V,r&&r.insertBefore(i,a)}}}),pI=(t,e)=>Object.keys(t).length!==Object.keys(e).length?!1:Object.keys(t).every(i=>t[i]===e[i]),_I=(t,e)=>{b(e,(i,n)=>{var r=!1;b(t,(a,s)=>{n===s&&(r=!0)}),!r&&n.parentNode&&n.parentNode.removeChild(n)})},Wo=M()?U().Number:Number;Wo.isFinite=Wo.isFinite||function(t){return typeof t=="number"&&isFinite(t)};class vc extends Ka{constructor(e){super(e);this.renderTemplate=this.renderTemplate.bind(this)}renderTemplate(){var e,i=zt(this.$LI,!0),n=i.parentNode,r=h(n),a=r.contents(),{data:s,index:o}=(e=this.props.model)!==null&&e!==void 0?e:{data:{}};s&&Object.keys(s).forEach(u=>{s[u]&&R.isNode(s[u])&&(s[u]=H(h(s[u])))});var l=h(this.props.template.render(A({container:H(r),transclude:this.props.transclude},this.props.transclude?{}:{model:s},!this.props.transclude&&Wo.isFinite(o)?{index:o}:{})));return Em(h(i),l),()=>{_I(a,r.contents()),n.appendChild(i)}}shouldComponentUpdate(e){var{model:i,template:n}=this.props,{model:r,template:a}=e,s=n===a;if(!s)return!0;if(I(i)&&I(r)){var{data:o,index:l}=i,{data:u,index:c}=r;return l!==c||!pI(o,u)}var d=i===r;return!d}createEffects(){return[new it(this.renderTemplate,[this.props.template,this.props.model])]}updateEffects(){this._effects[0].update([this.props.template,this.props.model])}componentWillUnmount(){}render(){return null}}function Bs(t){return Array.isArray(t)?[...t]:A({},t)}function g_(t,e,i){var n=i.length>0&&e&&t!==e?Bs(e):Bs(t),r=i[0];return i.length>1?n[r]=g_(t[r],e?.[r],i.slice(1)):r&&(K(t[r])?n[r]=Bs(t[r]):n[r]=t[r]),n}function vI(t,e,i,n){var r=e[i],a=t[i],s=t;K(r)||i!==n&&Array.isArray(r)?s[i]=g_(r,a,Ca(n).slice(1)):s[i]=r}var $s=(t,e)=>i=>{Object.prototype.hasOwnProperty.call(t,i)&&t[i]===void 0&&(t[i]=e(i))};class Ga extends xi{constructor(e,i){super(e,i);this._shouldRaiseContentReady=!1,this.validateKeyDownHandler()}get _propsInfo(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}validateKeyDownHandler(){var e=this.getSupportedKeyNames(),i=e.length>0,n=typeof this._viewComponent.prototype.keyDown=="function";if(i&&!n)throw Error("Component's declaration must have 'keyDown' method.")}get viewRef(){var e;return(e=this._viewRef)===null||e===void 0?void 0:e.current}_checkContentReadyOption(e){var i=this._getContentReadyOptions().reduce((n,r)=>(n[r]=!0,n),{});return this._checkContentReadyOption=n=>!!i[n],this._checkContentReadyOption(e)}_getContentReadyOptions(){return["rtlEnabled"]}_fireContentReady(){this._actionsMap.onContentReady({})}_getDefaultOptions(){return v(!0,super._getDefaultOptions(),this._viewComponent.defaultProps,this._propsInfo.twoWay.reduce((e,i)=>{var[n,r,a]=i;return A({},e,{[n]:this._viewComponent.defaultProps[r],[a]:s=>this.option(n,s)})},{}),this._propsInfo.templates.reduce((e,i)=>A({},e,{[i]:null}),{}))}_initializeComponent(){var e;super._initializeComponent(),(e=this._templateManager)===null||e===void 0||e.addDefaultTemplates(this.getDefaultTemplates()),this._props=this._optionsWithDefaultTemplates(this.option()),this._propsInfo.templates.forEach(i=>{this._componentTemplates[i]=this._createTemplateComponent(this._props[i])}),Object.keys(this._getActionConfigsFull()).forEach(i=>this._addAction(i)),this._viewRef=Zt(),this.defaultKeyHandlers=this._createDefaultKeyHandlers()}_initMarkup(){var e=this.getProps();this._renderWrapper(e)}_renderWrapper(e){var i=this.$element()[0];this._isNodeReplaced||Li.onPreRender(),Li.render(this._viewComponent,e,i,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,Li.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}_silent(e,i){this._options.silent(e,i)}_render(){}_removeWidget(){Li.remove(this.$element()[0])}_dispose(){this._removeWidget(),super._dispose()}get elementAttr(){if(!this._elementAttr){var{attributes:e}=this.$element()[0],i=Array.from(e).filter(s=>{var o;return!this._propsInfo.templates.includes(s.name)&&((o=e[s.name])===null||o===void 0?void 0:o.specified)}).reduce((s,o)=>{var{name:l,value:u}=o,c=s;return c[l]=u,c},{});this._elementAttr=i,this._storedClasses=this.$element()[0].getAttribute("class")||""}for(var n=this.$element()[0].style,r={},a=0;a<n.length;a+=1)r[n[a]]=n.getPropertyValue(n[a]);return this._elementAttr.style=r,this._elementAttr.class=this._storedClasses,this._elementAttr}_getAdditionalActionConfigs(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}_getAdditionalProps(){return[]}_patchOptionValues(e){var{allowNull:i,elements:n,props:r,twoWay:a}=this._propsInfo,{defaultProps:s}=this._viewComponent,{children:o,onKeyboardHandled:l,ref:u}=e,c=l?(f,m)=>{l(m)}:void 0,d={ref:u,children:o,onKeyDown:c};return[...r,...this._getAdditionalProps()].forEach(f=>{Object.prototype.hasOwnProperty.call(e,f)&&(d[f]=e[f])}),i.forEach($s(d,()=>null)),Object.keys(s).forEach($s(d,f=>s[f])),a.forEach(f=>{var[m,g]=f;$s(d,()=>s[g])(m)}),n.forEach(f=>{if(f in d){var m=d[f];Oe(m)&&(d[f]=this._patchElementParam(m))}}),d}getSupportedKeyNames(){return[]}prepareStyleProp(e){return typeof e.style=="string"?A({},e,{style:{},cssText:e.style}):e}getProps(){var e,i,{elementAttr:n}=this.option(),r=this._patchOptionValues(A({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach(a=>{r[a]=this._componentTemplates[a]}),this.prepareStyleProp(A({},r,this.elementAttr,n,{className:[...((e=this.elementAttr.class)!==null&&e!==void 0?e:"").split(" "),...((i=n?.class)!==null&&i!==void 0?i:"").split(" ")].filter((a,s,o)=>a&&o.indexOf(a)===s).join(" ").trim(),class:""},this._actionsMap))}_getActionConfigs(){return{}}_getActionConfigsFull(){return A({},this._getActionConfigs(),this._getAdditionalActionConfigs())}getDefaultTemplates(){var e=Object.values(this._templatesInfo),i={};return e.forEach(n=>{i[n]="dx-renovation-template-mock"}),i}get _templatesInfo(){return{}}_optionsWithDefaultTemplates(e){var i=Object.entries(this._templatesInfo).reduce((n,r)=>{var a,[s,o]=r;return A({},n,{[s]:(a=e[s])!==null&&a!==void 0?a:o})},{});return A({},e,i)}_init(){super._init(),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}_createDefaultKeyHandlers(){var e={},i=this.getSupportedKeyNames();return i.forEach(n=>{e[n]=r=>this.viewRef.keyDown(hl.createKeyDownOptions(r))}),e}_addAction(e,i){var n=i;if(!n){var r=this._createActionByOption(e,this._getActionConfigsFull()[e]);n=a=>(Object.keys(a).forEach(s=>{I(a[s])&&R.isNode(a[s])&&(a[s]=H(h(a[s])))}),r(a))}this._actionsMap[e]=n}_optionChanged(e){var{fullName:i,name:n,value:r}=e;vI(this._props,this.option(),n,i),this._propsInfo.templates.includes(n)&&(this._componentTemplates[n]=this._createTemplateComponent(r)),n&&this._getActionConfigsFull()[n]&&this._addAction(n),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(i),super._optionChanged(e),this._invalidate()}_extractDefaultSlot(){return this.option("_hasAnonymousTemplateContent")?Li.createElement(vc,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0}):null}_createTemplateComponent(e){if(!!e){var i=this._getTemplate(e);if(!(St(i)&&i==="dx-renovation-template-mock"))return n=>Li.createElement(vc,{template:i,model:n})}}_wrapKeyDownHandler(e){return i=>{var{keyName:n,originalEvent:r,which:a}=i,s=this.customKeyHandlers,o=s[n]||s[a];if(o!==void 0){var l=o.bind(this),u=l(r,i);if(!u)return r.cancel=!0,r}return e?.(r,i)}}_toPublicElement(e){return H(h(e))}_patchElementParam(e){try{var i=h(e),n=i?.get(0);return n!=null&&n.nodeType?n:e}catch{return e}}repaint(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}_supportedKeys(){return A({},this.defaultKeyHandlers,this.customKeyHandlers)}registerKeyHandler(e,i){this.customKeyHandlers[e]=i}setAria(e,i){this._aria[e]=i,this._initMarkup()}}Ga.IS_RENOVATED_WIDGET=!1;Ga.IS_RENOVATED_WIDGET=!0;class mI extends Ga{get _validationGroupConfig(){return ct.getGroupConfig(this._findGroup())}getDefaultTemplateNames(){return["content"]}getSupportedKeyNames(){return["space","enter"]}getProps(){var e=super.getProps();e.onClick=n=>{var{event:r}=n;this._clickAction({event:r,validationGroup:this._validationGroupConfig})};var i=Ma(e.icon);return i==="svg"&&(e.iconTemplate=this._createTemplateComponent(()=>e.icon)),e}get _templatesInfo(){return{template:"content"}}_toggleActiveState(e,i){var n=this.viewRef;i?n.activate():n.deactivate()}_getSubmitAction(){var e=!0,i="valid";return this._createAction(n=>{var{event:r,submitInput:a}=n;if(e){var s=this._validationGroupConfig;if(s!==void 0&&s!==""){var o=s.validate();i=o.status,o.status==="pending"&&(e=!1,this.option("disabled",!0),o.complete.then(l=>{var{status:u}=l;this.option("disabled",!1),i=u,i==="valid"&&a.click(),e=!0}))}}i!=="valid"&&r.preventDefault(),r.stopPropagation()})}_initializeComponent(){super._initializeComponent(),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}_initMarkup(){super._initMarkup();var e=this.$element().find(".dx-button-content"),i=e.children().filter(".dx-template-wrapper"),n=e.children().filter(".dx-button-submit-input");i.length&&(i.addClass("dx-button-content"),i.append(n),e.replaceWith(i))}_patchOptionValues(e){return super._patchOptionValues(A({},e,{templateData:e._templateData}))}_findGroup(){var e=this.$element(),i=this.option("validationGroup");return i!==void 0&&i!==""?i:ct.findGroup(e,this._modelByElement(e))}_createClickAction(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}_optionChanged(e){switch(e.name){case"onClick":this._clickAction=this._createClickAction()}super._optionChanged(e)}}function He(t){return Object.keys(t).filter(e=>t[e]).join(" ")}var gI=["iconTemplate","position","source"],CI=t=>{var{iconClassName:e,props:{iconTemplate:i,source:n},sourceType:r}=t;return rn([r==="dxIcon"&&Ot(1,"i",e),r==="fontIcon"&&Ot(1,"i",e),r==="image"&&Ot(1,"img",e,null,1,{alt:"",src:n}),i&&Ot(1,"i",e,i({}),0)],0)},bI={position:"left",source:""},EI=t=>t&&(t.defaultProps?e=>ue(Kt(2,t,A({},e))):t);class C_ extends Qn{constructor(e){super(e);this.state={}}get sourceType(){return Ma(this.props.source)}get cssClass(){return this.props.position!=="left"?"dx-icon-right":""}get iconClassName(){var e={"dx-icon":!0,[this.cssClass]:!!this.cssClass},{source:i}=this.props;return this.sourceType==="dxIcon"?He(A({},e,{["dx-icon-".concat(i)]:!0})):this.sourceType==="fontIcon"?He(A({},e,{[String(i)]:!!i})):this.sourceType==="image"?He(e):this.sourceType==="svg"?He(A({},e,{"dx-svg-icon":!0})):""}get restAttributes(){var e=this.props,i=kt(e,gI);return i}render(){var e=this.props;return CI({props:A({},e,{iconTemplate:EI(e.iconTemplate)}),sourceType:this.sourceType,cssClass:this.cssClass,iconClassName:this.iconClassName,restAttributes:this.restAttributes})}}C_.defaultProps=bI;var SI=["config"],yI=t=>ue(Ot(1,"div","dx-inkripple",null,1,A({},t.restAttributes))),II={get config(){return{}}};class b_ extends Qn{constructor(e){super(e);this.state={},this.__getterCache={},this.hideWave=this.hideWave.bind(this),this.showWave=this.showWave.bind(this)}get getConfig(){return this.__getterCache.getConfig!==void 0?this.__getterCache.getConfig:this.__getterCache.getConfig=(()=>{var{config:e}=this.props;return Dp(e)})()}get restAttributes(){var e=this.props,i=kt(e,SI);return i}hideWave(e){Lp(this.getConfig,e)}showWave(e){Bp(this.getConfig,e)}componentWillUpdate(e,i,n){this.props.config!==e.config&&(this.__getterCache.getConfig=void 0)}render(){var e=this.props;return yI({props:A({},e),getConfig:this.getConfig,restAttributes:this.restAttributes})}}b_.defaultProps=II;function vt(t){return(e,i,n,r)=>{var a=r?T(t,r):t;if(i)return p.on(e,a,n,i),()=>{p.off(e,a,i)}}}var gB=vt(Ut),CB=vt(Ht.scroll),bB=vt(Ht.init),EB=vt(Ht.start),SB=vt(Ht.move),yB=vt(Ht.end),IB=vt(Ht.stop),TB=vt(Ht.cancel),OB=vt(Et.down),AB=vt(Et.up),wB=vt("mouseenter"),xB=vt("mouseleave"),DB=vt("keydown"),TI=vt("dxactive"),OI=vt("dxinactive"),AI=vt("dxhoverstart"),wI=vt("dxhoverend"),xI=vt("focusin"),DI=vt("focusout"),qa={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,rtlEnabled:!1,tabIndex:0,visible:!0},E_=jy(void 0),RI=["children","rtlEnabled"],BI=t=>t.props.children,$I={};class S_ extends Qn{constructor(e){super(e);this.state={},this.__getterCache={}}getChildContext(){return A({},this.context,{ConfigContext:this.config})}get config(){return this.__getterCache.config!==void 0?this.__getterCache.config:this.__getterCache.config=(()=>({rtlEnabled:this.props.rtlEnabled}))()}get restAttributes(){var e=this.props,i=kt(e,RI);return i}componentWillUpdate(e,i,n){this.props.rtlEnabled!==e.rtlEnabled&&(this.__getterCache.config=void 0)}render(){var e=this.props;return BI({props:A({},e),config:this.config,restAttributes:this.restAttributes})}}S_.defaultProps=$I;function LI(t,e){return t!==void 0?t:e?.rtlEnabled!==void 0?e.rtlEnabled:$t().rtlEnabled}function kI(t,e){var i=I(t),n=I($t().rtlEnabled)&&!i&&!I(e?.rtlEnabled);return i&&t!==e?.rtlEnabled||n}var PI=["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"],MI=400,VI=30,HI=t=>Object.keys(t).reduce((e,i)=>t[i]?A({},e,{[i==="role"||i==="id"?i:"aria-".concat(i)]:String(t[i])}):e,{}),FI=t=>{var e=ue(Ot(1,"div",t.cssClasses,t.props.children,0,A({},t.attributes,{tabIndex:t.tabIndex,title:t.props.hint,hidden:!t.props.visible,style:__(t.styles)}),null,t.widgetElementRef));return t.shouldRenderConfigProvider?Kt(2,S_,{rtlEnabled:t.rtlEnabled,children:e}):e},ra=Object.create(Object.prototype,A(Object.getOwnPropertyDescriptors(qa),Object.getOwnPropertyDescriptors({_feedbackHideTimeout:MI,_feedbackShowTimeout:VI,cssText:"",get aria(){return{}},classes:"",name:"",addWidgetClass:!0})));class ru extends Ua{constructor(e){super(e);this.widgetElementRef=Zt(),this.state={active:!1,focused:!1,hovered:!1},this.setRootElementRef=this.setRootElementRef.bind(this),this.activeEffect=this.activeEffect.bind(this),this.inactiveEffect=this.inactiveEffect.bind(this),this.clickEffect=this.clickEffect.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.focusInEffect=this.focusInEffect.bind(this),this.focusOutEffect=this.focusOutEffect.bind(this),this.hoverStartEffect=this.hoverStartEffect.bind(this),this.hoverEndEffect=this.hoverEndEffect.bind(this),this.keyboardEffect=this.keyboardEffect.bind(this),this.resizeEffect=this.resizeEffect.bind(this),this.windowResizeEffect=this.windowResizeEffect.bind(this),this.visibilityEffect=this.visibilityEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.applyCssTextEffect=this.applyCssTextEffect.bind(this)}get config(){return"ConfigContext"in this.context?this.context.ConfigContext:E_}createEffects(){return[new it(this.setRootElementRef,[]),new it(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new it(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new it(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new it(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new it(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new it(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new it(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new it(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new it(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new it(this.windowResizeEffect,[this.props.onDimensionChanged]),new it(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new it(this.checkDeprecation,[this.props.height,this.props.width]),new it(this.applyCssTextEffect,[this.props.cssText]),ja()]}updateEffects(){var e,i,n,r,a,s,o,l,u,c,d,f,m;(e=this._effects[1])===null||e===void 0||e.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),(i=this._effects[2])===null||i===void 0||i.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),(n=this._effects[3])===null||n===void 0||n.update([this.props.disabled,this.props.name,this.props.onClick]),(r=this._effects[4])===null||r===void 0||r.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),(a=this._effects[5])===null||a===void 0||a.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),(s=this._effects[6])===null||s===void 0||s.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),(o=this._effects[7])===null||o===void 0||o.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),(l=this._effects[8])===null||l===void 0||l.update([this.props.focusStateEnabled,this.props.onKeyDown]),(u=this._effects[9])===null||u===void 0||u.update([this.props.name,this.props.onDimensionChanged]),(c=this._effects[10])===null||c===void 0||c.update([this.props.onDimensionChanged]),(d=this._effects[11])===null||d===void 0||d.update([this.props.name,this.props.onVisibilityChange]),(f=this._effects[12])===null||f===void 0||f.update([this.props.height,this.props.width]),(m=this._effects[13])===null||m===void 0||m.update([this.props.cssText])}setRootElementRef(){var{onRootElementRendered:e,rootElementRef:i}=this.props;i&&(i.current=this.widgetElementRef.current),e?.(this.widgetElementRef.current)}activeEffect(){var{_feedbackShowTimeout:e,activeStateEnabled:i,activeStateUnit:n,disabled:r,onActive:a}=this.props,s=n;if(i&&!r)return TI(this.widgetElementRef.current,o=>{this.setState(l=>({active:!0})),a?.(o)},{timeout:e,selector:s},"UIFeedback")}inactiveEffect(){var{_feedbackHideTimeout:e,activeStateEnabled:i,activeStateUnit:n,onInactive:r}=this.props,a=n;if(i)return OI(this.widgetElementRef.current,s=>{this.state.active&&(this.setState(o=>({active:!1})),r?.(s))},{timeout:e,selector:a},"UIFeedback")}clickEffect(){var{disabled:e,name:i,onClick:n}=this.props,r=i;if(n&&!e)return qu.on(this.widgetElementRef.current,n,{namespace:r}),()=>qu.off(this.widgetElementRef.current,{namespace:r})}focusInEffect(){var{disabled:e,focusStateEnabled:i,name:n,onFocusIn:r}=this.props,a="".concat(n,"Focus");if(i&&!e)return xI(this.widgetElementRef.current,s=>{s.isDefaultPrevented()||(this.setState(o=>({focused:!0})),r?.(s))},null,a)}focusOutEffect(){var{focusStateEnabled:e,name:i,onFocusOut:n}=this.props,r="".concat(i,"Focus");if(e)return DI(this.widgetElementRef.current,a=>{!a.isDefaultPrevented()&&this.state.focused&&(this.setState(s=>({focused:!1})),n?.(a))},null,r)}hoverStartEffect(){var{activeStateUnit:e,disabled:i,hoverStateEnabled:n,onHoverStart:r}=this.props,a=e;if(n&&!i)return AI(this.widgetElementRef.current,s=>{!this.state.active&&this.setState(o=>({hovered:!0})),r?.(s)},{selector:a},"UIFeedback")}hoverEndEffect(){var{activeStateUnit:e,hoverStateEnabled:i,onHoverEnd:n}=this.props,r=e;if(i)return wI(this.widgetElementRef.current,a=>{this.state.hovered&&(this.setState(s=>({hovered:!1})),n?.(a))},{selector:r},"UIFeedback")}keyboardEffect(){var{focusStateEnabled:e,onKeyDown:i}=this.props;if(e&&i){var n=An.on(this.widgetElementRef.current,this.widgetElementRef.current,r=>i(r));return()=>An.off(n)}}resizeEffect(){var e="".concat(this.props.name,"VisibilityChange"),{onDimensionChanged:i}=this.props;if(i)return Ur.on(this.widgetElementRef.current,i,{namespace:e}),()=>Ur.off(this.widgetElementRef.current,{namespace:e})}windowResizeEffect(){var{onDimensionChanged:e}=this.props;if(e)return On.add(e),()=>{On.remove(e)}}visibilityEffect(){var{name:e,onVisibilityChange:i}=this.props,n="".concat(e,"VisibilityChange");if(i)return jr.on(this.widgetElementRef.current,()=>i(!0),()=>i(!1),{namespace:n}),()=>jr.off(this.widgetElementRef.current,{namespace:n})}checkDeprecation(){var{height:e,width:i}=this.props;k(i)&&N.log("W0017","width"),k(e)&&N.log("W0017","height")}applyCssTextEffect(){var{cssText:e}=this.props;e!==""&&(this.widgetElementRef.current.style.cssText=e)}get shouldRenderConfigProvider(){var{rtlEnabled:e}=this.props;return kI(e,this.config)}get rtlEnabled(){var{rtlEnabled:e}=this.props;return LI(e,this.config)}get attributes(){var{aria:e,disabled:i,focusStateEnabled:n,visible:r}=this.props,a=n&&!i&&this.props.accessKey;return A({},v({},this.restAttributes,a&&{accessKey:a}),HI(A({},e,{disabled:i,hidden:!r})))}get styles(){var{height:e,width:i}=this.props,n=this.restAttributes.style||{},r=Wr("width",k(i)?i():i),a=Wr("height",k(e)?e():e);return A({},n,{height:a??n.height,width:r??n.width})}get cssClasses(){var{activeStateEnabled:e,addWidgetClass:i,className:n,classes:r,disabled:a,focusStateEnabled:s,hoverStateEnabled:o,onVisibilityChange:l,visible:u}=this.props,c=!!s&&!a,d=!!o&&!a,f=!!e&&!a,m={"dx-widget":!!i,[String(r)]:!!r,[String(n)]:!!n,"dx-state-disabled":!!a,"dx-state-invisible":!u,"dx-state-focused":!!this.state.focused&&c,"dx-state-active":!!this.state.active&&f,"dx-state-hover":!!this.state.hovered&&d&&!this.state.active,"dx-rtl":!!this.rtlEnabled,"dx-visibility-change-handler":!!l};return He(m)}get tabIndex(){var{disabled:e,focusStateEnabled:i,tabIndex:n}=this.props,r=i&&!e;return r?n:void 0}get restAttributes(){var e=this.props,i=kt(e,PI);return i}focus(){xr.trigger(this.widgetElementRef.current)}blur(){var e=R.getActiveElement();this.widgetElementRef.current===e&&e.blur()}activate(){this.setState(e=>({active:!0}))}deactivate(){this.setState(e=>({active:!1}))}render(){var e=this.props;return FI({props:A({},e),active:this.state.active,focused:this.state.focused,hovered:this.state.hovered,widgetElementRef:this.widgetElementRef,config:this.config,shouldRenderConfigProvider:this.shouldRenderConfigProvider,rtlEnabled:this.rtlEnabled,attributes:this.attributes,styles:this.styles,cssClasses:this.cssClasses,tabIndex:this.tabIndex,restAttributes:this.restAttributes})}}ru.defaultProps=ra;var NI=["accessKey","activeStateEnabled","children","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"],WI=["outlined","text","contained"],zI=t=>{var{icon:e,iconPosition:i,stylingMode:n,text:r,type:a}=t,s=n&&WI.includes(n),o={"dx-button":!0,["dx-button-mode-".concat(s?n:"contained")]:!0,["dx-button-".concat(a??"normal")]:!0,"dx-button-has-text":!!r,"dx-button-has-icon":!!e,"dx-button-icon-right":i!=="left"};return He(o)},KI=t=>{var{children:e,iconPosition:i,iconTemplate:n,template:r,text:a}=t.props,s=!t.props.template&&!e&&a!=="",o=i==="left",l=!t.props.template&&!e&&(t.iconSource||t.props.iconTemplate)&&Kt(2,C_,{source:t.iconSource,position:i,iconTemplate:n});return ue(Kt(2,ru,A({accessKey:t.props.accessKey,activeStateEnabled:t.props.activeStateEnabled,aria:t.aria,className:t.props.className,classes:t.cssClasses,disabled:t.props.disabled,focusStateEnabled:t.props.focusStateEnabled,height:t.props.height,hint:t.props.hint,hoverStateEnabled:t.props.hoverStateEnabled,onActive:t.onActive,onClick:t.onWidgetClick,onInactive:t.onInactive,onKeyDown:t.keyDown,rtlEnabled:t.props.rtlEnabled,tabIndex:t.props.tabIndex,visible:t.props.visible,width:t.props.width},t.restAttributes,{children:Ot(1,"div","dx-button-content",[t.props.template&&r({data:t.buttonTemplateData}),!t.props.template&&e,o&&l,s&&Ot(1,"span","dx-button-text",a,0),!o&&l,t.props.useSubmitBehavior&&Ot(64,"input","dx-button-submit-input",null,1,{type:"submit",tabIndex:-1},null,t.submitInputRef),t.props.useInkRipple&&Kt(2,b_,{config:t.inkRippleConfig},null,t.inkRippleRef)],0,null,null,t.contentRef)}),null,t.widgetRef))},UI=Object.create(Object.prototype,A(Object.getOwnPropertyDescriptors(qa),Object.getOwnPropertyDescriptors({activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,get templateData(){return{}}}))),y_=ef([{device:()=>B.real().deviceType==="desktop"&&!B.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>Tt(Xe()),options:{useInkRipple:!0}}]),mc=t=>t&&(t.defaultProps?e=>ue(Kt(2,t,A({},e))):t);class aa extends Ua{constructor(e){super(e);this.state={},this.contentRef=Zt(),this.inkRippleRef=Zt(),this.submitInputRef=Zt(),this.widgetRef=Zt(),this.__getterCache={},this.focus=this.focus.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.submitEffect=this.submitEffect.bind(this),this.onActive=this.onActive.bind(this),this.onInactive=this.onInactive.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[new it(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),ja()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.onSubmit,this.props.useSubmitBehavior])}submitEffect(){var{onSubmit:e,useSubmitBehavior:i}=this.props;if(i&&e)return Xu.on(this.submitInputRef.current,n=>e({event:n,submitInput:this.submitInputRef.current}),{namespace:"UIFeedback"}),()=>Xu.off(this.submitInputRef.current,{namespace:"UIFeedback"})}onActive(e){var{useInkRipple:i}=this.props;i&&this.inkRippleRef.current.showWave({element:this.contentRef.current,event:e})}onInactive(e){var{useInkRipple:i}=this.props;i&&this.inkRippleRef.current.hideWave({element:this.contentRef.current,event:e})}onWidgetClick(e){var{onClick:i,useSubmitBehavior:n}=this.props;i?.({event:e}),n&&this.submitInputRef.current.click()}keyDown(e){var{onKeyDown:i}=this.props,{keyName:n,originalEvent:r,which:a}=e,s=i?.(e);if(s!=null&&s.cancel)return s;(n==="space"||a==="space"||n==="enter"||a==="enter")&&(r.preventDefault(),this.onWidgetClick(r))}get aria(){var{icon:e,text:i}=this.props,n=(i??"")||e;return!i&&e&&Ma(e)==="image"&&(n=e.includes("base64")?"Base64":e.replace(/.+\/([^.]+)\..+$/,"$1")),A({role:"button"},n?{label:n}:{})}get cssClasses(){return zI(this.props)}get iconSource(){var{icon:e,type:i}=this.props;return e||i==="back"?(e??"")||"back":""}get inkRippleConfig(){return this.__getterCache.inkRippleConfig!==void 0?this.__getterCache.inkRippleConfig:this.__getterCache.inkRippleConfig=(()=>{var{icon:e,text:i,type:n}=this.props;return!i&&e||n==="back"?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}})()}get buttonTemplateData(){var{icon:e,templateData:i,text:n}=this.props;return A({icon:e,text:n},i)}get restAttributes(){var e=this.props,i=kt(e,NI);return i}focus(){this.widgetRef.current.focus()}activate(){this.widgetRef.current.activate()}deactivate(){this.widgetRef.current.deactivate()}componentWillUpdate(e,i,n){super.componentWillUpdate(),(this.props.icon!==e.icon||this.props.text!==e.text||this.props.type!==e.type)&&(this.__getterCache.inkRippleConfig=void 0)}render(){var e=this.props;return KI({props:A({},e,{template:mc(e.template),iconTemplate:mc(e.iconTemplate)}),contentRef:this.contentRef,submitInputRef:this.submitInputRef,inkRippleRef:this.inkRippleRef,widgetRef:this.widgetRef,onActive:this.onActive,onInactive:this.onInactive,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,aria:this.aria,cssClasses:this.cssClasses,iconSource:this.iconSource,inkRippleConfig:this.inkRippleConfig,buttonTemplateData:this.buttonTemplateData,restAttributes:this.restAttributes})}}aa.defaultProps=Object.create(Object.prototype,A(Object.getOwnPropertyDescriptors(UI),Object.getOwnPropertyDescriptors(A({},ze(y_)))));var gc=[];function jI(t){gc.push(t),aa.defaultProps=Object.create(Object.prototype,A(Object.getOwnPropertyDescriptors(aa.defaultProps),Object.getOwnPropertyDescriptors(ze(y_)),Object.getOwnPropertyDescriptors(ze(gc))))}class xe extends mI{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}activate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.activate(...arguments)}deactivate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.deactivate(...arguments)}_getActionConfigs(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}get _propsInfo(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:["activeStateEnabled","hoverStateEnabled","icon","iconPosition","onClick","onSubmit","pressed","stylingMode","template","iconTemplate","text","type","useInkRipple","useSubmitBehavior","templateData","className","accessKey","disabled","focusStateEnabled","height","hint","onKeyDown","rtlEnabled","tabIndex","visible","width"]}}get _viewComponent(){return aa}}et("dxButton",xe);xe.defaultOptions=jI;var RB=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"})),Cc="dx-custom-button-hovered";class GI extends Xl{_attachEvents(e,i){var{editor:n}=this;p.on(i,vl,()=>{n.$element().addClass(Cc)}),p.on(i,ml,()=>{n.$element().removeClass(Cc)}),p.on(i,Ut,r=>{r.stopPropagation()})}_create(){var{editor:e}=this,i=h("<div>");this._addToContainer(i);var n=e._createComponent(i,xe,v({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(e)}));return{$element:i,instance:n}}_prepareIntegrationOptions(e){return v({},e.option("integrationOptions"),{skipTemplates:["content"]})}update(){var e=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),e}_isVisible(){var{editor:e}=this;return e.option("visible")}_isDisabled(){var e=this.options.disabled!==void 0;return e?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}}var qI="dx-texteditor-buttons-container";function XI(t){(()=>{if(!t||typeof t!="object"||Array.isArray(t))throw pt.Error("E1053")})(),(()=>{if(!("name"in t))throw pt.Error("E1054")})(),(()=>{var{name:e}=t;if(typeof e!="string")throw pt.Error("E1055")})(),(()=>{var{location:e}=t;"location"in t&&e!=="after"&&e!=="before"&&(t.location="after")})()}function bc(t,e){if(t.indexOf(e)!==-1)throw pt.Error("E1055",e);t.push(e)}function YI(t,e){return!!uo(e,i=>i.name===t)}class QI{constructor(e,i){this.buttons=[],this.defaultButtonsInfo=i,this.editor=e}_compileButtonInfo(e){var i=[];return e.map(n=>{var r=typeof n=="string";r||XI(n);var a=r||YI(n.name,this.defaultButtonsInfo);if(a){var s=uo(this.defaultButtonsInfo,l=>{var{name:u}=l;return u===n||u===n.name});if(!s)throw pt.Error("E1056",this.editor.NAME,n);return bc(i,n),s}else{var{name:o}=n;return bc(i,o),v(n,{Ctor:GI})}})}_createButton(e){var{Ctor:i,options:n,name:r}=e,a=new i(r,this.editor,n);return this.buttons.push(a),a}_renderButtons(e,i,n){var r=null,a=e?this._compileButtonInfo(e):this.defaultButtonsInfo;return a.forEach(s=>{var{location:o="after"}=s;o===n&&this._createButton(s).render((()=>(r=r||h("<div>").addClass(qI),n==="before"?i.prepend(r):i.append(r),r))())}),r}clean(){this.buttons.forEach(e=>e.dispose()),this.buttons=[]}getButton(e){var i=uo(this.buttons,n=>{var{name:r}=n;return r===e});return i&&i.instance}renderAfterButtons(e,i){return this._renderButtons(e,i,"after")}renderBeforeButtons(e,i){return this._renderButtons(e,i,"before")}updateButtons(e){this.buttons.forEach(i=>{(!e||e.indexOf(i.name)!==-1)&&i.update()})}}var Ec="dx-texteditor-label",Sc="dx-texteditor-with-label",yc="dx-texteditor-with-floating-label",Ic="dx-texteditor-with-before-buttons",ZI="dx-label-before",JI="dx-label",tT="dx-label-after";class eT{constructor(e){var{$editor:i,text:n,mode:r,mark:a,containsButtonsBefore:s,containerWidth:o,beforeWidth:l}=e;this._props={$editor:i,text:n,mode:r,mark:a,containsButtonsBefore:s,containerWidth:o,beforeWidth:l},this._id="".concat(Ec,"-").concat(new Ae),this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&this._props.mode!=="hidden"}_render(){this._$before=h("<div>").addClass(ZI),this._$labelSpan=h("<span>"),this._$label=h("<div>").addClass(JI).append(this._$labelSpan),this._$after=h("<div>").addClass(tT),this._$root=h("<div>").addClass(Ec).attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){var e=this._isVisible();this._updateEditorBeforeButtonsClass(e),this._updateEditorLabelClass(e),e?this._$root.appendTo(this._props.$editor):this._$root.detach()}_updateEditorLabelClass(e){if(this._props.$editor.removeClass(yc).removeClass(Sc),e){var i=this._props.mode==="floating"?yc:Sc;this._props.$editor.addClass(i)}}_updateEditorBeforeButtonsClass(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._isVisible();if(this._props.$editor.removeClass(Ic),e){var i=this._props.containsButtonsBefore?Ic:"";this._props.$editor.addClass(i)}}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){this._$before.css({width:this._props.beforeWidth})}_updateMaxWidth(){this._$label.css({maxWidth:this._props.containerWidth})}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(e){this._props.mode=e,this._toggleMarkupVisibility()}updateText(e){this._props.text=e,this._updateText(),this._toggleMarkupVisibility()}updateMark(e){this._props.mark=e,this._updateMark()}updateContainsButtonsBefore(e){this._props.containsButtonsBefore=e,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(e){this._props.beforeWidth=e,this._updateBeforeWidth()}updateMaxWidth(e){this._props.containerWidth=e,this._updateMaxWidth()}}var iT="dx-texteditor",nT="dx-texteditor-input-container",I_="dx-texteditor-input",rT="."+I_,aT="dx-texteditor-container",sT="dx-texteditor-buttons-container",Tc="dx-placeholder",oT="dx-texteditor-empty",lT="dx-state-invisible",uT="dx-pending-indicator",Oc="dx-validation-pending",hT="dx-valid",vr=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],cT=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"],dT=eT;function Ac(t){if(I(t)&&!Array.isArray(t))throw pt.Error("E1053")}var fT=Yi.inherit({ctor:function(t,e){e&&Ac(e.buttons),this._buttonCollection=new QI(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return v(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(t){return I(t)&&t!==!1?t:""},stylingMode:$t().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})},_defaultOptionsRules:function(){var t=Xe();return this.callBase().concat([{device:function(){return Tt(t)},options:{stylingMode:$t().editorStylingMode||"filled",labelMode:"floating"}}])},_getDefaultButtons:function(){return[{name:"clear",Ctor:FS}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(rT).first()},_isFocused:function(){return Xi(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find("."+sT).eq(0)},_isControlKey:function(t){return cT.indexOf(t)!==-1},_renderStylingMode:function(){this.callBase(),this._updateButtonsStyling(this.option("stylingMode"))},_initMarkup:function(){this.$element().addClass(iT),this._renderInput(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue(),this._renderLabel()},_render:function(){this.callBase(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput:function(){this._$buttonsContainer=this._$textEditorContainer=h("<div>").addClass(aT).appendTo(this.$element()),this._$textEditorInputContainer=h("<div>").addClass(nT).appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput()),this._renderButtonContainers()},_getInputContainer(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass(Oc);var t=this._getInputContainer(),e=h("<div>").addClass(uT).appendTo(t);this._pendingIndicator=this._createComponent(e,Ye)},_disposePendingIndicator:function(){!this._pendingIndicator||(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass(Oc))},_renderValidationState:function(){this.callBase();var t=this.option("validationStatus")==="pending",e=this.$element();t?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):(this.option("validationStatus")==="invalid"&&(this._showValidMark=!1),!this._showValidMark&&this.option("showValidationMark")===!0&&(this._showValidMark=this.option("validationStatus")==="valid"&&!!this._pendingIndicator),this._disposePendingIndicator()),e.toggleClass(hT,!!this._showValidMark)},_renderButtonContainers:function(){var t=this.option("buttons");this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(t,this._$buttonsContainer),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(t,this._$buttonsContainer)},_cleanButtonContainers:function(){var t,e;(t=this._$beforeButtonsContainer)===null||t===void 0||t.remove(),(e=this._$afterButtonsContainer)===null||e===void 0||e.remove(),this._buttonCollection.clean()},_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this._$buttonsContainer=null,this.callBase()},_createInput:function(){var t=h("<input>");return this._applyInputAttributes(t,this.option("inputAttr")),t},_setSubmitElementName:function(t){var e=this.option("inputAttr.name");return this.callBase(t||e||"")},_applyInputAttributes:function(t,e){var i=v(this._getDefaultAttributes(),e);t.attr(i).addClass(I_).css("minHeight",this.option("height")?"0":"")},_getDefaultAttributes:function(){var t={autocomplete:"off"},{ios:e,mac:i}=B.real();return(e||i)&&(t.placeholder=" "),t},_updateButtons:function(t){this._buttonCollection.updateButtons(t)},_updateButtonsStyling:function(t){b(this.option("buttons"),(e,i)=>{var{options:n,name:r}=i;if(n&&!n.stylingMode&&this.option("visible")){var a=this.getButton(r);a.option&&a.option("stylingMode",t==="underlined"?"text":"contained")}})},_renderValue:function(){var t=this._renderInputValue();return t.promise()},_renderInputValue:function(t){var e;t=(e=t)!==null&&e!==void 0?e:this.option("value");var i=this.option("text"),n=this.option("displayValue"),r=this.option("displayValueFormatter");return n!==void 0&&t!==null?i=r(n):I(i)||(i=r(t)),this.option("text",i),this._input().val()!==(I(i)?i:"")?this._renderDisplayText(i):this._toggleEmptinessEventHandler(),new y().resolve()},_renderDisplayText:function(t){this._input().val(t),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var t=this._input().get(0).validity;if(t)return t.valid}return!0},_toggleEmptiness:function(t){this.$element().toggleClass(oT,t),this._togglePlaceholder(t)},_togglePlaceholder:function(t){this.$element().find(".".concat(Tc)).eq(0).toggleClass(lT,!t)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(t){this.callBase.apply(this,arguments);var e=this._input();e.prop("disabled",t)},_toggleTabIndex:function(){var t=this._input(),e=this.option("disabled"),i=this.option("focusStateEnabled");e||!i?t.attr("tabIndex",-1):t.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_unobserveLabelContainerResize:function(){this._labelContainerElement&&(Yr.unobserve(this._labelContainerElement),this._labelContainerElement=null)},_getLabelContainer:function(){return this._input()},_getLabelContainerWidth:function(){return F(this._getLabelContainer())},_getLabelBeforeWidth:function(){var t=this._$beforeButtonsContainer&&F(this._$beforeButtonsContainer);return t??0},_updateLabelWidth:function(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())},_setLabelContainerAria:function(){this.setAria("labelledby",this._label.getId(),this._getLabelContainer())},_renderLabel:function(){this._unobserveLabelContainerResize(),this._labelContainerElement=h(this._getLabelContainer()).get(0);var{label:t,labelMode:e,labelMark:i}=this.option(),n={$editor:this.$element(),text:t,mark:i,mode:e,containsButtonsBefore:!!this._$beforeButtonsContainer,containerWidth:this._getLabelContainerWidth(),beforeWidth:this._getLabelBeforeWidth()};this._label=new dT(n),this._setLabelContainerAria(),this._labelContainerElement&&Yr.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var t=this._input(),e=this.option("placeholder"),i=this._$placeholder=h("<div>").attr("data-dx_placeholder",e);i.insertAfter(t),i.addClass(Tc)},_attachPlaceholderEvents:function(){var t=T(Et.up,this.NAME);p.on(this._$placeholder,t,()=>{p.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||h()},_clearValueHandler:function(t){var e=this._input();t.stopPropagation(),this._saveValueChangeEvent(t),this._clearValue(),!this._isFocused()&&p.trigger(e,"focus"),p.trigger(e,"input")},_clearValue:function(){this.reset()},_renderEvents:function(){var t=this._input();b(vr,(e,i)=>{if(this.hasActionSubscription("on"+i)){var n=this._createActionByOption("on"+i,{excludeValidators:["readOnly"]});p.on(t,T(i.toLowerCase(),this.NAME),r=>{this._disposed||n({event:r})})}})},_refreshEvents:function(){var t=this._input();b(vr,(e,i)=>{p.off(t,T(i.toLowerCase(),this.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_keyDownHandler:function(t){var e=this._input(),i=t.ctrlKey&&le(t)==="enter",n=e.val()!==this.option("value");i&&n&&p.trigger(e,"change")},_renderValueChangeEvent:function(){var t=T(this._renderValueEventName(),"".concat(this.NAME,"TextChange")),e=T(this.option("valueChangeEvent"),"".concat(this.NAME,"ValueChange")),i=T("keydown","".concat(this.NAME,"TextChange")),n=this._input();p.on(n,t,this._keyPressHandler.bind(this)),p.on(n,e,this._valueChangeEventHandler.bind(this)),p.on(n,i,this._keyDownHandler.bind(this))},_cleanValueChangeEvent:function(){var t=".".concat(this.NAME,"ValueChange"),e=".".concat(this.NAME,"TextChange");p.off(this._input(),t),p.off(this._input(),e)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_isInput:function(t){return t===this._input().get(0)},_preventNestedFocusEvent:function(t){if(t.isDefaultPrevented())return!0;var e=this._isNestedTarget(t.relatedTarget);return t.type==="focusin"?e=e&&this._isNestedTarget(t.target)&&!this._isInput(t.target):e||this._toggleFocusClass(!1,this.$element()),e&&t.preventDefault(),e},_isNestedTarget:function(t){return!!this.$element().find(t).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_focusOutHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_toggleFocusClass:function(t,e){this.callBase(t,this._focusClassTarget(e))},_hasFocusClass:function(t){return this.callBase(h(t||this.$element()))},_renderEmptinessEvent:function(){var t=this._input();p.on(t,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var t=this._input().val(),e=(t===""||t===null)&&this._isValueValid();this._toggleEmptiness(e)},_valueChangeEventHandler:function(t,e){this.option("readOnly")||(this._saveValueChangeEvent(t),this.option("value",arguments.length>1?e:this._input().val()),this._saveValueChangeEvent(void 0))},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),p.off(this._input(),"keyup.onEnterKey.dxTextEditor"),p.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(t){this._disposed||le(t)==="enter"&&this._enterKeyAction({event:t})},_updateValue:function(){this._options.silent("text",null),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_hasActiveElement:function(){return this._input().is(R.getActiveElement())},_optionChanged:function(t){var{name:e,fullName:i,value:n}=t;if(L(e.replace("on",""),vr)>-1){this._refreshEvents();return}switch(e){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(t),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder();break;case"label":this._label.updateText(n),this._setLabelContainerAria();break;case"labelMark":this._label.updateMark(n);break;case"labelMode":this._label.updateMode(n),this._setLabelContainerAria();break;case"width":this.callBase(t),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(t);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":break;case"value":this._updateValue(),this.callBase(t);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(e));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":i===e&&Ac(n),this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break;case"visible":this.callBase(t),n&&this.option("buttons")&&(this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")));break;case"displayValueFormatter":this._invalidate();break;case"showValidationMark":break;default:this.callBase(t)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(t){var e=this._input();t==="search"&&(t="text");try{e.prop("type",t)}catch{e.prop("type","text")}},getButton(t){return this._buttonCollection.getButton(t)},focus:function(){p.trigger(this._input(),"focus")},reset:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var t=this._getDefaultOptions();this.option("value")===t.value?(this._options.silent("text",""),this._renderValue()):this.option("value",t.value)},on:function(t,e){var i=this.callBase(t,e),n=t.charAt(0).toUpperCase()+t.substr(1);return vr.indexOf(n)>=0&&this._refreshEvents(),i}}),Ls="dxMask",pT="blur beforedeactivate",_T=" ";class T_{constructor(e){this.editor=e,this.DIRECTION={FORWARD:"forward",BACKWARD:"backward"},this.NAME=this._getStrategyName()}_getStrategyName(){return"base"}editorOption(){return this.editor.option(...arguments)}editorInput(){return this.editor._input()}editorCaret(e){if(!e)return this.editor._caret();this.editor._caret(e)}getHandler(e){var i=this["_".concat(e,"Handler")]||function(){};return i.bind(this)}attachEvents(){var e=this.editorInput();this.getHandleEventNames().forEach(i=>{var n=T(i.toLowerCase(),Ls);p.on(e,n,this.getEventHandler(i))}),this._attachChangeEventHandlers()}getHandleEventNames(){return["focusIn","focusOut","keyDown","input","paste","cut","drop"]}getEventHandler(e){return this["_".concat(e,"Handler")].bind(this)}detachEvents(){p.off(this.editorInput(),".".concat(Ls))}_attachChangeEventHandlers(){L("change",this.editorOption("valueChangeEvent").split(" "))!==-1&&p.on(this.editorInput(),T(pT,Ls),function(e){this._suppressCaretChanging(this._changeHandler,[e]),this._changeHandler(e)}.bind(this.editor))}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor._direction(this.DIRECTION.FORWARD),!this.editor._isValueEmpty()&&this.editorOption("isValid"))this.editor._adjustCaret();else{var e=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(function(){this._caret({start:e,end:e})}.bind(this.editor),0)}}_focusOutHandler(e){this.editor._changeHandler(e),this.editorOption("showMaskMode")==="onFocus"&&this.editor._isValueEmpty()&&(this.editorOption("text",""),this.editor._renderDisplayText(""))}_cutHandler(e){var i=this.editorCaret(),n=this.editorInput().val().substring(i.start,i.end);this.editor._maskKeyHandler(e,()=>Hu(e,n))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout(function(){this.option("value",this._convertToValue(this._input().val()))}.bind(this.editor))}_clearDragTimer(){clearTimeout(this._dragTimer)}_keyDownHandler(){this._keyPressHandled=!1}_pasteHandler(e){var{editor:i}=this;this._keyPressHandled=!0;var n=this.editorCaret();i._maskKeyHandler(e,()=>{var r=Hu(e),a=i._maskRulesChain.text().substring(n.end),s=i._handleChain({text:r,start:n.start,length:r.length}),o=n.start+s;i._handleChain({text:a,start:o,length:a.length}),i._caret({start:o,end:o})})}_autoFillHandler(e){var{editor:i}=this,n=this.editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._keyPressHandled=!0,this._isAutoFill()&&(this._keyPressHandled=!0,i._maskKeyHandler(e,()=>{i._handleChain({text:n,start:0,length:n.length})}),i._validateMask())})}_isAutoFill(){var e=this.editor._input(),i=!1;if(di.webkit){var n=e.get(0);i=n&&n.matches(":-webkit-autofill")}return i}runWithoutEventProcessing(e){var i=this._keyPressHandled;this._keyPressHandled=!0,e(),this._keyPressHandled=i}_backspaceHandler(){}_delHandler(e){var{editor:i}=this;this._keyPressHandled=!0,i._maskKeyHandler(e,()=>!i._hasSelection()&&i._handleKey(_T))}clean(){this._clearDragTimer(),clearTimeout(this._backspaceHandlerTimeout),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}}var vT="deleteContentBackward",mT=" ";class gT extends T_{_getStrategyName(){return"default"}getHandleEventNames(){return[...super.getHandleEventNames(),"keyPress"]}_keyPressHandler(e){if(!this._keyPressHandled&&(this._keyPressHandled=!0,!this.editor._isControlKeyFired(e))){var{editor:i}=this;i._maskKeyHandler(e,()=>i._handleKey(Gm(e)))}}_inputHandler(e){if(this._backspaceInputHandled(e.originalEvent&&e.originalEvent.inputType)&&this._handleBackspaceInput(e),e.originalEvent&&this._autoFillHandler(e),!this._keyPressHandled){this._keyPressHandled=!0;var i=this.editorInput().val(),n=this.editorCaret();if(!!n.end){n.start=n.end-1;var r=i.substring(0,n.start)+i.substring(n.end),a=i[n.start],{editor:s}=this;this.editorInput().val(r),s._caret({start:n.start,end:n.start}),s._maskKeyHandler(e,()=>s._handleKey(a))}}}_backspaceHandler(e){var{editor:i}=this;this._keyPressHandled=!0;var n=(r,a)=>{r&&(i._direction(this.DIRECTION.FORWARD),i._adjustCaret());var s=this.editorCaret();return new si(o=>{clearTimeout(this._backspaceHandlerTimeout),this._backspaceHandlerTimeout=setTimeout(function(){a(s),o()})})};i._maskKeyHandler(e,()=>i._hasSelection()?n(!0,r=>{i._displayMask(r),i._maskRulesChain.reset()}):i._tryMoveCaretBackward()?n(!1,r=>{this.editorCaret(r)}):(i._handleKey(mT,this.DIRECTION.BACKWARD),n(!0,r=>{i._displayMask(r),i._maskRulesChain.reset()})))}_backspaceInputHandled(e){return e===vT&&!this._keyPressHandled}_handleBackspaceInput(e){var{start:i,end:n}=this.editorCaret();this.editorCaret({start:i+1,end:n+1}),this._backspaceHandler(e)}}var CT="deleteContentBackward";class bT extends T_{_getStrategyName(){return"inputEvents"}getHandleEventNames(){return[...super.getHandleEventNames(),"beforeInput"]}_beforeInputHandler(){this._prevCaret=this.editorCaret()}_inputHandler(e){var{originalEvent:i}=e;if(!!i){var{inputType:n,data:r}=i,a=this.editorCaret();if(n===CT){var s=this._prevCaret.end-this._prevCaret.start||1;this.editor.setBackwardDirection(),this._updateEditorMask({start:a.start,length:s,text:this._getEmptyString(s)})}else{var o,l,u;if(!a.end)return;this._autoFillHandler(i),this.editorCaret(a);var c=((o=this._prevCaret)===null||o===void 0?void 0:o.end)-((l=this._prevCaret)===null||l===void 0?void 0:l.start),d=r+(c?this._getEmptyString(c-r.length):"");this.editor.setForwardDirection();var f=this._updateEditorMask({start:(u=this._prevCaret)===null||u===void 0?void 0:u.start,length:c||d.length,text:d});f||this.editorCaret(this._prevCaret)}}}_getEmptyString(e){return Array(e+1).join(" ")}_updateEditorMask(e){var i=e.text.length,n=this.editor._handleChain(e);if(this.editor.isForwardDirection()){var{start:r,end:a}=this.editorCaret(),s=n-i;r<=n&&n>1&&this.editorCaret({start:r+s,end:a+s}),this.editor.isForwardDirection()&&this.editor._adjustCaret()}return this.editor._displayMask(),!!n}}var ET=function(){return{}},mr=kp,wc=" ",ST="\\",xc="dx-texteditor-masked",ks="forward",yT="backward",IT={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(t){return gr(t)},l:function(t){return gr(t)||Rc(t)},C:/\S/,c:/./,A:function(t){return gr(t)||Dc(t)},a:function(t){return gr(t)||Dc(t)||Rc(t)}};function Dc(t){return/[0-9]/.test(t)}function gr(t){var e=t.charCodeAt();return 64<e&&e<91||96<e&&e<123||e>127}function Rc(t){return t===" "}var O_=fT.inherit({_getDefaultOptions:function(){return v(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:rt.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var t=this,e={backspace:t._maskStrategy.getHandler("backspace"),del:t._maskStrategy.getHandler("del"),enter:t._changeHandler},i=t.callBase();return b(e,function(n,r){var a=i[n];i[n]=function(s){t.option("mask")&&r.call(t,s),a&&a(s)}}),i},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){this._maskStrategy=fS()?new bT(this):new gT(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){var t=this._onMouseWheel!==C;if(!!t){var e=this._input(),i=T(wa,this.NAME),n=this._createAction(function(r){var{event:a}=r;Xi(e)&&!_i(a)&&(this._onMouseWheel(a),a.preventDefault(),a.stopPropagation())}.bind(this));p.off(e,i),p.on(e,i,function(r){n({event:r})})}},_onMouseWheel:C,_render:function(){this._renderMask(),this.callBase(),this._attachMouseWheelEventHandlers()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=h("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass(xc),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass(xc),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_suppressCaretChanging:function(t,e){mr=ET;try{t.apply(this,e)}finally{mr=kp}},_changeHandler:function(t){var e=this._input(),i=e.val();if(i!==this._changedValue){this._changedValue=i;var n=ul(t,{type:"change"});p.trigger(e,n)}},_parseMask:function(){this._maskRules=v({},IT,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(t){var e=this.option("mask");if(t>=e.length)return new pS;var i=e[t],n=i===ST,r=n?new rc({maskChar:e[t+1]}):this._getMaskRule(i);return r.next(this._parseMaskRule(t+1+n)),r},_getMaskRule:function(t){var e;return b(this._maskRules,function(i,n){if(i===t)return e={pattern:i,allowedChars:n},!1}),I(e)?new Mp(v({maskChar:this.option("maskChar")},e)):new rc({maskChar:t})},_renderMaskedValue:function(){if(!!this._maskRulesChain){var t=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var e={length:t.length};e[this._isMaskedValueMode()?"text":"value"]=t,this._handleChain(e),this._displayMask()}},_replaceSelectedText:function(t,e,i){if(i===void 0)return t;var n=t.slice(0,e.start),r=t.slice(e.end),a=n+i+r;return a},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(t){t=t||this._caret(),this._renderValue(),this._caret(t)},_isValueEmpty:function(){return ss(this._value)},_shouldShowMask:function(){var t=this.option("showMaskMode");return t==="onFocus"?Xi(this._input())||!this._isValueEmpty():!0},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var t=this._maskRulesChain.text();this.option("text",t),this.option("showMaskMode")==="onFocus"&&this._renderDisplayText(t)}},_renderValue:function(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){var t=this._maskRulesChain.value(),e=ss(t)?"":this._getPreparedValue();this._$hiddenElement.val(e)}return this.callBase()},_getPreparedValue:function(){return this._convertToValue().replace(/\s+$/,"")},_valueChangeEventHandler:function(t){if(!this._maskRulesChain){this.callBase.apply(this,arguments);return}this._saveValueChangeEvent(t),this.option("value",this._getPreparedValue())},_isControlKeyFired:function(t){return this._isControlKey(le(t))||_i(t)},_handleChain:function(t){var e=this._maskRulesChain.handle(this._normalizeChainArguments(t));return this._value=this._maskRulesChain.value(),this._textValue=this._maskRulesChain.text(),e},_normalizeChainArguments:function(t){return t=t||{},t.index=0,t.fullText=this._maskRulesChain.text(),t},_convertToValue:function(t){return this._isMaskedValueMode()?t=this._replaceMaskCharWithEmpty(t||this._textValue||""):t=t||this._value||"",t},_replaceMaskCharWithEmpty:function(t){return t.replace(new RegExp(this.option("maskChar"),"g"),wc)},_maskKeyHandler:function(t,e){if(!this.option("readOnly")){this.setForwardDirection(),t.preventDefault(),this._handleSelection();var i=this._input().val(),n=()=>{i!==this._input().val()&&this._maskStrategy.runWithoutEventProcessing(()=>p.trigger(this._input(),"input"))},r=e();r?r.then(n):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),n())}},_handleKey:function(t,e){this._direction(e||ks),this._adjustCaret(t),this._handleKeyChain(t),this._moveCaret()},_handleSelection:function(){if(!!this._hasSelection()){var t=this._caret(),e=new Array(t.end-t.start+1).join(wc);this._handleKeyChain(e)}},_handleKeyChain:function(t){var e=this._caret(),i=this.isForwardDirection()?e.start:e.start-1,n=this.isForwardDirection()?e.end:e.end-1,r=i===n?1:n-i;this._handleChain({text:t,start:i,length:r})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var t=this._caret().start;return this._adjustCaret(),!t||t!==this._caret().start},_adjustCaret:function(t){var e=this._caret().start,i=this.isForwardDirection(),n=this._maskRulesChain.adjustedCaret(e,i,t);this._caret({start:n,end:n})},_moveCaret:function(){var t=this._caret().start,e=t+(this.isForwardDirection()?0:-1),i=this._maskRulesChain.isAccepted(e)?t+(this.isForwardDirection()?1:-1):t;this._caret({start:i,end:i})},_caret:function(t,e){var i=this._input();if(!!i.length){if(!arguments.length)return mr(i);mr(i,t,e)}},_hasSelection:function(){var t=this._caret();return t.start!==t.end},_direction:function(t){if(!arguments.length)return this._typingDirection;this._typingDirection=t},setForwardDirection:function(){this._direction(ks)},setBackwardDirection:function(){this._direction(yT)},isForwardDirection:function(){return this._direction()===ks},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(!!this._maskRulesChain){var t=ss(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:t,validationError:t?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask()},_processEmptyMask:function(t){if(!t){var e=this.option("value");this.option({text:e,isValid:!0}),this.validationRequest.fire({value:e,editor:this}),this._renderValue()}},_optionChanged:function(t){switch(t.name){case"mask":this._updateMaskOption(),this._processEmptyMask(t.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(t),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(t)}}});et("dxTextEditor",O_);var TT=U(),OT=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],AT="dx-textbox",Bc="dx-searchbox",wT="dx-icon",xT="dx-icon-search",au=O_.inherit({ctor:function(t,e){e&&(this._showClearButton=e.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return v(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass(AT),this.callBase(),this.setAria("role","textbox")},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_useTemplates:function(){return!1},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var t=this._getMaxLength();t&&t>0?this._input().attr("maxLength",t):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var t=this._$element;this.option("mode")==="search"?(t.addClass(Bc),this._renderSearchIcon(),this._showClearButton===void 0&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(t.removeClass(Bc),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",this._showClearButton===void 0?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var t=h("<div>").addClass(wT).addClass(xT);t.prependTo(this._input().parent()),this._$searchIcon=t},_getLabelContainerWidth:function(){if(this._$searchIcon){var t=this._input().parent();return F(t)-this._getLabelBeforeWidth()}return this.callBase()},_getLabelBeforeWidth:function(){var t=this.callBase();return this._$searchIcon&&(t+=ot(this._$searchIcon)),t},_optionChanged:function(t){switch(t.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":this.callBase(t),this._updateLabelWidth();break;case"mask":this.callBase(t),this._toggleMaxLengthProp();break;default:this.callBase(t)}},_onKeyDownCutOffHandler:function(t){var e=this._getMaxLength();if(e&&!t.ctrlKey&&!this._hasSelection()){var i=h(t.target),n=le(t);return this._cutOffExtraChar(i),i.val().length<e||L(n,OT)!==-1||TT.getSelection().toString()!==""}else return!0},_onChangeCutOffHandler:function(t){var e=h(t.target);this.option("maxLength")&&this._cutOffExtraChar(e)},_cutOffExtraChar:function(t){var e=this._getMaxLength(),i=t.val();e&&i.length>e&&t.val(i.substr(0,e))},_getMaxLength:function(){var t=!!this.option("mask");return t?null:this.option("maxLength")}});et("dxTextBox",au);var BB=Object.freeze(Object.defineProperty({__proto__:null,default:au},Symbol.toStringTag,{value:"Module"})),DT="dx-state-invisible",RT="dx-state-disabled",BT="dx-item-content-placeholder",$T=function(t,e,i){var n=function(a){r!==a&&(i(a,r),r=a)},r;return{dispose:t(e,n),force:function(){n(e())}}},su=W.inherit({ctor:function(t,e,i){this._$element=t,this._options=e,this._rawData=i,Xd(t,this,this._dispose),this._render()},_render:function(){var t=h("<div>").addClass(BT);this._$element.append(t),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(t,e){var i=this._rawData,n=this._options.fieldGetter(t),r=$T(this._options.watchMethod(),function(){return n(i)},function(a,s){this._dirty=!0,e(a,s)}.bind(this));this._watchers.push(r)},setDataField:function(){if(this._dirty=!1,b(this._watchers,function(t,e){e.force()}),this._dirty)return!0},_renderDisabled:function(t,e){this._$element.toggleClass(RT,!!t),this._updateOwnerFocus(t)},_updateOwnerFocus:function(t){var e=this._options.owner;e&&t&&e._resetItemFocus(this._$element)},_renderVisible:function(t,e){this._$element.toggleClass(DT,t!==void 0&&!t)},_dispose:function(){b(this._watchers,function(t,e){e.dispose()})}});su.getInstance=function(t){return Yd(t,this)};var $c=Math.abs,ou="dxhold",LT=750,Lc=5,kT=Aa.inherit({start:function(t){this._startEventData=Q(t),this._startTimer(t)},_startTimer:function(t){var e="timeout"in this?this.timeout:LT;this._holdTimer=setTimeout(function(){this._requestAccept(t),this._fireEvent(ou,t,{target:t.target}),this._forgetAccept()}.bind(this),e)},move:function(t){this._touchWasMoved(t)&&this._cancel(t)},_touchWasMoved:function(t){var e=Ve(this._startEventData,Q(t));return $c(e.x)>Lc||$c(e.y)>Lc},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});en({emitter:kT,bubble:!0,events:[ou]});var A_={name:ou},lu="dxContexMenu",PT=T("contextmenu",lu),MT=T(A_.name,lu),uu="dxcontextmenu",VT=W.inherit({setup:function(t){var e=h(t);p.on(e,PT,this._contextMenuHandler.bind(this)),(xn||B.isSimulator())&&p.on(e,MT,this._holdHandler.bind(this))},_holdHandler:function(t){pi(t)&&!B.isSimulator()||this._fireContextMenu(t)},_contextMenuHandler:function(t){this._fireContextMenu(t)},_fireContextMenu:function(t){return wi({type:uu,originalEvent:t})},teardown:function(t){p.off(t,"."+lu)}});ne(uu,new VT);var HT=uu,FT=function(t,e,i,n,r){var a,s=((o,l,u)=>l(()=>o,u))(t,e,function(o){if(a&&a(),Fv(o)){r(o);return}a=function(l,u,c,d,f){var m={},g=c.slice(),x=c.map(function(E){var w=d[E];return u(w?()=>w(l):()=>l[E],function(D){if(m[E]=D,g.length){var j=g.indexOf(E);j>=0&&g.splice(j,1)}g.length||f(m)})});return function(){x.forEach(E=>E())}}(o,e,i,n,r)});return function(){a&&a(),s&&s()}};class hu extends Ai{constructor(e,i,n,r){super();this._render=e,this._fields=i,this._fieldsMap=r||{},this._watchMethod=n}_renderCore(e){var i=h(e.container),n=FT(e.model,this._watchMethod,this._fields,this._fieldsMap,r=>{i.empty(),this._render(i,r,e.model)});return p.on(i,je,n),i.contents()}}var NT="dx-collection",Cr="dx-item",kc="-content",Pc="dx-item-content-placeholder",WT="dxItemData",zT="dxItemIndex",KT="tmpl-",UT="dxItem",jT="dx-item-selected",GT="dx-item-response-wait",qT="dx-empty-collection",Mc="dx-template-wrapper",XT=/^([^.]+\[\d+\]\.)+([\w.]+)$/,YT="item",Ps="up",Ms="down",Vc="left",Hc="right",QT="pageup",ZT="pagedown",Fc="last",Nc="first",w_=Re.inherit({_activeStateUnit:"."+Cr,_supportedKeys:function(){var t=function(i){var n=h(this.option("focusedElement"));!n.length||this._itemClickHandler(v({},i,{target:n.get(0),currentTarget:n.get(0)}))},e=function(i,n){_i(n)||(n.preventDefault(),n.stopPropagation(),this._moveFocus(i,n))};return v(this.callBase(),{space:function(i){i.preventDefault(),t.call(this,i)},enter:t,leftArrow:e.bind(this,Vc),rightArrow:e.bind(this,Hc),upArrow:e.bind(this,Ps),downArrow:e.bind(this,Ms),pageUp:e.bind(this,Ps),pageDown:e.bind(this,Ms),home:e.bind(this,Nc),end:e.bind(this,Fc)})},_getDefaultOptions:function(){return v(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:rt.format("dxCollectionWidget-noDataText"),dataSource:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(t){return t?t.disabled:void 0},visibleExpr:function(t){return t?t.visible:void 0}})},_init:function(){this._compileDisplayGetter(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var t=this.option("displayExpr");this._displayGetter=t?At(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:function(){return YT},_initDefaultItemTemplate:function(){var t=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new hu(function(e,i){K(i)?this._prepareDefaultItemTemplate(i,e):(t&&k(t.text)&&(i=t.text(i)),e.text(String(Bt(i,""))))}.bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),t)})},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(t,e){I(t.text)&&e.text(t.text),I(t.html)&&e.html(t.html)},_initItemsFromMarkup:function(){var t=sf(this.$element(),UT);if(!(!t.length||this.option("items").length)){var e=t.map(i=>{var{element:n,options:r}=i,a=/\S/.test(n.innerHTML)&&!r.template;return a?r.template=this._prepareItemTemplate(n):h(n).remove(),r});this.option("items",e)}},_prepareItemTemplate:function(t){var e=KT+new Ae,i=h(t).detach().clone().removeAttr("data-options").addClass(Mc);return this._saveTemplate(e,i),e},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(t){if(this.callBase.apply(this,arguments),L(t.target,this._focusTarget())!==-1){var e=h(this.option("focusedElement"));if(e.length)this._setFocusedItem(e);else{var i=this._getActiveItem();i.length&&this.option("focusedElement",H(i))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var t=h(this.option("focusedElement"));this._updateFocusedItemState(t,!1)},_getActiveItem:function(t){var e=h(this.option("focusedElement"));if(e.length)return e;var i=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,n=this._getActiveElement(),r=n.length-1;return i<0&&(i=t?r:0),n.eq(i)},_moveFocus:function(t){var e=this._getAvailableItems(),i;switch(t){case QT:case Ps:i=this._prevItem(e);break;case ZT:case Ms:i=this._nextItem(e);break;case Hc:i=this.option("rtlEnabled")?this._prevItem(e):this._nextItem(e);break;case Vc:i=this.option("rtlEnabled")?this._nextItem(e):this._prevItem(e);break;case Nc:i=e.first();break;case Fc:i=e.last();break;default:return!1}i.length!==0&&this.option("focusedElement",H(i))},_getVisibleItems:function(t){return t=t||this._itemElements(),t.filter(":visible")},_getAvailableItems:function(t){return this._getVisibleItems(t).not(".dx-state-disabled")},_prevItem:function(t){var e=this._getActiveItem(),i=t.index(e),n=t.last(),r=h(t[i-1]),a=this.option("loopItemFocus");return r.length===0&&a&&(r=n),r},_nextItem:function(t){var e=this._getActiveItem(!0),i=t.index(e),n=t.first(),r=h(t[i+1]),a=this.option("loopItemFocus");return r.length===0&&a&&(r=n),r},_selectFocusedItem:function(t){this.selectItem(t)},_updateFocusedItemState:function(t,e,i){var n=h(t);n.length&&(this._refreshActiveDescendant(),this._refreshItemId(n,i),this._toggleFocusClass(e,n)),this._updateParentActiveDescendant()},_refreshActiveDescendant:function(t){this.setAria("activedescendant",I(this.option("focusedElement"))?this.getFocusedItemId():null,t)},_refreshItemId:function(t,e){!e&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),t):this.setAria("id",null,t)},_setFocusedItem:function(t){!t||!t.length||(this._updateFocusedItemState(t,!0),this.onFocusedItemChanged(this.getFocusedItemId()),this.option("selectOnFocus")&&this._selectFocusedItem(t))},_findItemElementByItem:function(t){var e=h(),i=this;return this.itemElements().each(function(){var n=h(this);if(n.data(i._itemDataKey())===t)return e=n,!1}),e},_getIndexByItem:function(t){return this.option("items").indexOf(t)},_itemOptionChanged:function(t,e,i,n){var r=this._findItemElementByItem(t);if(!!r.length){this.constructor.ItemClass.getInstance(r).setDataField(e,i)||this._refreshItem(r,t);var a=e==="disabled"&&i;a&&this._resetItemFocus(r)}},_resetItemFocus(t){t.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(t){var e=this._getItemData(t),i=t.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+i,e,null,t)},_updateParentActiveDescendant:C,_optionChanged:function(t){if(t.name==="items"){var e=t.fullName.match(XT);if(e&&e.length){var i=e[e.length-1],n=t.fullName.replace("."+i,""),r=this.option(n);this._itemOptionChanged(r,i,t.value,t.previousValue);return}}switch(t.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._updateFocusedItemState(t.previousValue,!1,!0),this._setFocusedItem(h(t.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;case"visibleExpr":case"disabledExpr":this._invalidate();break;default:this.callBase(t)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){var t=this._dataSource;return this._expectNextPageLoading(),t.pageIndex(1+t.pageIndex()),t.load()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(t){var e=this.option("items");this._initialized&&e&&this._shouldAppendItems()?(this._renderedItemsCount=e.length,(!this._isLastPage()||this._startIndexForAppendedItems!==-1)&&(this.option().items=e.concat(t.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",t.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return this._startIndexForAppendedItems!=null&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer()},_cleanItemContainer:function(){h(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return Cr},_itemContentClass:function(){return this._itemClass()+kc},_selectedItemClass:function(){return jT},_itemResponseWaitClass:function(){return GT},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return WT},_itemIndexKey:function(){return zT},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass(NT),this._prepareContent()},_prepareContent:Wi(function(){this._renderContentImpl()}),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_attachClickEvent:function(){var t=this._itemSelector(),e=T(Ut,this.NAME),i=T(Et.down,this.NAME),n=this,r=new Ft(function(a){var s=a.event;n._itemPointerDownHandler(s)});p.off(this._itemContainer(),e,t),p.off(this._itemContainer(),i,t),p.on(this._itemContainer(),e,t,function(a){this._itemClickHandler(a)}.bind(this)),p.on(this._itemContainer(),i,t,function(a){r.execute({element:h(a.target),event:a})})},_itemClickHandler:function(t,e,i){this._itemDXEventHandler(t,"onItemClick",e,i)},_itemPointerDownHandler:function(t){!this.option("focusStateEnabled")||(this._itemFocusHandler=function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!t.isDefaultPrevented()){var e=h(t.target),i=e.closest(this._itemElements()),n=this._closestFocusable(e);i.length&&n&&L(n.get(0),this._focusTarget())!==-1&&this.option("focusedElement",H(i))}}.bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(t){if(t.is(fo))return t;for(t=t.parent();t.length&&!R.isDocument(t.get(0));){if(t.is(fo))return t;t=t.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),i=T(A_.name,this.NAME);p.off(t,i,e),p.on(t,i,e,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(t){this._shouldFireHoldEvent()?this._itemDXEventHandler(t,"onItemHold"):t.cancel=!0},_attachContextMenuEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),i=T(HT,this.NAME);p.off(t,i,e),p.on(t,i,e,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(t){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(t,"onItemContextMenu"):t.cancel=!0},_renderContentImpl:function(){var t=this.option("items")||[];this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t)},_renderItems:function(t){t.length&&b(t,function(e,i){this._renderItem(this._renderedItemsCount+e,i)}.bind(this)),this._renderEmptyMessage()},_renderItem:function(t,e,i,n){var r,a=(r=t?.item)!==null&&r!==void 0?r:t;i=i||this._itemContainer();var s=this._renderItemFrame(a,e,i,n);this._setElementData(s,e,a),s.attr(this.option("_itemAttributes")),this._attachItemClickEvent(e,s);var o=this._getItemContent(s),l=this._renderItemContent({index:a,itemData:e,container:H(o),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),u=this;return lt(l).done(function(c){u._postprocessRenderItem({itemElement:s,itemContent:c,itemData:e,itemIndex:a}),u._executeItemRenderAction(t,e,H(s))}),s},_getItemContent:function(t){var e=t.find("."+Pc);return e.removeClass(Pc),e},_attachItemClickEvent:function(t,e){!t||!t.onClick||p.on(e,Ut,function(i){this._itemEventHandlerByHandler(e,t.onClick,{event:i})}.bind(this))},_renderItemContent:function(t){var e=this._getItemTemplateName(t),i=this._getTemplate(e);this._addItemContentClasses(t);var n=h(this._createItemByTemplate(i,t));return n.hasClass(Mc)?this._renderItemContentByNode(t,n):t.container},_renderItemContentByNode:function(t,e){return h(t.container).replaceWith(e),t.container=H(e),this._addItemContentClasses(t),e},_addItemContentClasses:function(t){var e=[Cr+kc,t.contentClass];h(t.container).addClass(e.join(" "))},_appendItemToContainer:function(t,e,i){e.appendTo(t)},_renderItemFrame:function(t,e,i,n){var r=h("<div>");if(new this.constructor.ItemClass(r,this._itemOptions(),e||{}),n&&n.length?n.replaceWith(r):this._appendItemToContainer.call(this,i,r,t),this.option("useItemTextAsTitle")){var a=this._displayGetter?this._displayGetter(e):e;r.attr("title",a)}return r},_itemOptions:function(){var t=this;return{watchMethod:function(){return t.option("integrationOptions.watchMethod")},owner:t,fieldGetter:function(e){var i=t.option(e+"Expr"),n=At(i);return n}}},_postprocessRenderItem:C,_executeItemRenderAction:function(t,e,i){this._getItemRenderAction()({itemElement:i,itemIndex:t,itemData:e})},_setElementData:function(t,e,i){t.addClass([Cr,this._itemClass()].join(" ")).data(this._itemDataKey(),e).data(this._itemIndexKey(),i)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(t){var e=t.itemData,i=t.templateProperty||this.option("itemTemplateProperty"),n=e&&e[i];return n||t.defaultTemplateName},_createItemByTemplate:function(t,e){return t.render({model:e.itemData,container:e.container,index:e.index})},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(t){t=t||this.option("items");var e=this.option("noDataText"),i=!e||t&&t.length||this._isDataSourceLoading();i&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),i||(this._$noData=this._$noData||h("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()).html(e),this.setAria("label",e)),this.$element().toggleClass(qT,!i)},_itemDXEventHandler:function(t,e,i,n){this._itemEventHandler(t.target,e,v(i,{event:t}),n)},_itemEventHandler:function(t,e,i,n){var r=this._createActionByOption(e,v({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(t,r,i)},_itemEventHandlerByHandler:function(t,e,i,n){var r=this._createAction(e,v({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(t,r,i)},_itemEventHandlerImpl:function(t,e,i){var n=this._closestItemElement(h(t)),r=v({},i);return e(v(i,this._extendActionArgs(n),r))},_extendActionArgs:function(t){return{itemElement:H(t),itemIndex:this._itemElements().index(t),itemData:this._getItemData(t)}},_closestItemElement:function(t){return h(t).closest(this._itemSelector())},_getItemData:function(t){return h(t).data(this._itemDataKey())},_getSummaryItemsWidth:function(t,e){var i=0;return t&&b(t,function(n,r){i+=ot(r,e||!1)}),i},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new Ae),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(Hl);w_.ItemClass=su;var Rt=W.abstract,JT=W.inherit({ctor:function(t){this._collectionWidget=t},getIndexByItemData:Rt,getItemDataByIndex:Rt,getKeysByItems:Rt,getItemsByKeys:Rt,itemsGetter:Rt,getKeyByIndex:function(t){var e=this._denormalizeItemIndex(t);return this.getKeysByItems([this.getItemDataByIndex(e)])[0]},_equalKeys:function(t,e){return this._collectionWidget._isKeySpecified()?qi(t,e):t===e},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:Rt,getNormalizedIndex:function(t){return this._isNormalizedItemIndex(t)?t:this._isItemIndex(t)?this._normalizeItemIndex(t):this._isNode(t)?this._getNormalizedItemIndex(t):this._normalizeItemIndex(this.getIndexByItemData(t))},getIndex:function(t){return this._isNormalizedItemIndex(t)?this._denormalizeItemIndex(t):this._isItemIndex(t)?t:this._isNode(t)?this._denormalizeItemIndex(this._getNormalizedItemIndex(t)):this.getIndexByItemData(t)},getItemElement:function(t){if(this._isNormalizedItemIndex(t))return this._getItemByNormalizedIndex(t);if(this._isItemIndex(t))return this._getItemByNormalizedIndex(this._normalizeItemIndex(t));if(this._isNode(t))return h(t);var e=this._normalizeItemIndex(this.getIndexByItemData(t));return this._getItemByNormalizedIndex(e)},_isNode:t=>R.isNode(t&&Oe(t)?t.get(0):t),deleteItemAtIndex:Rt,itemPlacementFunc:function(t,e){return this._itemsFromSameParent(t,e)&&t<e?"after":"before"},moveItemAtIndexToIndex:Rt,_isNormalizedItemIndex:function(t){return typeof t=="number"&&Math.round(t)===t},_isItemIndex:Rt,_getNormalizedItemIndex:Rt,_normalizeItemIndex:Rt,_denormalizeItemIndex:Rt,_getItemByNormalizedIndex:Rt,_itemsFromSameParent:Rt}),x_=JT.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget);return e?this.getIndexByKey(e(t)):L(t,this._getPlainItems())},getItemDataByIndex:function(t){return this._getPlainItems()[t]},deleteItemAtIndex:function(t){this._getPlainItems().splice(t,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget),i=t;if(e){i=[];for(var n=0;n<t.length;n++)i.push(e(t[n]))}return i},getIndexByKey:function(t){var e=this._cache,i=e&&e.keys||this.getKeysByItems(this._getPlainItems());if(e&&!e.keys&&(e.keys=i),typeof t=="object"){for(var n=0,r=i.length;n<r;n++)if(this._equalKeys(t,i[n]))return n}else return i.indexOf(t);return-1},getItemsByKeys:function(t,e){return(e||t).slice()},moveItemAtIndexToIndex:function(t,e){var i=this._getPlainItems(),n=i[t];i.splice(t,1),i.splice(e,0,n)},_isItemIndex:function(t){return typeof t=="number"&&Math.round(t)===t},_getNormalizedItemIndex:function(t){return this._collectionWidget._itemElements().index(t)},_normalizeItemIndex:function(t){return t},_denormalizeItemIndex:function(t){return t},_getItemByNormalizedIndex:function(t){return t>-1?this._collectionWidget._itemElements().eq(t):null},_itemsFromSameParent:function(){return!0}}),D_=W.inherit({ctor:function(t){this.options=t,this._setOption("disabledItemKeys",[]),this._clearItemKeys()},_clearItemKeys:function(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])},validate:C,_setOption:function(t,e){this.options[t]=e},onSelectionChanged:function(){var t=this.options.addedItemKeys,e=this.options.removedItemKeys,i=this.options.addedItems,n=this.options.removedItems,r=this.options.selectedItems,a=this.options.selectedItemKeys,s=this.options.onSelectionChanged||C;this._clearItemKeys(),s({selectedItems:r,selectedItemKeys:a,addedItemKeys:t,removedItemKeys:e,addedItems:i,removedItems:n})},equalKeys:function(t,e){return this.options.equalByReference&&ht(t)&&ht(e)?t===e:qi(t,e)},getSelectableItems:function(t){return t.filter(function(e){return!(e!=null&&e.disabled)})},_clearSelection:function(t,e,i,n){return t=t||[],t=Array.isArray(t)?t:[t],this.validate(),this.selectedItemKeys(t,e,i,n)},_removeTemplateProperty:function(t){return Array.isArray(t)?t.map(e=>this._removeTemplateProperty(e)):(ht(t)&&delete t.template,t)},_loadFilteredData:function(t,e,i,n){var r=encodeURI(JSON.stringify(this._removeTemplateProperty(t))).length,a=this.options.maxFilterLengthInRequest&&r>this.options.maxFilterLengthInRequest,s=new y,o={filter:a?void 0:t,select:a?this.options.dataFields():i||this.options.dataFields()};return t&&t.length===0?s.resolve([]):this.options.load(o).done(function(l){var u=K(l)?l.data:l;e&&!n?u=u.filter(e):a&&(u=gi(u).filter(t).toArray()),s.resolve(u)}).fail(s.reject.bind(s)),s},updateSelectedItemKeyHash:function(t){for(var e=0;e<t.length;e++){var i=Tn(t[e]);if(!ht(i)){this.options.keyHashIndices[i]=this.options.keyHashIndices[i]||[];var n=this.options.keyHashIndices[i];n.push(e)}}},_isAnyItemSelected:function(t){for(var e=0;e<t.length;e++)if(this.options.isItemSelected(t[e]))return;return!1},_getFullSelectAllState:function(){var t=this.options.plainItems(),e=this.options.filter(),i=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(a=>!(a!=null&&a.disabled));e&&(i=gi(i).filter(e).toArray());var n=i.length,r=t.length-this.getSelectableItems(t).length;if(!n)return this._isAnyItemSelected(t);if(n>=this.options.totalCount()-r)return!0},_getVisibleSelectAllState:function(){for(var t=this.getSelectableItems(this.options.plainItems()),e=!1,i=!1,n=0;n<t.length;n++){var r=t[n],a=this.options.getItemData(r),s=this.options.keyOf(a);this.options.isSelectableItem(r)&&(this.isItemKeySelected(s)?e=!0:i=!0)}return e?i?void 0:!0:!1}}),tO=D_.inherit({getSelectedItems:function(){return this._loadFilteredData(this.options.selectionFilter)},getSelectedItemKeys:function(){var t=new y,e=this,i=this.options.key(),n=St(i)?[i]:i;return this._loadFilteredData(this.options.selectionFilter,null,n).done(function(r){var a=r.map(function(s){return e.options.keyOf(s)});t.resolve(a)}).fail(t.reject),t.promise()},selectedItemKeys:function(t,e,i,n){if(n){var r=this.options.filter(),a=!r||JSON.stringify(r)===JSON.stringify(this.options.selectionFilter)&&i;a?this._setOption("selectionFilter",i?[]:null):this._addSelectionFilter(i,r,n)}else{e||this._setOption("selectionFilter",[]);for(var s=0;s<t.length;s++)i?this.removeSelectedItem(t[s]):this.addSelectedItem(t[s])}return this.onSelectionChanged(),new y().resolve()},setSelectedItems:function(t){this._setOption("selectionFilter",null);for(var e=0;e<t.length;e++)this.addSelectedItem(t[e])},isItemDataSelected:function(t){return this.isItemKeySelected(t)},isItemKeySelected:function(t){var e=this.options.selectionFilter;return e?!!gi([t]).filter(e).toArray().length:!0},_getKeyExpr:function(){var t=this.options.key();return Array.isArray(t)&&t.length===1?t[0]:t},_normalizeKey:function(t){var e=this.options.key();return Array.isArray(e)&&e.length===1?t[e[0]]:t},_getFilterByKey:function(t){var e=this._getKeyExpr(),i=[e,"=",this._normalizeKey(t)];if(Array.isArray(e)){i=[];for(var n=0;n<e.length;n++)i.push([e[n],"=",t[e[n]]]),n!==e.length-1&&i.push("and")}return i},addSelectedItem:function(t){var e=this._getFilterByKey(t);this._addSelectionFilter(!1,e)},removeSelectedItem:function(t){var e=this._getFilterByKey(t);this._addSelectionFilter(!0,e)},validate:function(){var t=this.options.key;if(t&&t()===void 0)throw pt.Error("E1042","Deferred selection")},_findSubFilter:function(t,e){if(!t)return-1;for(var i=JSON.stringify(e),n=0;n<t.length;n++){var r=t[n];if(r&&JSON.stringify(r)===i)return n}return-1},_isLastSubFilter:function(t,e){return t&&e?this._findSubFilter(t,e)===t.length-1||this._findSubFilter([t],e)===0:!1},_addFilterOperator:function(t,e){return t.length>1&&St(t[1])&&t[1]!==e&&(t=[t]),t.length&&t.push(e),t},_denormalizeFilter:function(t){return t&&St(t[0])&&(t=[t]),t},_isOnlyNegativeFiltersLeft:function(t){return t.every((e,i)=>i%2===0?Array.isArray(e)&&e[0]==="!":e==="and")},_addSelectionFilter:function(t,e,i){var n=t?["!",e]:e,r=t?"and":"or",a=!0,s=this.options.selectionFilter||[];if(s=this._denormalizeFilter(s),s&&s.length){var o=this._removeSameFilter(s,e,t,i),l=this._removeSameFilter(s,e,!t),u=t&&(o!==-1||l!==-1)&&this._isOnlyNegativeFiltersLeft(s);u&&(s=[]);var c=this._isKeyFilter(e)&&this._hasKeyFiltersOnlyStartingFromIndex(s,l);a=e.length&&!c,a&&(s=this._addFilterOperator(s,r))}a&&s.push(n),s=this._normalizeFilter(s),this._setOption("selectionFilter",!t&&!s.length?null:s)},_normalizeFilter:function(t){return t&&t.length===1&&(t=t[0]),t},_removeFilterByIndex:function(t,e,i){var n=t[1];e>0?t.splice(e-1,2):t.splice(e,2),i&&n==="and"&&t.splice(0,t.length)},_isSimpleKeyFilter:function(t,e){return t.length===3&&t[0]===e&&t[1]==="="},_isKeyFilter:function(t){if(t.length===2&&t[0]==="!")return this._isKeyFilter(t[1]);var e=this._getKeyExpr();if(Array.isArray(e)){if(t.length!==2*e.length-1)return!1;for(var i=0;i<e.length;i++)if(i>0&&t[2*i-1]!=="and"||!this._isSimpleKeyFilter(t[2*i],e[i]))return!1;return!0}return this._isSimpleKeyFilter(t,e)},_hasKeyFiltersOnlyStartingFromIndex:function(t,e){if(e>=0){for(var i=e;i<t.length;i++)if(typeof t[i]!="string"&&!this._isKeyFilter(t[i]))return!1;return!0}return!1},_removeSameFilter:function(t,e,i,n){if(e=i?["!",e]:e,JSON.stringify(e)===JSON.stringify(t))return t.splice(0,t.length),0;var r=this._findSubFilter(t,e);if(r>=0)return this._removeFilterByIndex(t,r,n),r;for(var a=0;a<t.length;a++)if(Array.isArray(t[a])&&t[a].length>2){var s=this._removeSameFilter(t[a],e,!1,n);if(s>=0)return t[a].length?t[a].length===1&&(t[a]=t[a][0]):this._removeFilterByIndex(t,a,n),s}return-1},getSelectAllState:function(){var t=this.options.filter(),e=this.options.selectionFilter;if(!e)return!0;if(!e.length)return!1;if(!(!t||!t.length)){if(e=this._denormalizeFilter(e),this._isLastSubFilter(e,t))return!0;if(this._isLastSubFilter(e,["!",t]))return!1}}}),eO=function(t,e){this.getLocalFilter=function(s,o,l,u){return o=o===void 0?qi:o,r.bind(this,o,s,l,u)},this.getExpr=function(s){if(!!s){var o;return t.forEach(function(l,u){o=o||[];var c;u>0&&o.push(e?"and":"or"),St(s)?c=a(s,l):c=function(d,f){for(var m=[],g=0,x=d.length;g<x;g++){var E=d[g],w=f&&f[E],D=a(E,w);if(!D)break;g>0&&m.push(e?"or":"and"),m.push(D)}return m}(s,l),o.push(c)}),o&&o.length===1&&(o=o[0]),o}},this.getCombinedFilter=function(s,o){var l=this.getExpr(s),u=l;return e&&o&&(l?(u=[],u.push(l),u.push(o)):u=o),u};var i,n=function(s,o,l){return Array.isArray(l)?s.map(u=>o(u)):s};function r(s,o,l,u,c){var d=o(c),f,m;if(!l&&(f=Tn(d),!ht(f))){var g=function(x,E){if(!i){i={};for(var w=n(t,x,E),D=0;D<w.length;D++)i[Tn(w[D])]=!0}return i}(o,u);return g[f]?!e:!!e}for(m=0;m<t.length;m++)if(s(t[m],d))return!e;return!!e}function a(s,o){if(o!==void 0)return[s,e?"<>":"=",o]}},iO=D_.inherit({ctor:function(t){this.callBase(t),this._initSelectedItemKeyHash()},_initSelectedItemKeyHash:function(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})},getSelectedItemKeys:function(){return this.options.selectedItemKeys.slice(0)},getSelectedItems:function(){return this.options.selectedItems.slice(0)},_preserveSelectionUpdate:function(t,e){var i=this.options.keyOf,n,r,a;if(!!i){var s=e&&t.length>1&&!this.options.equalByReference;for(s&&(n={}),a=0;a<t.length;a++){var o=t[a],l=i(o);e?(r=this.removeSelectedItem(l,n,o?.disabled),n&&r>=0&&(n[r]=!0)):this.addSelectedItem(l,o)}s&&this._batchRemoveSelectedItems(n)}},_batchRemoveSelectedItems:function(t){var e=this.options.selectedItemKeys.slice(0),i=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var n=0;n<e.length;n++)t[n]||(this.options.selectedItemKeys.push(e[n]),this.options.selectedItems.push(i[n]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_loadSelectedItemsCore:function(t,e,i){var n=new y,r=this.options.key();if(!t.length&&!i)return n.resolve([]),n;var a=this.options.filter();if(i&&e&&!a)return n.resolve(this.getSelectedItems()),n;var s=new eO(t,i),o=s.getCombinedFilter(r,a),l=[];if(e){var u=this.options.selectedItems;l=o&&t.length!==u.length?gi(u).filter(o).toArray():u.slice(0)}var c=l.length?l:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),d=s.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,r);return c=c.filter(d),l.length||!i&&c.length===t.length?n.resolve(c):n=this._loadFilteredData(o,d,null,i),n},_replaceSelectionUpdate:function(t){var e=[],i=this.options.keyOf;if(!!i){for(var n=0;n<t.length;n++){var r=t[n],a=i(r);e.push(a)}this.setSelectedItems(e,t)}},_warnOnIncorrectKeys:function(t){for(var e=this.options.allowNullValue,i=0;i<t.length;i++){var n=t[i];(!e||n!==null)&&!this.isItemKeySelected(n)&&pt.log("W1002",n)}},_isMultiSelectEnabled:function(){var t=this.options.mode;return t==="all"||t==="multiple"},_requestInProgress:function(){var t;return((t=this._lastLoadDeferred)===null||t===void 0?void 0:t.state())==="pending"},_concatRequestsItems:function(t,e,i,n){var r,a=e?t:[];return n?r=n:r=xu(t,this.options.selectedItemKeys),{addedItems:i.added.concat(r),removedItems:i.removed.concat(a),keys:t}},_collectLastRequestData:function(t,e,i,n){var r=e&&i,a={added:[],removed:[]},s=this._isMultiSelectEnabled(),o=s?this._lastRequestData:{};return s&&(this._shouldMergeWithLastRequest&&(r?(this._lastLoadDeferred.reject(),o={}):gE(t,this.options.selectedItemKeys)||(a.added=o.addedItems,a.removed=o.removedItems,e||this._lastLoadDeferred.reject())),o=this._concatRequestsItems(t,e,a,this._shouldMergeWithLastRequest?void 0:n)),o},_updateKeysByLastRequestData:function(t,e,i){var n=t;if(this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!e&&!i){var r,a;n=xu(t.concat((r=this._lastRequestData)===null||r===void 0?void 0:r.addedItems),(a=this._lastRequestData)===null||a===void 0?void 0:a.removedItems),n=Nv(n)}return n},_loadSelectedItems:function(t,e,i,n){var r=this,a=new y;return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(t,e,i,n),lt(r._lastLoadDeferred).always(function(){var s=r._updateKeysByLastRequestData(t,e,i);r._shouldMergeWithLastRequest=!1,r._loadSelectedItemsCore(s,e,i).done(a.resolve).fail(a.reject)}),r._lastLoadDeferred=a,a},selectedItemKeys:function(t,e,i,n,r){var a=this,s=a._loadSelectedItems(t,i,n,r);return s.done(function(o){e?a._preserveSelectionUpdate(o,i):a._replaceSelectionUpdate(o),a.onSelectionChanged()}),s},addSelectedItem:function(t,e){if(I(e)&&!this.options.ignoreDisabledItems&&e.disabled){this.options.disabledItemKeys.indexOf(t)===-1&&this.options.disabledItemKeys.push(t);return}var i=this._getKeyHash(t);this._indexOfSelectedItemKey(i)===-1&&(!ht(i)&&this.options.keyHashIndices&&(this.options.keyHashIndices[i]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(t),this.options.addedItemKeys.push(t),this.options.addedItems.push(e),this.options.selectedItems.push(e))},_getSelectedIndexByKey:function(t,e){for(var i=this.options.selectedItemKeys,n=0;n<i.length;n++)if((!e||!e[n])&&this.equalKeys(i[n],t))return n;return-1},_getSelectedIndexByHash:function(t,e){var i=this.options.keyHashIndices[t];return i&&i.length>1&&e&&(i=i.filter(function(n){return!e[n]})),i&&i[0]>=0?i[0]:-1},_indexOfSelectedItemKey:function(t,e){var i;return this.options.equalByReference?i=this.options.selectedItemKeys.indexOf(t):ht(t)?i=this._getSelectedIndexByKey(t,e):i=this._getSelectedIndexByHash(t,e),i},_shiftSelectedKeyIndices:function(t){for(var e=t;e<this.options.selectedItemKeys.length;e++){var i=this.options.selectedItemKeys[e],n=Tn(i),r=this.options.keyHashIndices[n];if(!!r)for(var a=0;a<r.length;a++)r[a]>t&&r[a]--}},removeSelectedItem:function(t,e,i){if(!(!this.options.ignoreDisabledItems&&i)){var n=this._getKeyHash(t),r=!!e,a=this._indexOfSelectedItemKey(n,e);if(a<0||(this.options.removedItemKeys.push(t),this.options.removedItems.push(this.options.selectedItems[a]),r)||(this.options.selectedItemKeys.splice(a,1),this.options.selectedItems.splice(a,1),ht(n)||!this.options.keyHashIndices))return a;var s=this.options.keyHashIndices[n];return s&&(s.shift(),s.length||delete this.options.keyHashIndices[n],this._shiftSelectedKeyIndices(a)),a}},_updateAddedItemKeys:function(t,e){for(var i=0;i<t.length;i++)this.isItemKeySelected(t[i])||(this.options.addedItemKeys.push(t[i]),this.options.addedItems.push(e[i]))},_updateRemovedItemKeys:function(t,e,i){for(var n=0;n<e.length;n++)this.isItemKeySelected(e[n])||(this.options.removedItemKeys.push(e[n]),this.options.removedItems.push(i[n]))},_isItemSelectionInProgress:function(t,e){var i=e&&this._lastRequestData&&this._requestInProgress();if(i){var n,r=(n=this._lastRequestData.addedItems)!==null&&n!==void 0?n:[];return r.includes(t)}else return!1},_getKeyHash:function(t){return this.options.equalByReference?t:Tn(t)},setSelectedItems:function(t,e){this._updateAddedItemKeys(t,e);var i=this.options.selectedItemKeys,n=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(t)),this._setOption("selectedItemKeys",t),this._setOption("selectedItems",e),this._updateRemovedItemKeys(t,i,n)},isItemDataSelected:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.options.keyOf(t);return this.isItemKeySelected(i,e)},isItemKeySelected:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this._isItemSelectionInProgress(t,e.checkPending);if(!i){var n=this._getKeyHash(t),r=this._indexOfSelectedItemKey(n);i=r!==-1}return i},getSelectAllState:function(t){return t?this._getVisibleSelectAllState():this._getFullSelectAllState()}}),nO=W.inherit({ctor:function(t){this.options=v(this._getDefaultOptions(),t,{selectedItemKeys:t.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new tO(this.options):new iO(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_getDefaultOptions:function(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:C,key:C,keyOf:function(t){return t},load:function(){return new y().resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(t){return t},dataFields:C,filter:C}},validate:function(){this._selectionStrategy.validate()},getSelectedItemKeys:function(){return this._selectionStrategy.getSelectedItemKeys()},getSelectedItems:function(){return this._selectionStrategy.getSelectedItems()},selectionFilter:function(t){if(t===void 0)return this.options.selectionFilter;var e=this.options.selectionFilter!==t&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(t);this.options.selectionFilter=t,e&&this.onSelectionChanged()},setSelection:function(t,e){return this.selectedItemKeys(t,!1,!1,!1,e)},select:function(t){return this.selectedItemKeys(t,!0)},deselect:function(t){return this.selectedItemKeys(t,!0,!0)},selectedItemKeys:function(t,e,i,n,r){var a;return t=(a=t)!==null&&a!==void 0?a:[],t=Array.isArray(t)?t:[t],this.validate(),this._selectionStrategy.selectedItemKeys(t,e,i,n,r)},clearSelection:function(){return this.selectedItemKeys([])},_addSelectedItem:function(t,e){this._selectionStrategy.addSelectedItem(e,t)},_removeSelectedItem:function(t){this._selectionStrategy.removeSelectedItem(t)},_setSelectedItems:function(t,e){this._selectionStrategy.setSelectedItems(t,e)},onSelectionChanged:function(){this._selectionStrategy.onSelectionChanged()},changeItemSelection:function(t,e){var i,n,r,a=this.options.plainItems(),s=a[t],o,l=(i=(n=this.options).allowLoadByRange)===null||i===void 0?void 0:i.call(n),u,c=!1;if(l&&(u=s.loadIndex-t,t=s.loadIndex,c=this._focusedItemIndex>=0&&!a.filter(x=>x.loadIndex===this._focusedItemIndex).length),!this.isSelectable()||!this.isDataItem(s))return!1;var d=this.options.getItemData(s),f=this.options.keyOf(d);if(e=e||{},e.shift&&this.options.mode==="multiple"&&this._focusedItemIndex>=0)c?(r=t!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex,r&&(o=this.changeItemSelectionWhenShiftKeyInVirtualPaging(t))):r=this.changeItemSelectionWhenShiftKeyPressed(t,a,u);else if(e.control){this._resetItemSelectionWhenShiftKeyPressed();var m=this._selectionStrategy.isItemDataSelected(d);this.options.mode==="single"&&this.clearSelectedItems(),m?this._removeSelectedItem(f):this._addSelectedItem(d,f),r=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var g=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],f);(this.options.selectedItemKeys.length!==1||!g)&&(this._setSelectedItems([f],[d]),r=!0)}if(r)return lt(o).done(()=>{this._focusedItemIndex=t,this.onSelectionChanged()}),!0},isDataItem:function(t){return this.options.isSelectableItem(t)},isSelectable:function(){return this.options.mode==="single"||this.options.mode==="multiple"},isItemDataSelected:function(t){return this._selectionStrategy.isItemDataSelected(t,{checkPending:!0})},isItemSelected:function(t,e){return this._selectionStrategy.isItemKeySelected(t,e)},_resetItemSelectionWhenShiftKeyPressed:function(){delete this._shiftFocusedItemIndex},_resetFocusedItemIndex:function(){this._focusedItemIndex=-1},changeItemSelectionWhenShiftKeyInVirtualPaging:function(t){var e=this.options.getLoadOptions(t,this._focusedItemIndex,this._shiftFocusedItemIndex),i=new y,n=e.skip;return this.options.load(e).done(r=>{this.changeItemSelectionWhenShiftKeyPressed(t,r,n),i.resolve()}),i.promise()},changeItemSelectionWhenShiftKeyPressed:function(t,e,i){var n=!1,r,a=I(i),s=a?this._focusedItemIndex-i:this._focusedItemIndex,o=this.options.keyOf,l=e[s],u=this.options.getItemData(l),c=o(u),d=l&&this.isItemDataSelected(u);I(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex);var f,m,g,x;if(this._shiftFocusedItemIndex!==this._focusedItemIndex)for(r=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,g=a?this._focusedItemIndex-i:this._focusedItemIndex,x=a?this._shiftFocusedItemIndex-i:this._shiftFocusedItemIndex,s=g;s!==x;s+=r)(a||this.isDataItem(e[s]))&&(m=o(this.options.getItemData(e[s])),this._removeSelectedItem(m),n=!0);if(t!==this._shiftFocusedItemIndex)for(r=t<this._shiftFocusedItemIndex?1:-1,g=a?t-i:t,x=a?this._shiftFocusedItemIndex-i:this._shiftFocusedItemIndex,s=g;s!==x;s+=r)(a||this.isDataItem(e[s]))&&(f=this.options.getItemData(e[s]),m=o(f),this._addSelectedItem(f,m),n=!0);return(a||this.isDataItem(l))&&!d&&(this._addSelectedItem(u,c),n=!0),n},clearSelectedItems:function(){this._setSelectedItems([],[])},selectAll:function(t){return this._resetFocusedItemIndex(),t?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)},deselectAll:function(t){return this._resetFocusedItemIndex(),t?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)},_onePageSelectAll:function(t){for(var e=this._selectionStrategy.getSelectableItems(this.options.plainItems()),i=0;i<e.length;i++){var n=e[i];if(this.isDataItem(n)){var r=this.options.getItemData(n),a=this.options.keyOf(r),s=this.isItemSelected(a);!s&&!t&&this._addSelectedItem(r,a),s&&t&&this._removeSelectedItem(a)}}return this.onSelectionChanged(),new y().resolve()},getSelectAllState:function(t){return this._selectionStrategy.getSelectAllState(t)}}),Vs="dxItemDeleting",Mr=-1,Gt=function(t){return t!==Mr},R_=w_.inherit({_setOptionsByReference:function(){this.callBase(),v(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return v(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectionByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:Mr,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(t,e){this._userOptions=e||{},this.callBase(t,e)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter:function(){this._keyGetter=At(this.option("keyExpr"))},_getKeysByItems:function(t){return this._editStrategy.getKeysByItems(t)},_getItemsByKeys:function(t,e){return this._editStrategy.getItemsByKeys(t,e)},_getKeyByIndex:function(t){return this._editStrategy.getKeyByIndex(t)},_getIndexByKey:function(t){return this._editStrategy.getIndexByKey(t)},_getIndexByItemData:function(t){return this._editStrategy.getIndexByItemData(t)},_isKeySpecified:function(){return!!(this._dataSource&&this._dataSource.key())},_getCombinedFilter:function(){return this._dataSource&&this._dataSource.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataSource&&this._dataSource.key()},keyOf:function(t){var e=t,i=this._dataSource&&this._dataSource.store();return this.option("keyExpr")?e=this._keyGetter(t):i&&(e=i.keyOf(t)),e},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var t=this,e=t._editStrategy.itemsGetter;this._selection=new nO({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(i){(i.addedItemKeys.length||i.removedItemKeys.length)&&(t.option("selectedItems",t._getItemsByKeys(i.selectedItemKeys,i.selectedItems)),t._updateSelectedItems(i))},filter:t._getCombinedFilter.bind(t),totalCount:function(){var i=t.option("items"),n=t._dataSource;return n&&n.totalCount()>=0?n.totalCount():t._getItemsCount(i)},key:t.key.bind(t),keyOf:t.keyOf.bind(t),load:function(i){if(t._dataSource){var n=t._dataSource.loadOptions();i.customQueryParams=n.customQueryParams,i.userData=t._dataSource._userData}var r=t._dataSource&&t._dataSource.store();return r?r.load(i).done(function(a){if(!t._disposed){var s=fp(a).data;t._dataSource._applyMapFunction(s)}}):new y().resolve(this.plainItems())},dataFields:function(){return t._dataSource&&t._dataSource.select()},plainItems:e.bind(t._editStrategy)})},_getItemsCount:function(t){return t.reduce((e,i)=>e+(i.items?this._getItemsCount(i.items):1),0)},_initEditStrategy:function(){var t=x_;this._editStrategy=new t(this)},_getSelectedItemIndices:function(t){var e=this,i=[];return t=t||this._selection.getSelectedItemKeys(),e._editStrategy.beginCache(),b(t,function(n,r){var a=e._getIndexByKey(r);Gt(a)&&i.push(a)}),e._editStrategy.endCache(),i},_initMarkup:function(){this._rendering=!0,(!this._dataSource||!this._dataSource.isLoading())&&this._syncSelectionOptions().done(()=>this._normalizeSelectedItems()),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(t){t=t||this._chooseSelectOption();var e,i,n,r;switch(t){case"selectedIndex":e=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),I(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(r=this.option("selectedItems")||[],i=r.length?this._editStrategy.getIndexByItemData(r[0]):Mr,this.option("selectionRequired")&&!Gt(i))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",r[0]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(r));break;case"selectedItem":if(e=this.option("selectedItem"),i=this._editStrategy.getIndexByItemData(e),this.option("selectionRequired")&&!Gt(i))return this._syncSelectionOptions("selectedIndex");I(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",Mr));break;case"selectedItemKeys":if(n=this.option("selectedItemKeys"),this.option("selectionRequired")){var a=this._getIndexByKey(n[0]);if(!Gt(a))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(n)}return new y().resolve().promise()},_chooseSelectOption:function(){var t="selectedIndex",e=function(i){var n=this.option(i),r=I(n)&&n.length;return r||i in this._userOptions}.bind(this);return e("selectedItems")?t="selectedItems":e("selectedItem")?t="selectedItem":e("selectedItemKeys")&&(t="selectedItemKeys"),t},_compareKeys:function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<e.length;i++)if(t[i]!==e[i])return!1;return!0},_normalizeSelectedItems:function(){if(this.option("selectionMode")==="none")this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if(this.option("selectionMode")==="single"){var t=this.option("selectedItems");if(t.length>1||!t.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var e=this._selection.getSelectedItems(),i=t[0]===void 0?e[0]:t[0];return i===void 0&&(i=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&i&&i.items&&(i.items=[i.items[0]]),this._selection.setSelection(this._getKeysByItems([i])),this._setOptionWithoutOptionChange("selectedItems",[i]),this._syncSelectionOptions("selectedItems")}else this._selection.setSelection(this._getKeysByItems(t))}else{var n=this._getKeysByItems(this.option("selectedItems")),r=this._selection.getSelectedItemKeys();this._compareKeys(r,n)||this._selection.setSelection(n)}return new y().resolve().promise()},_itemClickHandler:function(t){var e=new y().resolve(),i=this.callBase;this._createAction(function(n){var r;e=(r=this._itemSelectHandler(n.event))!==null&&r!==void 0?r:e}.bind(this),{validatingTargetName:"itemElement"})({itemElement:h(t.currentTarget),event:t}),e.always(()=>{i.apply(this,arguments)})},_itemSelectHandler:function(t){var e,i;if(!!this.option("selectionByClick")){var n=t.currentTarget;return this.isItemSelected(n)?this.unselectItem(t.currentTarget):i=this.selectItem(t.currentTarget),(e=i)===null||e===void 0?void 0:e.promise()}},_selectedItemElement:function(t){return this._itemElements().eq(t)},_postprocessRenderItem:function(t){if(this.option("selectionMode")!=="none"){var e=h(t.itemElement),i=this._editStrategy.getNormalizedIndex(e),n=this._isItemSelected(i);this._processSelectableItem(e,n)}},_processSelectableItem:function(t,e){t.toggleClass(this._selectedItemClass(),e),this._setAriaSelected(t,String(e))},_updateSelectedItems:function(t){var e=this,i=t.addedItemKeys,n=t.removedItemKeys;if(e._rendered&&(i.length||n.length)){var r=e._selectionChangePromise;if(!e._rendering){var a=[],s,o=[];e._editStrategy.beginCache();for(var l=0;l<i.length;l++)s=e._getIndexByKey(i[l]),a.push(s),e._addSelection(s);for(var u=0;u<n.length;u++)s=e._getIndexByKey(n[u]),o.push(s),e._removeSelection(s);e._editStrategy.endCache(),e._updateSelection(a,o)}lt(r).done(function(){e._fireSelectionChangeEvent(t.addedItems,t.removedItems)})}},_fireSelectionChangeEvent:function(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:t,removedItems:e})},_updateSelection:C,_setAriaSelected:function(t,e){this.setAria("selected",e,t)},_removeSelection:function(t){var e=this._editStrategy.getItemElement(t);Gt(t)&&(this._processSelectableItem(e,!1),p.triggerHandler(e,"stateChanged",!1))},_addSelection:function(t){var e=this._editStrategy.getItemElement(t);Gt(t)&&(this._processSelectableItem(e,!0),p.triggerHandler(e,"stateChanged",!0))},_isItemSelected:function(t){var e=this._getKeyByIndex(t);return this._selection.isItemSelected(e,{checkPending:!0})},_optionChanged:function(t){switch(t.name){case"selectionMode":this._invalidate();break;case"dataSource":(!t.value||Array.isArray(t.value)&&!t.value.length)&&this.option("selectedItemKeys",[]),this.callBase(t);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(t.name).done(()=>this._normalizeSelectedItems());break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectionByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(t)}},_clearSelectedItems:function(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(t){if(t.data(Vs))return new y().resolve().promise();t.data(Vs,!0);var e=new y,i={cancel:!1},n=this._itemEventHandler(t,"onItemDeleting",i,{excludeValidators:["disabled","readOnly"]});return lt(n).always(function(r){var a=!n,s=!a&&n.state()==="resolved",o=!!arguments.length,l=a||s&&!o||s&&r;lt(Ee(i.cancel)).always(function(){t.data(Vs,!1)}).done(function(u){l&&!u?e.resolve():e.reject()}).fail(e.reject)}.bind(this)),e.promise()},_deleteItemFromDS:function(t){if(!this._dataSource)return new y().resolve().promise();var e=new y,i=this.option("disabled"),n=this._dataSource.store();if(this.option("disabled",!0),!n.remove)throw pt.Error("E1011");return n.remove(n.keyOf(this._getItemData(t))).done(function(r){r!==void 0?e.resolve():e.reject()}).fail(function(){e.reject()}),e.always(function(){this.option("disabled",i)}.bind(this)),e},_tryRefreshLastPage:function(){var t=new y;return this._isLastPage()||this.option("grouped")?t.resolve():this._refreshLastPage().done(function(){t.resolve()}),t.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataSource.load()},_updateSelectionAfterDelete:function(t){var e=this._getKeyByIndex(t);this._selection.deselect([e])},_updateIndicesAfterIndex:function(t){for(var e=this._itemElements(),i=t+1;i<e.length;i++)h(e[i]).data(this._itemIndexKey(),i-1)},_simulateOptionChange:function(t){var e=this.option(t);e instanceof ta||this._optionChangedAction({name:t,fullName:t,value:e})},isItemSelected:function(t){return this._isItemSelected(this._editStrategy.getNormalizedIndex(t))},selectItem:function(t){if(this.option("selectionMode")!=="none"){var e=this._editStrategy.getNormalizedIndex(t);if(!!Gt(e)){var i=this._getKeyByIndex(e);if(!this._selection.isItemSelected(i)){if(this.option("selectionMode")==="single")return this._selection.setSelection([i]);var n=this.option("selectedItemKeys")||[];return this._selection.setSelection([...n,i],[i])}}}},unselectItem:function(t){var e=this._editStrategy.getNormalizedIndex(t);if(!!Gt(e)){var i=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&i.length<=1)){var n=this._getKeyByIndex(e);!this._selection.isItemSelected(n,{checkPending:!0})||this._selection.deselect([n])}}},_deleteItemElementByIndex:function(t){this._updateSelectionAfterDelete(t),this._updateIndicesAfterIndex(t),this._editStrategy.deleteItemAtIndex(t)},_afterItemElementDeleted:function(t,e){var i=this._dataSource?"dataSource":"items";this._simulateOptionChange(i),this._itemEventHandler(t,"onItemDeleted",e,{beforeExecute:function(){t.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(t){var e=this,i=new y,n=this._editStrategy.getItemElement(t),r=this._editStrategy.getNormalizedIndex(t),a=this._itemResponseWaitClass();return Gt(r)?this._waitDeletingPrepare(n).done(function(){n.addClass(a);var s=e._extendActionArgs(n);e._deleteItemFromDS(n).done(function(){e._deleteItemElementByIndex(r),e._afterItemElementDeleted(n,s),e._tryRefreshLastPage().done(function(){i.resolveWith(e)})}).fail(function(){n.removeClass(a),i.rejectWith(e)})}).fail(function(){i.rejectWith(e)}):i.rejectWith(e),i.promise()},reorderItem:function(t,e){var i=new y,n=this,r=this._editStrategy,a=r.getItemElement(t),s=r.getItemElement(e),o=r.getNormalizedIndex(t),l=r.getNormalizedIndex(e),u=this._dataSource?"dataSource":"items",c=Gt(o)&&Gt(l)&&o!==l;return c?i.resolveWith(this):i.rejectWith(this),i.promise().done(function(){s[r.itemPlacementFunc(o,l)](a),r.moveItemAtIndexToIndex(o,l),this._updateIndicesAfterIndex(o),n.option("selectedItems",n._getItemsByKeys(n._selection.getSelectedItemKeys(),n._selection.getSelectedItems())),u==="items"&&n._simulateOptionChange(u),n._itemEventHandler(a,"onItemReordered",{fromIndex:r.getIndex(o),toIndex:r.getIndex(l)},{excludeValidators:["disabled","readOnly"]})})}}),cu="dxswipestart",du="dxswipe",Xa="dxswipeend",rO={defaultItemSizeFunc:function(){return F(this.getElement())},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(t){var e=Q(t);return(e.x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=Q(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.x-this._tickData.x)>=e.time-this._tickData.time}},aO={defaultItemSizeFunc:function(){return z(this.getElement())},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(t){var e=Q(t);return(e.y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=Q(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.y-this._tickData.y)>=e.time-this._tickData.time}},sO={horizontal:rO,vertical:aO},oO=zn.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(t){this.callBase(t),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return sO[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(t){this._tickData=Q(t)},_start:function(t){this._savedEventData=Q(t),t=this._fireEvent(cu,t),t.cancel||(this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset)},_move:function(t){var e=this._getStrategy(),i=Q(t),n=e.calcOffsetRatio.call(this,t);n=this._fitOffset(n,this.elastic),i.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=i),this._fireEvent(du,t,{offset:n}),t.preventDefault()},_end:function(t){var e=this._getStrategy(),i=e.calcOffsetRatio.call(this,t),n=e.isFastSwipe.call(this,t),r=i,a=this._calcTargetOffset(i,n);r=this._fitOffset(r,this.elastic),a=this._fitOffset(a,!1),this._fireEvent(Xa,t,{offset:r,targetOffset:a})},_fitOffset:function(t,e){var i=this._getStrategy(),n=i.getBounds.call(this);return t<-n[0]?e?(-2*n[0]+t)/3:-n[0]:t>n[1]?e?(2*n[1]+t)/3:n[1]:t},_calcTargetOffset:function(t,e){var i;return e?(i=Math.ceil(Math.abs(t)),t<0&&(i=-i)):i=Math.round(t),i}});en({emitter:oO,events:[cu,du,Xa]});var Wc="dx-list-item-badge-container",lO="dx-list-item-badge",uO="dx-badge",Hs="dx-list-item-chevron-container",hO="dx-list-item-chevron",cO=su.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge:function(t){if(this._$element.children("."+Wc).remove(),!!t){var e=h("<div>").addClass(Wc).append(h("<div>").addClass(lO).addClass(uO).text(t)),i=this._$element.children("."+Hs).first();i.length>0?e.insertBefore(i):e.appendTo(this._$element)}},_renderShowChevron:function(t){if(this._$element.children("."+Hs).remove(),!!t){var e=h("<div>").addClass(Hs),i=h("<div>").addClass(hO);e.append(i).appendTo(this._$element)}}}),zc="dx-scrollview-pull-down-loading",Fs="dx-scrollview-pull-down-ready",dO="dx-scrollview-pull-down-image",fO="dx-scrollview-pull-down-indicator",pO="dx-scrollview-pull-down-text",_O="dx-scrollview-pull-down-text-visible",br=0,dn=1,Er=2,Ns=3,vO=400,mO=jl.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$pullDown=t._$pullDown,this._$refreshingText=t._$refreshingText,this._$scrollViewContent=h(t.content()),this._$container=h(t.container()),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=X(),this.releaseCallbacks=X(),this.reachBottomCallbacks=X()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=h("<div>").addClass(dO),e=h("<div>").addClass(fO),i=new Ye(h("<div>")).$element(),n=this._$pullDownText=h("<div>").addClass(pO);this._$pullingDownText=h("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=h("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=h("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(t).append(e.append(i)).append(n)},_releaseState:function(){this._state=br,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:br},{element:this._$pulledDownText,visibleState:dn},{element:this._$refreshingText,visibleState:Er}];b(e,function(i,n){var r=t._state===n.visibleState?"addClass":"removeClass";n.element[r](_O)})},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var t=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(t.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){this._state===dn&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout(function(){this._pullDownRefreshing()}.bind(this),400))},_setPullDownOffset:function(t){Lt(this._$topPocket,{top:t}),Lt(this._$scrollViewContent,{top:t})},handleScroll:function(t){if(this.callBase(t),this._state!==Er){var e=this.location().top,i=(this._location||0)-e;this._location=e,this._isPullDown()?this._pullDownReady():i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this._state!==Ns&&(this._state=Ns,this.reachBottomCallbacks.fire())},_pullDownReady:function(){this._state!==dn&&(this._state=dn,this._$pullDown.addClass(Fs),this._refreshPullDownText())},_stateReleased:function(){this._state!==br&&(this._$pullDown.removeClass(zc).removeClass(Fs),this._releaseState())},_pullDownRefreshing:function(){this._state!==Er&&(this._state=Er,this._$pullDown.addClass(zc).removeClass(Fs),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(t){t&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=dn},release:function(){var t=new y;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._state===Ns&&(this._state=br),this._releaseTimeout=setTimeout(function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}.bind(this),vO),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),Kc="dx-scrollview-pull-down-loading",gO="dx-scrollview-pull-down-indicator",CO="dx-scrollview-pull-down-refreshing",bO="dx-icon-pulldown",Ws=0,EO=1,Uc=2,zs=4,Sr=5,SO=jl.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$pullDown=t._$pullDown,this._$scrollViewContent=h(t.content()),this._$container=h(t.container()),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=X(),this.releaseCallbacks=X(),this.reachBottomCallbacks=X()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=h("<div>").addClass(gO),e=new Ye(h("<div>")).$element();this._$icon=h("<div>").addClass(bO),this._$pullDown.empty().append(this._$icon).append(t.append(e))},_releaseState:function(){this._state=Ws,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var t=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(t.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},handleInit:function(t){this.callBase(t),this._state===Ws&&this._location===0&&(this._startClientY=Q(t.originalEvent).y,this._state=zs)},handleMove:function(t){this.callBase(t),this._deltaY=Q(t.originalEvent).y-this._startClientY,this._state===zs&&(this._pullDownEnabled&&this._deltaY>0?this._state=Sr:this._complete()),this._state===Sr&&(t.preventDefault(),this._movePullDown())},_movePullDown:function(){var t=this._getPullDownHeight(),e=Math.min(3*t,this._deltaY+this._getPullDownStartPosition()),i=180*e/t/3;this._$pullDown.css({opacity:1}).toggleClass(CO,e<t),Lt(this._$pullDown,{top:e}),this._$icon.css({transform:"rotate("+i+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&this._state===Sr&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*st(this._$element))},_getPullDownStartPosition:function(){return-Math.round(1.5*st(this._$pullDown))},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){(this._state===zs||this._state===Sr)&&this._releaseState()},handleScroll:function(t){if(this.callBase(t),this._state!==Uc){var e=this.location().top,i=this._location-e;this._location=e,i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){this._state!==Ws&&(this._$pullDown.removeClass(Kc),this._releaseState())},_pullDownRefreshing:function(){this._state=Uc,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass(Kc),Lt(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(t){this._$topPocket.toggle(t),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=EO},release:function(){var t=new y;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}.bind(this),800),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),yO=Math,jc="dx-scrollview-pull-down-loading",Ks="dx-scrollview-pull-down-ready",IO="dx-scrollview-pull-down-image",TO="dx-scrollview-pull-down-indicator",OO="dx-scrollview-pull-down-text",AO="dx-scrollview-pull-down-text-visible",fn=0,pn=1,Us=2,js=3,wO=Ip.inherit({ctor:function(){this._topPocketSize=0,this._bottomPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=fn,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:fn},{element:this._$pulledDownText,visibleState:pn},{element:this._$refreshingText,visibleState:Us}];b(e,function(i,n){var r=t._state===n.visibleState?"addClass":"removeClass";n.element[r](AO)})},_initCallbacks:function(){this.pullDownCallbacks=X(),this.releaseCallbacks=X(),this.reachBottomCallbacks=X()},_updateBounds:function(){var t=this._direction!=="horizontal";if(t){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;var e=this._$container.get(0),i=this._$content.get(0),n=Math.max(i.clientHeight-e.clientHeight,0);this._bottomBoundary=n-this._topPocketSize-this._bottomPocketSize}this.callBase()},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==fn&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){var t=this._$container.get(0);return this._reachBottomEnabled&&Math.round(this._bottomBoundary-Math.ceil(t.scrollTop))<=1},_scrollComplete:function(){this._inBounds()&&this._state===pn?this._pullDownRefreshing():this._inBounds()&&this._state===js?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){this._state!==js&&(this._state=js,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return yO.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){this._state!==pn&&(this._state=pn,this._maxOffset=0,this._$pullDown.addClass(Ks),this._refreshPullDownText())},_stateReleased:function(){this._state!==fn&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass(jc).removeClass(Ks),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){this._state!==Us&&(this._state=Us,this._$pullDown.addClass(jc).removeClass(Ks),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return this._state===fn&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=Gd(this._release.bind(this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(t){this._reachBottomEnabled!==t&&(this._reachBottomEnabled=t,this._updateBounds())},_pullDownEnablingHandler:function(t){this._pullDownEnabled!==t&&(this._pullDownEnabled=t,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=z(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler:function(){this._state=pn},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),xO=Tp.inherit({_init:function(t){this.callBase(t),this._$pullDown=t._$pullDown,this._$topPocket=t._$topPocket,this._$bottomPocket=t._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=X(),this.releaseCallbacks=X(),this.reachBottomCallbacks=X()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var t=h("<div>").addClass(IO),e=h("<div>").addClass(TO),i=new Ye(h("<div>")).$element(),n=this._$pullDownText=h("<div>").addClass(OO);this._$pullingDownText=h("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=h("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=h("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(t).append(e.append(i)).append(n)},pullDownEnable:function(t){this._eventHandler("pullDownEnabling",t)},reachBottomEnable:function(t){this._eventHandler("reachBottomEnabling",t)},_createScroller:function(t){var e=this,i=e._scrollers[t]=new wO(e._scrollerOptions(t));i.pullDownCallbacks.add(function(){e.pullDownCallbacks.fire()}),i.releaseCallbacks.add(function(){e.releaseCallbacks.fire()}),i.reachBottomCallbacks.add(function(){e.reachBottomCallbacks.fire()})},_scrollerOptions:function(t){return v(this.callBase(t),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var t=this.callBase();return t.top+=z(this._$topPocket),t},dispose:function(){b(this._scrollers,function(){this.dispose()}),this.callBase()}}),Ri="dx-scrollview",DO=Ri+"-content",RO=Ri+"-top-pocket",BO=Ri+"-bottom-pocket",$O=Ri+"-pull-down",fu=Ri+"-scrollbottom",LO=fu+"-indicator",kO=fu+"-text",PO=Ri+"-loadpanel",MO={pullDown:mO,swipeDown:SO,simulated:xO},VO=!M(),HO={finishLoading:C,release:C,refresh:C,_optionChanged:function(t){if(t.name!=="onUpdated")return this.callBase.apply(this,arguments)}},B_=Gl.inherit(VO?HO:{_getDefaultOptions:function(){return v(this.callBase(),{pullingDownText:rt.format("dxScrollView-pullingDownText"),pulledDownText:rt.format("dxScrollView-pulledDownText"),refreshingText:rt.format("dxScrollView-refreshingText"),reachBottomText:rt.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=B.real();return t.platform==="android"},options:{refreshStrategy:"swipeDown"}},{device:function(){return Tt()},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup:function(){this.callBase(),this.$element().addClass(Ri),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var t=h("<div>").addClass(DO);this._$content.wrapInner(t)},_initTopPocket:function(){var t=this._$topPocket=h("<div>").addClass(RO),e=this._$pullDown=h("<div>").addClass($O);t.append(e),this._$content.prepend(t)},_initBottomPocket:function(){var t=this._$bottomPocket=h("<div>").addClass(BO),e=this._$reachBottom=h("<div>").addClass(fu),i=h("<div>").addClass(LO),n=new Ye(h("<div>")).$element(),r=this._$reachBottomText=h("<div>").addClass(kO);this._updateReachBottomText(),e.append(i.append(n)).append(r),t.append(e),this._$content.append(t)},_initLoadPanel:function(){var t=h("<div>").addClass(PO).appendTo(this.$element()),e={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(t,Gf,e)},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var t=this.option("useNative")?this.option("refreshStrategy"):"simulated",e=MO[t];this._strategy=new e(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState:function(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on:function(t){var e=this.callBase.apply(this,arguments);return(t==="pullDown"||t==="reachBottom")&&this._tryRefreshPocketState(),e},_pullDownEnable:function(t){if(arguments.length===0)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(t),this._strategy.pullDownEnable(t),this._pullDownEnabled=t)},_reachBottomEnable:function(t){if(arguments.length===0)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(t),this._strategy.reachBottomEnable(t),this._reachBottomEnabled=t)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(t){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=t},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(t){switch(t.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(t)}},content:function(){return H(this._$content.children().eq(1))},release:function(t){return t!==void 0&&this.toggleLoading(!t),this._strategy.release()},toggleLoading:function(t){this._reachBottomEnable(t)},refresh:function(){!this.hasActionSubscription("onPullDown")||(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});et("dxScrollView",B_);var yr="__dx_key__",FO=R_.inherit({_getDefaultOptions:function(){return v(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=t=>{var e=this._dataSource;e&&!e.isLoaded()&&(this._correctionIndex=0),this._correctionIndex&&t.storeLoadOptions&&(t.storeLoadOptions.skip+=this._correctionIndex)},this._dataSource&&this._dataSource.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(t){var e=h(),i=this.key();return this.itemElements().each((n,r)=>{var a=h(r),s=this._getItemData(a);if(i?$a(i,this.keyOf(s),t):this._isItemEquals(s,t))return e=a,!1}),e},_dataSourceChangedHandler:function(t,e){e!=null&&e.changes?this._modifyByChanges(e.changes):(this.callBase(t,e),this._refreshItemsCache())},_isItemEquals:function(t,e){t&&t[yr]&&(t=t.data);try{return JSON.stringify(t)===JSON.stringify(e)}catch{return t===e}},_isItemStrictEquals:function(t,e){return this._isItemEquals(t,e)},_shouldAddNewGroup:function(t,e){var i=!1;return this.option("grouped")&&(t.length||(i=!0),b(t,(n,r)=>{r.type==="insert"&&(i=!0,b(e,(a,s)=>{if(r.data.key!==void 0&&r.data.key===s.key)return i=!1,!1}))})),i},_partialRefresh:function(){if(this.option("repaintChangesOnly")){var t=CE(this._itemsCache,this._editStrategy.itemsGetter(),e=>e&&e[yr]!==void 0?e[yr]:this.keyOf(e),this._isItemStrictEquals.bind(this));if(t&&this._itemsCache.length&&!this._shouldAddNewGroup(t,this._itemsCache))return this._modifyByChanges(t,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var t=this._editStrategy.itemsGetter();try{this._itemsCache=v(!0,[],t),this.key()||(this._itemsCache=this._itemsCache.map((e,i)=>({[yr]:t[i],data:e})))}catch{this._itemsCache=v([],t)}}},_dispose:function(){this._dataSource&&this._dataSource.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(t,e,i,n){if(n)this._renderItem(i.index,i.data,null,this._findItemElementByKey(i.key));else{var r=e[mi(t,e,i.key)];r&&kl(t,e,i.key,i.data).done(()=>{this._renderItem(e.indexOf(r),r,null,this._findItemElementByKey(i.key))})}},_insertByChange:function(t,e,i,n){lt(n||Pl(t,e,i.data,i.index)).done(()=>{var r;this._beforeItemElementInserted(i);var a=this._getItemContainer(i.data);this._renderItem((r=i.index)!==null&&r!==void 0?r:e.length,i.data,a),this._afterItemElementInserted(),this._correctionIndex++})},_getItemContainer:function(t){return this._itemContainer()},_updateSelectionAfterRemoveByChange:function(t){var e=this.option("selectedIndex");e>t?this.option("selectedIndex",e-1):e===t&&this.option("selectedItems").length===1?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(t){var e=this.option("selectedIndex");t.index<=e&&this.option("selectedIndex",e+1)},_afterItemElementInserted:C,_removeByChange:function(t,e,i,n){var r=n?i.index:mi(t,e,i.key),a=n?i.oldItem:e[r];if(a){var s=this._findItemElementByKey(i.key),o=this._extendActionArgs(s);this._waitDeletingPrepare(s).done(()=>{n?(this._updateIndicesAfterIndex(r-1),this._afterItemElementDeleted(s,o),this._updateSelectionAfterRemoveByChange(r)):(this._deleteItemElementByIndex(r),this._afterItemElementDeleted(s,o))}),this._correctionIndex--}},_modifyByChanges:function(t,e){var i=this._editStrategy.itemsGetter(),n={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},r=this._dataSource,a=r&&r.paginate(),s=r&&r.group();(a||s)&&(t=t.filter(o=>o.type!=="insert"||o.index!==void 0)),t.forEach(o=>this["_".concat(o.type,"ByChange")](n,i,o,e)),this._renderedItemsCount=i.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(t,e,i){var n=t.children(this._itemSelector()).get(i);R.insertElement(t.get(0),e.get(0),n)},_optionChanged:function(t){switch(t.name){case"items":var e=this._partialRefresh(t.value);e||this.callBase(t);break;case"dataSource":(!this.option("repaintChangesOnly")||!t.value)&&this.option("items",[]),this.callBase(t);break;case"repaintChangesOnly":break;default:this.callBase(t)}}}),NO=t=>Array.isArray(t)&&t.every(e=>{var i=Object.keys(e).length===2,n="key"in e&&"items"in e;return i&&n&&Array.isArray(e.items)}),$_={_getSpecificDataSourceOption:function(){var t=this.option("dataSource"),e=!1,i={};return this._getGroupedOption()&&NO(t)&&(i=t.reduce((n,r)=>{var a=r.items.map(s=>(ht(s)||(s={text:s},e=!0),"key"in s||(s.key=r.key),s));return n.concat(a)},[]),t={store:{type:"array",data:i},group:{selector:"key",keepInitialKeyOrder:!0}},e&&(t.searchExpr="text")),t}},WO="dx-list",Vr="dx-list-item",zO="."+Vr,KO="dx-list-item-icon-container",UO="dx-list-item-icon",ki="dx-list-group",Gs="dx-list-group-header",Ir="dx-list-group-body",jO="dx-list-collapsible-groups",Gc="dx-list-group-collapsed",GO="dx-list-group-header-indicator",qO="dx-has-next",XO="dx-list-next-button",qc="dx-wrap-item-text",YO=".dx-list-select-all",QO="dxListItemData",Xc=70,ZO=At("items"),JO,pu=FO.inherit({_activeStateUnit:[zO,YO].join(","),_supportedKeys:function(){var t=this,e=function(n){var r=i(n),a=r.is(t.option("focusedElement"));a&&(function(s,o){var l=s.position().top;o==="prev"&&(l=s.position().top-z(t.$element())+st(s)),t.scrollTo(l)}(r,n),r=i(n)),t.option("focusedElement",H(r)),t.scrollToItem(r)};function i(n){var r=t.scrollTop(),a=z(t.$element()),s=h(t.option("focusedElement")),o=!0;if(!s.length)return h();for(;o;){var l=s[n]();if(!l.length)break;var u=l.position().top+st(l)/2;o=u<a+r&&u>r,o&&(s=l)}return s}return v(this.callBase(),{leftArrow:C,rightArrow:C,pageUp:function(){return e("prev"),!1},pageDown:function(){return e("next"),!1}})},_getDefaultOptions:function(){return v(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:rt.format("dxList-pullingDownText"),pulledDownText:rt.format("dxList-pulledDownText"),refreshingText:rt.format("dxList-refreshingText"),pageLoadingText:rt.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:rt.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},_listAttributes:{role:"listbox"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,_revertPageOnEmptyLoad:!1,showChevronExpr:function(t){return t?t.showChevron:void 0},badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){var t=Xe();return this.callBase().concat(Op(),[{device:function(){return!Dn},options:{useNativeScrolling:!1}},{device:function(e){return!Dn&&!B.isSimulator()&&B.real().deviceType==="desktop"&&e.platform==="generic"},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return B.real().deviceType==="desktop"&&!B.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Tt(t)},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:"",useInkRipple:!0}}])},_visibilityChanged:function(t){t&&this._updateLoadingState(!0)},_itemClass:function(){return Vr},_itemDataKey:function(){return QO},_itemContainer:function(){return this._$container},_saveSelectionChangeEvent:function(t){this._selectionChangeEventInstance=t},_getSelectionChangeEvent:function(){return this._selectionChangeEventInstance},_refreshItemElements:function(){this.option("grouped")?this._itemElementsCache=this._itemContainer().children("."+ki).children("."+Ir).children(this._itemSelector()):this._itemElementsCache=this._itemContainer().children(this._itemSelector())},_modifyByChanges:function(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},reorderItem:function(t,e){var i=this.callBase(t,e);return i.done(function(){this._refreshItemElements()})},deleteItem:function(t){var e=this.callBase(t);return e.done(function(){this._refreshItemElements()})},_itemElements:function(){return this._itemElementsCache},_itemSelectHandler:function(t){if(!(this.option("selectionMode")==="single"&&this.isItemSelected(t.currentTarget)))return this.callBase(t)},_allowDynamicItemsAppend:function(){return!0},_resetDataSourcePageIndex:function(){var t=this.getDataSource();t&&t.pageIndex()!==0&&(t.pageIndex(0),t.load())},_init:function(){this.callBase(),this._resetDataSourcePageIndex(),this._$container=this.$element(),this._initScrollView(),this._feedbackShowTimeout=Xc,this._createGroupRenderAction()},_scrollBottomMode:function(){return this.option("pageLoadMode")==="scrollBottom"},_nextButtonMode:function(){return this.option("pageLoadMode")==="nextButton"},_dataSourceOptions:function(){var t=this._scrollBottomMode(),e=this._nextButtonMode();return v(this.callBase(),{paginate:Bt(t||e,!0)})},_getGroupedOption:function(){return this.option("grouped")},_getGroupContainerByIndex:function(t){return this._itemContainer().find(".".concat(ki)).eq(t).find(".".concat(Ir))},_dataSourceFromUrlLoadMode:function(){return"raw"},_initScrollView:function(){var t=this.option("scrollingEnabled"),e=t&&this.option("pullRefreshEnabled"),i=t&&this._scrollBottomMode()&&!!this._dataSource;this._scrollView=this._createComponent(this.$element(),tA(),{disabled:this.option("disabled")||!t,onScroll:this._scrollHandler.bind(this),onPullDown:e?this._pullDownHandler.bind(this):null,onReachBottom:i?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=h(this._scrollView.content()),this.option("wrapItemText")&&this._$container.addClass(qc),this._createScrollViewActions()},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(t){this._scrollAction&&this._scrollAction(t)},_initTemplates:function(){this._templateManager.addDefaultTemplates({group:new hu(function(t,e){K(e)?e.key&&t.text(e.key):t.text(String(e))},["key"],this.option("integrationOptions.watchMethod"))}),this.callBase()},_prepareDefaultItemTemplate:function(t,e){if(this.callBase(t,e),t.icon){var i=aS(t.icon).addClass(UO),n=h("<div>").addClass(KO);n.append(i),e.prepend(n)}},_getBindableFields:function(){return["text","html","icon"]},_updateLoadingState:function(t){var e=!t||this._isLastPage(),i=this._scrollBottomMode(),n=e||!i,r=n&&!this._isDataSourceLoading();n||this._scrollViewIsFull()?(this._scrollView.release(r),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1)):this._infiniteDataLoading()},_shouldRenderNextButton:function(){return this._nextButtonMode()&&this._dataSource&&this._dataSource.isLoaded()},_isDataSourceFirstLoadCompleted:function(t){return I(t)&&(this._isFirstLoadCompleted=t),this._isFirstLoadCompleted},_dataSourceLoadingChangedHandler:function(t){this._loadIndicationSuppressed()||(t&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout(function(){var e=!this._itemElements().length,i=!e||this._isDataSourceFirstLoadCompleted();if(i){var n;(n=this._scrollView)===null||n===void 0||n.startLoading()}}.bind(this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()),t||this._isDataSourceFirstLoadCompleted(!1))},_dataSourceChangedHandler:function(){!this._shouldAppendItems()&&M()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments),this._isDataSourceFirstLoadCompleted(!0)},_refreshContent:function(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(t){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=t},_scrollViewIsFull:function(){var t=this._scrollView;return!t||z(t.content())>z(t.container())},_pullDownHandler:function(t){this._pullRefreshAction(t),this._dataSource&&!this._isDataSourceLoading()?(this._clearSelectedItems(),this._dataSource.pageIndex(0),this._dataSource.reload()):this._updateLoadingState()},_infiniteDataLoading:function(){var t=this.$element().is(":visible");t&&!this._scrollViewIsFull()&&!this._isDataSourceLoading()&&!this._isLastPage()&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(()=>{this._loadNextPage().done(this._setPreviousPageIfNewIsEmpty.bind(this))}))},_setPreviousPageIfNewIsEmpty:function(t){if(this.option("_revertPageOnEmptyLoad")){var e=this.getDataSource(),i=e?.pageIndex();t?.length===0&&i>0&&(this._fireContentReadyAction(),e.pageIndex(i-1))}},_scrollBottomHandler:function(t){this._pageLoadingAction(t),!this._isDataSourceLoading()&&!this._isLastPage()?this._loadNextPage():this._updateLoadingState()},_renderItems:function(t){this.option("grouped")?(b(t,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),Tt()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var t=T(Ut,this.NAME),e="."+Gs,i=this.$element(),n=this.option("collapsibleGroups");i.toggleClass(jO,n),p.off(i,t,e),n&&p.on(i,t,e,function(r){this._createAction(function(a){var s=h(a.event.currentTarget).parent();this._collapseGroupHandler(s),this.option("focusStateEnabled")&&this.option("focusedElement",H(s.find("."+Vr).eq(0)))}.bind(this),{validatingTargetName:"element"})({event:r})}.bind(this))},_collapseGroupHandler:function(t,e){var i=new y;if(t.hasClass(Gc)===e)return i.resolve();var n=t.children("."+Ir),r=st(n),a=0;return r===0&&(zr(n,"auto"),a=st(n)),t.toggleClass(Gc,e),Ie.animate(n,{type:"custom",from:{height:r},to:{height:a},duration:200,complete:function(){this.updateDimensions(),this._updateLoadingState(),i.resolve()}.bind(this)}),i.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup:function(){this._itemElementsCache=h(),this.$element().addClass(WO),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria("role",this.option("_listAttributes").role)},_renderInkRipple:function(){this._inkRipple=JE()},_toggleActiveState:function(t,e,i){this.callBase.apply(this,arguments);var n=this;if(!!this._inkRipple){var r={element:t,event:i};e?Tt()?this._inkRippleTimer=setTimeout(function(){n._inkRipple.showWave(r)},Xc/2):n._inkRipple.showWave(r):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(r))}},_postprocessRenderItem:function(t){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent(h(t.itemElement))},_attachSwipeEvent:function(t){var e=T(Xa,this.NAME);p.on(t,e,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler:function(t){this._itemDXEventHandler(t,"onItemSwipe",{direction:t.offset<0?"left":"right"})},_nextButtonHandler:function(t){this._pageLoadingAction(t);var e=this._dataSource;e&&!e.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(t,e){var i=h("<div>").addClass(ki).appendTo(this._itemContainer()),n=h("<div>").addClass(Gs).appendTo(i),r=this.option("groupTemplate"),a=this._getTemplate(e.template||r,e,t,n),s={index:t,itemData:e,container:H(n)};this._createItemByTemplate(a,s),Tt()&&h("<div>").addClass(GO).prependTo(n),this._renderingGroupIndex=t;var o=h("<div>").addClass(Ir).appendTo(i);b(ZO(e)||[],function(l,u){this._renderItem({group:t,item:l},u,o)}.bind(this)),this._groupRenderAction({groupElement:H(i),groupIndex:t,groupData:e})},downInkRippleHandler:function(t){this._toggleActiveState(h(t.currentTarget),!0,t)},upInkRippleHandler:function(t){this._toggleActiveState(h(t.currentTarget),!1)},attachGroupHeaderInkRippleEvents:function(){var t="."+Gs,e=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);var i=[e,"dxpointerdown",t,this._downInkRippleHandler],n=[e,"dxpointerup dxpointerout",t,this._upInkRippleHandler];p.off(...i),p.on(...i),p.off(...n),p.on(...n)},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),delete this._inkRipple,this.callBase.apply(this,arguments)},_dispose:function(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(t){this.callBase(t),this._scrollView.option("disabled",t||!this.option("scrollingEnabled"))},_toggleNextButton:function(t){var e=this._dataSource,i=this._getNextButton();this.$element().toggleClass(qO,t),t&&e&&e.isLoaded()&&i.appendTo(this._itemContainer()),t||i.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var t=h("<div>").addClass(XO),e=h("<div>").appendTo(t);return this._createComponent(e,xe,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:Tt()?"default":void 0,integrationOptions:{}}),t},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh:function(){if(!M())this.callBase();else{var t=this._scrollView.scrollTop();this.callBase(),t&&this._scrollView.scrollTo(t)}},_optionChanged:function(t){switch(t.name){case"pageLoadMode":this._toggleNextButton(t.value),this._initScrollView();break;case"dataSource":this.callBase(t),this._initScrollView(),this._isDataSourceFirstLoadCompleted(!1);break;case"items":this.callBase(t),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState();break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"wrapItemText":this._$container.toggleClass(qc,t.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(t),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(t),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(t);break;case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"_swipeEnabled":case"_revertPageOnEmptyLoad":case"_listAttributes":break;default:this.callBase(t)}},_extendActionArgs:function(t){if(!this.option("grouped"))return this.callBase(t);var e=t.closest("."+ki),i=e.find("."+Vr);return v(this.callBase(t),{itemIndex:{group:e.index(),item:i.index(t)}})},expandGroup:function(t){var e=new y,i=this._itemContainer().find("."+ki).eq(t);return this._collapseGroupHandler(i,!1).done(function(){e.resolveWith(this)}.bind(this)),e.promise()},collapseGroup:function(t){var e=new y,i=this._itemContainer().find("."+ki).eq(t);return this._collapseGroupHandler(i,!0).done(function(){e.resolveWith(this)}.bind(this)),e},updateDimensions:function(){var t=this,e=new y;return t._scrollView?t._scrollView.update().done(function(){!t._scrollViewIsFull()&&t._updateLoadingState(!0),e.resolveWith(t)}):e.resolveWith(t),e.promise()},reload:function(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(t){this._scrollView.scrollBy(t)},scrollTo:function(t){this._scrollView.scrollTo(t)},scrollToItem:function(t){var e=this._editStrategy.getItemElement(t);this._scrollView.scrollToElement(e?.get(0))},_dimensionChanged:function(){this.updateDimensions()}}).include($_);pu.ItemClass=cO;function tA(){return JO||B_}var qs="dx-toolbar-menu-action",eA="dx-toolbar-hidden-button",iA="dx-toolbar-hidden-button-group",Yc="dx-toolbar-menu-section",Qc="dx-toolbar-menu-last-section",L_=pu.inherit({_activeStateUnit:"."+qs,_initMarkup:function(){this._renderSections(),this.callBase()},_getSections:function(){return this._itemContainer().children()},_itemElements:function(){return this._getSections().children(this._itemSelector())},_renderSections:function(){var t=this,e=this._itemContainer();b(["before","center","after","menu"],function(){var i="_$"+this+"Section",n=t[i];n||(t[i]=n=h("<div>").addClass(Yc)),n.appendTo(e)})},_renderItems:function(){this.callBase.apply(this,arguments),this._updateSections()},_updateSections:function(){var t=this.$element().find("."+Yc);t.removeClass(Qc),t.not(":empty").eq(-1).addClass(Qc)},_renderItem:function(t,e,i,n){var r=e.location||"menu",a=this["_$"+r+"Section"],s=this.callBase(t,e,a,n);return this._getItemTemplateName({itemData:e})&&s.addClass("dx-toolbar-menu-custom"),(r==="menu"||e.widget==="dxButton"||e.widget==="dxButtonGroup"||e.isAction)&&s.addClass(qs),e.widget==="dxButton"&&s.addClass(eA),e.widget==="dxButtonGroup"&&s.addClass(iA),s.addClass(e.cssClass),s},_getItemTemplateName:function(t){var e=this.callBase(t),i=t.itemData,n=i&&i.menuItemTemplate;return n||e},_itemClickHandler:function(t,e,i){h(t.target).closest("."+qs).length&&this.callBase(t,e,i)},_clean:function(){this._getSections().empty(),this.callBase()}});et("dxToolbarMenu",L_);var nA=R_.inherit({_initMarkup(){this._deferredItems=[],this.callBase()},_renderItemContent(t){var e=new y,i=new y;this._deferredItems[t.index]=i;var n=this.callBase.call(this,t);return i.done(()=>{e.resolve(n)}),e.promise()},_createItemByTemplate(t,e){return t.render({model:e.itemData,container:e.container,index:e.index,onRendered:()=>{this._deferredItems[e.index].resolve()}})},_postProcessRenderItems:C,_renderItemsAsync(){var t=new y;return lt.apply(this,this._deferredItems).done(()=>{this._postProcessRenderItems(),t.resolve()}),t.promise()},_clean(){this.callBase(),this._deferredItems=[]}}),rA="dx-toolbar",Xs="dx-toolbar-before",aA="dx-toolbar-center",Zc="dx-toolbar-after",sA="dx-toolbar-mini",oA="dx-toolbar-item",k_="dx-toolbar-label",lA="dx-toolbar-button",uA="dx-toolbar-items-container",hA="dx-toolbar-group",Jc="dx-toolbar-compact",Tr="."+k_,td="dx-toolbar-multiline",ed="text",cA="default",dA="contained",fA="dxToolbarItemDataKey",P_=nA.inherit({compactMode:!1,ctor:function(t,e){this._userOptions=e||{},this.callBase(t,e),"height"in this._userOptions&&N.log("W0001",this.NAME,"height","20.1","Functionality associated with this option is not intended for the Toolbar widget.")},_getSynchronizableOptionsForCreateComponent:function(){return this.callBase().filter(t=>t!=="disabled")},_initTemplates:function(){this.callBase();var t=new hu(function(e,i,n){K(i)?(i.text&&e.text(i.text).wrapInner("<div>"),i.html&&e.html(i.html),i.widget==="dxDropDownButton"&&(i.options=i.options||{},I(i.options.stylingMode)||(i.options.stylingMode=this.option("useFlatButtons")?ed:dA)),i.widget==="dxButton"&&(this.option("useFlatButtons")&&(i.options=i.options||{},i.options.stylingMode=i.options.stylingMode||ed),this.option("useDefaultButtons")&&(i.options=i.options||{},i.options.type=i.options.type||cA))):e.text(String(i)),this._getTemplate("dx-polymorph-widget").render({container:e,model:n,parent:this})}.bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:t,menuItem:t})},_getDefaultOptions:function(){return v(this.callBase(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1,multiline:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Tt()},options:{useFlatButtons:!0}}])},_itemContainer:function(){return this._$toolbarItemsContainer.find(["."+Xs,"."+aA,"."+Zc].join(","))},_itemClass:function(){return oA},_itemDataKey:function(){return fA},_buttonClass:function(){return lA},_dimensionChanged:function(){this._arrangeItems(),this._applyCompactMode()},_initMarkup:function(){this._renderToolbar(),this._renderSections(),this.callBase(),this.setAria("role","toolbar")},_waitParentAnimationFinished:function(){var t=this.$element();return new si(e=>{var i=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout(()=>(()=>{var n=!0;return t.parents().each((r,a)=>{if(Ie.isAnimating(h(a)))return n=!1,!1}),n&&e(),n})()||i(),15)};i()})},_render:function(){this.callBase(),this._renderItemsAsync(),Tt()&&si.all([this._waitParentAnimationFinished(),this._checkWebFontForLabelsLoaded()]).then(this._dimensionChanged.bind(this))},_postProcessRenderItems:function(){this._arrangeItems()},_renderToolbar:function(){this.$element().addClass(rA).toggleClass(td,this.option("multiline")),this._$toolbarItemsContainer=h("<div>").addClass(uA).appendTo(this.$element())},_renderSections:function(){var t=this._$toolbarItemsContainer,e=this;b(["before","center","after"],function(){var i="dx-toolbar-"+this,n=t.find("."+i);n.length||(e["_$"+this+"Section"]=n=h("<div>").addClass(i).appendTo(t))})},_checkWebFontForLabelsLoaded:function(){var t=this.$element().find(Tr),e=[];return t.each((i,n)=>{var r=h(n).text(),a=h(n).css("fontWeight");e.push(Pg(r,a))}),si.all(e)},_arrangeItems:function(t){t=t||F(this.$element()),this._$centerSection.css({margin:"0 auto",float:"none"});var e=Qt(this._$beforeSection.get(0)),i=Qt(this._$afterSection.get(0));this._alignCenterSection(e,i,t);var n=this._$toolbarItemsContainer.find(Tr).eq(0),r=n.parent();if(!!n.length){var a=e.width?e.width:n.position().left,s=r.hasClass(Xs)?0:a,o=r.hasClass(Zc)?0:i.width,l=0;r.children().not(Tr).each(function(){l+=ot(this)});var u=t-l,c=Math.max(u-s-o,0);if(r.hasClass(Xs))this._alignSection(this._$beforeSection,c);else{var d=ot(n)-F(n);n.css("maxWidth",c-d)}}},_alignCenterSection:function(t,e,i){this._alignSection(this._$centerSection,i-t.width-e.width);var n=this.option("rtlEnabled"),r=n?e:t,a=n?t:e,s=Qt(this._$centerSection.get(0));(r.right>s.left||s.right>a.left)&&this._$centerSection.css({marginLeft:r.width,marginRight:a.width,float:r.width>a.width?"none":"right"})},_alignSection:function(t,e){var i=t.find(Tr),n=i.toArray();e-=this._getCurrentLabelsPaddings(n);var r=this._getCurrentLabelsWidth(n),a=Math.abs(r-e);e<r?(n=n.reverse(),this._alignSectionLabels(n,a,!1)):this._alignSectionLabels(n,a,!0)},_alignSectionLabels:function(t,e,i){for(var n=function(u){return Qt(u).width},r=0;r<t.length;r++){var a=h(t[r]),s=Math.ceil(n(t[r])),o=void 0;i&&a.css("maxWidth","inherit");var l=Math.ceil(i?n(t[r]):s);if(l<e)o=i?l:0,e-=l;else{o=i?s+e:s-e,a.css("maxWidth",o);break}a.css("maxWidth",o)}},_applyCompactMode:function(){var t=this.$element();t.removeClass(Jc),this.option("compactMode")&&this._getSummaryItemsWidth(this.itemElements(),!0)>F(t)&&t.addClass(Jc)},_getCurrentLabelsWidth:function(t){var e=0;return t.forEach(function(i,n){e+=ot(i)}),e},_getCurrentLabelsPaddings:function(t){var e=0;return t.forEach(function(i,n){e+=ot(i)-F(i)}),e},_renderItem:function(t,e,i,n){var r=e.location||"center",a=i||this["_$"+r+"Section"],s=!!(e.text||e.html),o=this.callBase(t,e,a,n);return o.toggleClass(this._buttonClass(),!s).toggleClass(k_,s).addClass(e.cssClass),o},_renderGroupedItems:function(){var t=this;b(this.option("items"),function(e,i){var n=i.items,r=h("<div>").addClass(hA),a=i.location||"center";!n||!n.length||(b(n,function(s,o){t._renderItem(s,o,r,null)}),t._$toolbarItemsContainer.find(".dx-toolbar-"+a).append(r))})},_renderItems:function(t){var e=this.option("grouped")&&t.length&&t[0].items;e?this._renderGroupedItems():this.callBase(t)},_getToolbarItems:function(){return this.option("items")||[]},_renderContentImpl:function(){var t=this._getToolbarItems();this.$element().toggleClass(sA,t.length===0),this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t),this._applyCompactMode()},_renderEmptyMessage:C,_clean:function(){this._$toolbarItemsContainer.children().empty(),this.$element().empty()},_visibilityChanged:function(t){t&&this._arrangeItems()},_isVisible:function(){return F(this.$element())>0&&z(this.$element())>0},_getIndexByItem:function(t){return L(t,this._getToolbarItems())},_itemOptionChanged:function(t,e,i){this.callBase.apply(this,[t,e,i]),this._arrangeItems()},_optionChanged:function(t){var e=t.name;switch(e){case"width":this.callBase.apply(this,arguments),this._dimensionChanged();break;case"multiline":this.$element().toggleClass(td,t.value);break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:this.callBase.apply(this,arguments)}},_dispose:function(){this.callBase(),clearTimeout(this._waitParentAnimationTimeout)}});et("dxToolbarBase",P_);var pA=["fullScreen","forceApplyBindings"],_A=U();class vA extends Dl{constructor(e){var{fullScreen:i,forceApplyBindings:n}=e,r=kt(e,pA);super(r);this._props=A({},this._props,{fullScreen:i,forceApplyBindings:n}),this._lastPositionBeforeFullScreen=void 0}set fullScreen(e){this._props.fullScreen=e,e?this._fullScreenEnabled():this._fullScreenDisabled()}positionContent(){if(this._props.fullScreen)Lt(this._$content,{top:0,left:0}),this.detectVisualPositionChange();else{var e,i;(e=(i=this._props).forceApplyBindings)===null||e===void 0||e.call(i),!this._shouldRenderContentInitialPosition&&this._lastPositionBeforeFullScreen?(Lt(this._$content,this._lastPositionBeforeFullScreen),this._lastPositionBeforeFullScreen=void 0,this.detectVisualPositionChange()):super.positionContent()}}_getWrapperCoveredElement(){return this._props.fullScreen?h(_A):super._getWrapperCoveredElement()}_fullScreenEnabled(){this.restorePositionOnNextRender(!1),this._lastPositionBeforeFullScreen=this._visualPosition}_fullScreenDisabled(){this.restorePositionOnNextRender(!1)}}var mA=U(),Ys="dx-popup",gA="dx-popup-wrapper",CA="dx-popup-fullscreen",bA="dx-popup-fullscreen-width",EA="dx-popup-normal",SA="dx-popup-content",yA="dx-state-disabled",IA="dx-popup-draggable",id="dx-popup-title",TA="dx-closebutton",nd="dx-popup-bottom",OA="dx-has-close-button",AA="dx-template-wrapper",wA="dx-popup-flex-height",xA="dx-popup-inherit-height",rd=["cancel","clear","done"],DA="default",RA="normal",BA="text",$A="contained",LA=di.safari&&vi(di.version,[11])<0,Be={static:"",inherit:xA,flex:wA},kA=t=>{var e=B.current(),i=e.platform,n="bottom",r="before";if(i==="ios")switch(t){case"cancel":n="top";break;case"clear":n="top",r="after";break;case"done":r="after"}else if(i==="android"&&e.version&&parseInt(e.version[0])>4)switch(t){case"cancel":case"done":r="after"}return{toolbar:n,location:r}},Ya=nn.inherit({_getDefaultOptions:function(){return v(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules:function(){var t=Xe();return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(e){return B.real().deviceType==="desktop"&&e.platform==="generic"},options:{dragEnabled:!0}},{device:function(){return B.real().deviceType==="desktop"&&!B.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Tt(t)},options:{useDefaultToolbarButtons:!0,useFlatToolbarButtons:!0,showCloseButton:!1}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init:function(){this.callBase(),this.$element().addClass(Ys),this.$wrapper().addClass(gA),this._$popupContent=this._$content.wrapInner(h("<div>").addClass(SA)).children().eq(0)},_render:function(){var t=this.option("fullScreen");this._toggleFullScreenClass(t),this.callBase()},_toggleFullScreenClass:function(t){this.$overlayContent().toggleClass(CA,t).toggleClass(EA,!t)},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new zi,bottom:new zi})},_renderContentImpl:function(){this._renderTitle(),this.callBase(),this._renderBottom()},_renderTitle:function(){var t=this._getToolbarItems("top"),e=this.option("title"),i=this.option("showTitle");if(i&&!!e&&t.unshift({location:B.current().ios?"center":"before",text:e}),i||t.length>0){this._$title&&this._$title.remove();var n=h("<div>").addClass(id).insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",t,n).addClass(id),this._renderDrag(),this._executeTitleRenderAction(this._$title),this._$title.toggleClass(OA,this._hasCloseButton())}else this._$title&&this._$title.detach()},_renderTemplateByType:function(t,e,i,n){var{rtlEnabled:r,useDefaultToolbarButtons:a,useFlatToolbarButtons:s,disabled:o}=this.option(),l=this._getTemplateByOption(t),u=l instanceof zi;if(u){var c=v({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),d=v(n,{items:e,rtlEnabled:r,useDefaultButtons:a,useFlatButtons:s,disabled:o,integrationOptions:c});this._getTemplate("dx-polymorph-widget").render({container:i,model:{widget:"dxToolbarBase",options:d}});var f=i.children("div");return i.replaceWith(f),f}else{var m=h(l.render({container:H(i)}));return m.hasClass(AA)&&(i.replaceWith(m),i=m),i}},_executeTitleRenderAction:function(t){this._getTitleRenderAction()({titleElement:H(t)})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){return(t,e,i)=>{var n=h("<div>").addClass(TA);this._createComponent(n,xe,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),h(i).append(n)}},_getToolbarItems:function(t){var e=this.option("toolbarItems"),i=[];this._toolbarItemClasses=[];var n=B.current().platform,r=0;return b(e,(a,s)=>{var o=I(s.shortcut),l=o?kA(s.shortcut):s;if(o&&n==="ios"&&r<2&&(l.toolbar="top",r++),l.toolbar=s.toolbar||l.toolbar||"top",l&&l.toolbar===t){o&&v(l,{location:s.location},this._getToolbarItemByAlias(s));var u=n==="generic";s.shortcut==="done"&&u||s.shortcut==="cancel"&&!u?i.unshift(l):i.push(l)}}),t==="top"&&this._hasCloseButton()&&i.push(this._getCloseButton()),i},_hasCloseButton(){return this.option("showCloseButton")&&this.option("showTitle")},_getLocalizationKey:t=>t.toLowerCase()==="done"?"OK":Wv(t,!0),_getToolbarItemByAlias:function(t){var e=this,i=t.shortcut;if(L(i,rd)<0)return!1;var n=v({text:rt.format(this._getLocalizationKey(i)),onClick:this._createToolbarItemAction(t.onClick),integrationOptions:{},type:e.option("useDefaultToolbarButtons")?DA:RA,stylingMode:e.option("useFlatToolbarButtons")?BA:$A},t.options||{}),r=Ys+"-"+i;return this._toolbarItemClasses.push(r),{template:function(a,s,o){var l=h("<div>").addClass(r).appendTo(o);e._createComponent(l,xe,n)}}},_createToolbarItemAction:function(t){return this._createAction(t,{afterExecute:function(e){e.component.hide()}})},_renderBottom:function(){var t=this._getToolbarItems("bottom");if(t.length){this._$bottom&&this._$bottom.remove();var e=h("<div>").addClass(nd).insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",t,e,{compactMode:!0}).addClass(nd),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleDisabledState:function(t){this.callBase(...arguments),this.$content().toggleClass(yA,Boolean(t))},_toggleClasses:function(){var t=rd;b(t,(e,i)=>{var n=Ys+"-"+i;L(n,this._toolbarItemClasses)>=0?(this.$wrapper().addClass(n+"-visible"),this._$bottom.addClass(n)):(this.$wrapper().removeClass(n+"-visible"),this._$bottom.removeClass(n))})},_getPositionControllerConfig(){var{fullScreen:t,forceApplyBindings:e}=this.option();return v({},this.callBase(),{fullScreen:t,forceApplyBindings:e})},_initPositionController(){this._positionController=new vA(this._getPositionControllerConfig())},_getDragTarget:function(){return this.topToolbar()},_renderGeometryImpl:function(){this._resetContentHeight(),this.callBase(),this._setContentHeight()},_resetContentHeight:function(){var t=this._getOptionValue("height");t==="auto"&&this.$content().css({height:"auto",maxHeight:"none"})},_renderDrag:function(){this.callBase(),this.$overlayContent().toggleClass(IA,this.option("dragEnabled"))},_renderResize:function(){this.callBase(),this._resizable.option("onResize",t=>{this._setContentHeight(),this._actions.onResize(t)})},_setContentHeight:function(){(this.option("forceApplyBindings")||C)();var t=this.$overlayContent().get(0),e=this._chooseHeightStrategy(t);this.$content().css(this._getHeightCssStyles(e,t)),this._setHeightClasses(this.$overlayContent(),e)},_heightStrategyChangeOffset:function(t,e){return t===Be.flex?-e:0},_chooseHeightStrategy:function(t){var e=t.style.width==="auto"||t.style.width==="",i=Be.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(e||LA?i=Be.inherit:i=Be.flex),i},_getHeightCssStyles:function(t,e){var i={},n=this._getOptionValue("maxHeight",e),r=this._getOptionValue("minHeight",e),a=this._splitPopupHeight(),s=a.header+a.footer+a.contentVerticalOffsets+a.popupVerticalOffsets+this._heightStrategyChangeOffset(t,a.popupVerticalPaddings);if(t===Be.static){if(!this._isAutoHeight()||n||r){var o=this.option("fullScreen")?Math.min(Qt(e).height,U().innerHeight):Qt(e).height,l=o-s;i={height:Math.max(0,l),minHeight:"auto",maxHeight:"auto"}}}else{var u=h(this._positionController._$wrapperCoveredElement).get(0),c=zv(n,-s,u),d=Kv(r,-s,u);i={height:"auto",minHeight:d,maxHeight:c}}return i},_setHeightClasses:function(t,e){var i="";for(var n in Be)Be[n]!==e&&(i+=" "+Be[n]);t.removeClass(i).addClass(e)},_isAutoHeight:function(){return this.$overlayContent().get(0).style.height==="auto"},_splitPopupHeight:function(){var t=this.topToolbar(),e=this.bottomToolbar();return{header:Du(t&&t.get(0)),footer:Du(e&&e.get(0)),contentVerticalOffsets:os(this.$overlayContent().get(0),!0),popupVerticalOffsets:os(this.$content().get(0),!0),popupVerticalPaddings:os(this.$content().get(0),!1)}},_isAllWindowCovered:function(){return this.callBase()||this.option("fullScreen")},_renderDimensions:function(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):this.callBase(),M()&&this._renderFullscreenWidthClass()},_renderFullscreenWidthClass:function(){this.$overlayContent().toggleClass(bA,ot(this.$overlayContent())===F(mA))},refreshPosition:function(){this._renderPosition()},_optionChanged:function(t){switch(t.name){case"disabled":this.callBase(t),this._renderTitle(),this._renderBottom();break;case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),Pe(this.$overlayContent());break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),Pe(this.$overlayContent());break;case"onTitleRendered":this._createTitleRenderAction(t.value);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":var e=!t.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),e&&(this._renderGeometry(),Pe(this.$overlayContent()));break;case"dragEnabled":this._renderDrag();break;case"autoResizeEnabled":this._renderGeometry(),Pe(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=t.value,this._toggleFullScreenClass(t.value),this._toggleSafariScrolling(),this._renderGeometry(),Pe(this.$overlayContent());break;case"showCloseButton":this._renderTitle();break;default:this.callBase(t)}},bottomToolbar:function(){return this._$bottom},topToolbar:function(){return this._$title},$content:function(){return this._$popupContent},content:function(){return H(this.$content())},$overlayContent:function(){return this._$content}});et("dxPopup",Ya);var $B=Object.freeze(Object.defineProperty({__proto__:null,default:Ya},Symbol.toStringTag,{value:"Module"})),PA={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"};var MA=["shading","$arrow"],ve={left:-1,top:-1,center:0,right:1,bottom:1},M_={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}},VA={h:10,v:10};class HA extends Dl{constructor(e){var{shading:i,$arrow:n}=e,r=kt(e,MA);super(r);this._props=A({},this._props,{shading:i}),this._$arrow=n,this._positionSide=void 0}positionWrapper(){this._props.shading&&this._$wrapper.css({top:0,left:0})}_renderBoundaryOffset(){}_getContainerPosition(){var e=il(this._position.offset||""),{h:i,v:n}=e,r=this._isVerticalSide(),a=this._isHorizontalSide();if(r||a){var s=this._isPopoverInside(),o=(s?-1:1)*ve[this._positionSide],l=r?z(this._$arrow):F(this._$arrow),u=this._getContentBorderWidth(this._positionSide),c=o*(l-u);r?n+=c:i+=c}return v({},this._position,{offset:i+" "+n})}_getContentBorderWidth(e){var i=this._$content.css(PA[e]);return parseInt(i)||0}_isPopoverInside(){var e=Nt.setup.normalizeAlign(this._position.my),i=Nt.setup.normalizeAlign(this._position.at);return e.h===i.h&&e.v===i.v}_isVerticalSide(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._positionSide;return e==="top"||e==="bottom"}_isHorizontalSide(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._positionSide;return e==="left"||e==="right"}_getDisplaySide(e){var i=Nt.setup.normalizeAlign(e.my),n=Nt.setup.normalizeAlign(e.at),r=ve[i.h]===ve[n.h]&&ve[i.v]===ve[n.v]?-1:1,a=Math.abs(ve[i.h]-r*ve[n.h]),s=Math.abs(ve[i.v]-r*ve[n.v]);return a>s?n.h:n.v}_normalizePosition(e,i){var n={of:i,boundaryOffset:VA},r;return I(e)?r=v(!0,{},n,this._positionToObject(e)):r=n,this._positionSide=this._getDisplaySide(r),r}_positionToObject(e){return St(e)?v({},M_[e]):e}}var FA="dx-popover",NA="dx-popover-wrapper",WA="dx-popover-arrow",zA="dx-popover-without-title",ad={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},V_=function(t){return ht(t)?t.name:t},H_=function(t,e){var i=t.option(e);return V_(i)},KA=function(t,e){var i=t.option(e);return ht(i)&&i.delay},Qs=function(t,e){var{target:i,shading:n,disabled:r,hideEvent:a}=t.option(),s=St(i),o=n&&e==="hide",l=o?null:H_(t,"".concat(e,"Event"));if(o&&a&&pt.log("W1020"),!(!l||r)){var u=T(l,t.NAME),c=t._createAction(function(){var g=KA(t,e+"Event");this._clearEventsTimeouts(),g?this._timeouts[e]=setTimeout(function(){t[e]()},g):t[e]()}.bind(t),{validatingTargetName:"target"}),d=function(g){c({event:g,target:h(g.currentTarget)})},f="_"+e+"EventHandler";if(s)t[f]=d,p.on(R.getDocument(),u,i,d);else{var m=H(h(i));t[f]=void 0,p.on(m,u,d)}}},Zs=function(t,e,i,n){var r=n||H_(t,i+"Event");if(!!r){r=T(r,t.NAME);var a="_"+i+"EventHandler";t[a]?p.off(R.getDocument(),r,e,t[a]):p.off(H(h(e)),r)}},F_=Ya.inherit({_getDefaultOptions:function(){return v(this.callBase(),{target:void 0,shading:!1,position:v({},M_.bottom),closeOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,hideOnParentScroll:!0,arrowPosition:"",arrowOffset:0,_fixWrapperPosition:!0})},_defaultOptionsRules:function(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}},{device:function(){return!M()},options:{animation:null}}]},_init:function(){this.callBase(),this._renderArrow(),this._timeouts={},this.$element().addClass(FA),this.$wrapper().addClass(NA)},_render:function(){this.callBase.apply(this,arguments),this._detachEvents(this.option("target")),this._attachEvents()},_detachEvents:function(t){Zs(this,t,"show"),Zs(this,t,"hide")},_attachEvents:function(){Qs(this,"show"),Qs(this,"hide")},_renderArrow:function(){this._$arrow=h("<div>").addClass(WA).prependTo(this.$overlayContent())},_documentDownHandler:function(t){return this._isOutsideClick(t)?this.callBase(t):!0},_isOutsideClick:function(t){return!h(t.target).closest(this.option("target")).length},_animate:function(t){t&&t.to&&typeof t.to=="object"&&v(t.to,{position:this._getContainerPosition()}),this.callBase.apply(this,arguments)},_stopAnimation:function(){this.callBase.apply(this,arguments)},_renderTitle:function(){this.$wrapper().toggleClass(zA,!this.option("showTitle")),this.callBase()},_renderPosition:function(){this.callBase(),this._renderOverlayPosition(),this._actions.onPositioned()},_renderOverlayPosition:function(){this._resetOverlayPosition(),this._updateContentSize();var t=this._getContainerPosition(),e=Nt.setup(this.$overlayContent(),t),i=this._getSideByLocation(e);this._togglePositionClass("dx-position-"+i),this._toggleFlippedClass(e.h.flip,e.v.flip);var n=this._isHorizontalSide()||this._isVerticalSide();n&&this._renderArrowPosition(i)},_resetOverlayPosition:function(){this._setContentHeight(!0),this._togglePositionClass("dx-position-"+this._positionController._positionSide),Lt(this.$overlayContent(),{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})},_updateContentSize:function(){if(!!this.$content()){var t=Nt.calculate(this.$overlayContent(),this._getContainerPosition());if(t.h.oversize>0&&this._isHorizontalSide()&&!t.h.fit){var e=F(this.$overlayContent())-t.h.oversize;Uv(this.$overlayContent(),e)}if(t.v.oversize>0&&this._isVerticalSide()&&!t.v.fit){var i=z(this.$overlayContent())-t.v.oversize,n=z(this.$content())-t.v.oversize;zr(this.$overlayContent(),i),zr(this.$content(),n)}}},_getContainerPosition:function(){return this._positionController._getContainerPosition()},_getSideByLocation:function(t){var e=t.v.flip,i=t.h.flip;return this._isVerticalSide()&&e||this._isHorizontalSide()&&i||this._isPopoverInside()?ad[this._positionController._positionSide]:this._positionController._positionSide},_togglePositionClass:function(t){this.$wrapper().removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(t)},_toggleFlippedClass:function(t,e){this.$wrapper().toggleClass("dx-popover-flipped-horizontal",t).toggleClass("dx-popover-flipped-vertical",e)},_renderArrowPosition:function(t){var e=Qt(this._$arrow.get(0)),i=-(this._isVerticalSide(t)?e.height:e.width);this._$arrow.css(ad[t],i);var n=this._isVerticalSide(t)?"left":"top",r=this._isVerticalSide(t)?"width":"height",a=h(this._positionController._position.of),s=Nt.offset(a)||{top:0,left:0},o=Nt.offset(this.$overlayContent()),l=e[r],u=o[n],c=Qt(this.$overlayContent().get(0))[r],d=s[n],f=a.get(0),m=f&&!f.preventDefault?Qt(f)[r]:0,g=Math.max(u,d),x=Math.min(u+c,d+m),E;this.option("arrowPosition")==="start"?E=g-u:this.option("arrowPosition")==="end"?E=x-u-l:E=(g+x)/2-u-l/2;var w=this._positionController._getContentBorderWidth(t),D=ge(E-w+this.option("arrowOffset"),w,c-l-2*w);this._$arrow.css(n,D)},_isPopoverInside:function(){return this._positionController._isPopoverInside()},_setContentHeight:function(t){t&&this.callBase()},_getPositionControllerConfig(){var{shading:t}=this.option();return v({},this.callBase(),{shading:t,$arrow:this._$arrow})},_initPositionController(){this._positionController=new HA(this._getPositionControllerConfig())},_renderWrapperDimensions:function(){this.option("shading")&&this.$wrapper().css({width:"100%",height:"100%"})},_isVerticalSide:function(t){return this._positionController._isVerticalSide(t)},_isHorizontalSide:function(t){return this._positionController._isHorizontalSide(t)},_clearEventTimeout:function(t){clearTimeout(this._timeouts[t])},_clearEventsTimeouts:function(){this._clearEventTimeout("show"),this._clearEventTimeout("hide")},_clean:function(){this._detachEvents(this.option("target")),this.callBase.apply(this,arguments)},_optionChanged:function(t){switch(t.name){case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":t.value&&this.option("fullScreen",!1);break;case"target":t.previousValue&&this._detachEvents(t.previousValue),this.callBase(t);break;case"showEvent":case"hideEvent":var e=t.name.substring(0,4),i=V_(t.previousValue);this.hide(),Zs(this,this.option("target"),e,i),Qs(this,e);break;case"visible":this._clearEventTimeout(t.value?"show":"hide"),this.callBase(t);break;default:this.callBase(t)}},show:function(t){return t&&this.option("target",t),this.callBase()}});et("dxPopover",F_);var UA="dx-list-item",sd="dx-list-group",_u=20,jA=(1<<_u)-1,od=function(t){return(t.group<<_u)+t.item},ei=function(t){return{group:t>>_u,item:t&jA}},GA=x_.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find("."+sd)},_groupItemElements:function(t){return t.find("."+UA)},getIndexByItemData:function(t){var e=this._collectionWidget.option("items"),i=!1;return t?(t.items&&t.items.length&&(t=t.items[0]),b(e,function(n,r){if(!r.items||(b(r.items,function(a,s){return s!==t?!0:(i={group:n,item:a},!1)}),i))return!1}),i):!1},getItemDataByIndex:function(t){var e=this._collectionWidget.option("items");return ai(t)?this.itemsGetter()[t]:t&&e[t.group]&&e[t.group].items[t.item]||null},itemsGetter:function(){for(var t=[],e=this._collectionWidget.option("items"),i=0;i<e.length;i++)e[i]&&e[i].items?t=t.concat(e[i].items):t.push(e[i]);return t},deleteItemAtIndex:function(t){var e=ei(t),i=this._collectionWidget.option("items")[e.group].items;i.splice(e.item,1)},getKeysByItems:function(t){var e=[],i;for(i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);var n=[];for(i=0;i<e.length;i++)n.push(this._collectionWidget.keyOf(e[i]));return n},getIndexByKey:function(t,e){var i=e||this._collectionWidget.option("items"),n=-1,r=this;return b(i,function(a,s){if(!!s.items&&(b(s.items,function(o,l){var u=r._collectionWidget.keyOf(l);if(r._equalKeys(u,t))return n={group:a,item:o},!1}),n!==-1))return!1}),n},_getGroups:function(t){var e=this._collectionWidget.getDataSource(),i=e&&e.group();return i?Qr.queryByOptions(gi(t),{group:i}).toArray():this._collectionWidget.option("items")},getItemsByKeys:function(t,e){var i=[],n=this._getGroups(e),r={},a=s=>{var o=this.getIndexByKey(s,n),l=o&&n[o.group];if(!!l)return{groupKey:l.key,item:l.items[o.item]}};return b(t,function(s,o){var l=a(o);if(!!l){var u=l.groupKey,c=l.item,d=r[u];d||(d={key:u,items:[]},r[u]=d,i.push(d)),d.items.push(c)}}),i},moveItemAtIndexToIndex:function(t,e){var i=this._collectionWidget.option("items"),n=ei(t),r=ei(e),a=i[n.group].items,s=i[r.group].items,o=a[n.item];a.splice(n.item,1),s.splice(r.item,0,o)},_isItemIndex:function(t){return t&&ai(t.group)&&ai(t.item)},_getNormalizedItemIndex:function(t){var e=h(t),i=e.closest("."+sd);return i.length?od({group:this._groupElements().index(i),item:this._groupItemElements(i).index(e)}):-1},_normalizeItemIndex:function(t){return od(t)},_denormalizeItemIndex:function(t){return ei(t)},_getItemByNormalizedIndex:function(t){var e=ei(t),i=this._groupElements().eq(e.group);return this._groupItemElements(i).eq(e.item)},_itemsFromSameParent:function(t,e){return ei(t).group===ei(e).group}}),N_={};function qA(t,e,i){var n=N_,r={};r[t]=n[t]?n[t]:{},r[t][e]=i,v(n,r)}var W_=[],Qa=function(t,e,i){W_.push({enabled:t,decoratorType:e,decoratorSubType:i})};Qa(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")});Qa(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var t=this.option("itemDeleteMode");return t==="toggle"||t==="slideButton"||t==="swipe"||t==="static"?"delete":"menu"},function(){var t=this.option("itemDeleteMode");return t==="slideItem"&&(t="slide"),t});Qa(function(){return this.option("selectionMode")!=="none"&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"});Qa(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},function(){return"reorder"},function(){return"default"});var XA="dx-list-item-before-bag",YA="dx-list-item-after-bag",QA="beforeBag",ZA="afterBag",JA="modifyElement",tw="afterRender",ew="getExcludedSelectors",iw=W.inherit({ctor:function(t){this._list=t,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&b(this._decorators,function(t,e){e.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],b(W_,function(t,e){var i=e.enabled.call(this._list);if(i){var n=e.decoratorType.call(this._list),r=e.decoratorSubType.call(this._list),a=this._createDecorator(n,r);this._decorators.push(a)}}.bind(this))},_createDecorator:function(t,e){var i=this._findDecorator(t,e);return new i(this._list)},_findDecorator:function(t,e){var i,n=(i=N_[t])===null||i===void 0?void 0:i[e];if(!n)throw pt.Error("E1012",t,e);return n},modifyItemElement:function(t){var e=h(t.itemElement),i={$itemElement:e};this._prependBeforeBags(e,i),this._appendAfterBags(e,i),this._applyDecorators(JA,i)},afterItemsRendered:function(){this._applyDecorators(tw)},_prependBeforeBags:function(t,e){var i=this._collectDecoratorsMarkup(QA,e,XA);t.prepend(i)},_appendAfterBags:function(t,e){var i=this._collectDecoratorsMarkup(ZA,e,YA);t.append(i)},_collectDecoratorsMarkup:function(t,e,i){var n=h("<div>");return b(this._decorators,function(){var r=h("<div>").addClass(i);this[t](v({$container:r},e)),r.children().length&&n.append(r)}),n.children()},_applyDecorators:function(t,e){b(this._decorators,function(){this[t](e)})},_handlerExists:function(t){if(!this._decorators)return!1;for(var e=this._decorators,i=e.length,n=0;n<i;n++)if(e[n][t]!==C)return!0;return!1},_eventHandler:function(t,e,i){if(!this._decorators)return!1;for(var n=!1,r=this._decorators,a=r.length,s=0;s<a&&(n=r[s][t](e,i),!n);s++);return n},handleClick:function(t,e){return this._eventHandler("handleClick",t,e)},handleKeyboardEvents:function(t,e){return this._eventHandler("handleKeyboardEvents",t,e)},handleEnterPressing:function(t){return this._eventHandler("handleEnterPressing",t)},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(t,e){return this._eventHandler("handleContextMenu",t,e)},getExcludedItemSelectors:function(){var t=[];return this._applyDecorators(ew,t),t.join(",")}}),nw="dx-list-item-selected",rw="dx-list-item-response-wait",aw=pu.inherit({_supportedKeys(){var t=this,e=this.callBase(),i=(n,r)=>{var a=this._editStrategy,s=this.option("focusedElement"),o=a.getNormalizedIndex(s),l=o===this._getLastItemIndex();if(!(l&&this._isDataSourceLoading()))if(n.shiftKey&&t.option("itemDragging.allowReordering")){var u=o+(r?-1:1),c=a.getItemElement(u);this.reorderItem(s,c),this.scrollToItem(s),n.preventDefault()}else{var d=this._editProvider,f=d.handleKeyboardEvents(o,r);f||(r?e.upArrow(n):e.downArrow(n))}};return v({},e,{del:n=>{t.option("allowItemDeleting")&&(n.preventDefault(),t.deleteItem(t.option("focusedElement")))},upArrow:n=>i(n,!0),downArrow:n=>i(n),enter:function(n){this._editProvider.handleEnterPressing(n)||e.enter.apply(this,arguments)},space:function(n){this._editProvider.handleEnterPressing(n)||e.space.apply(this,arguments)}})},_updateSelection(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex(){return this._itemElements().length-1},_refreshItemElements(){this.callBase();var t=this._editProvider.getExcludedItemSelectors();t.length&&(this._itemElementsCache=this._itemElementsCache.not(t))},_isItemStrictEquals:function(t,e){var i=t&&t.__dx_key__;return i&&!this.key()&&this._selection.isItemSelected(i)?!1:this.callBase(t,e)},_getDefaultOptions(){return v(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:rt.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})},_defaultOptionsRules(){return this.callBase().concat([{device:t=>t.platform==="ios",options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init(){this.callBase(),this._initEditProvider()},_initDataSource(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll(){return this.option("selectAllMode")==="page"},_initEditProvider(){this._editProvider=new iw(this)},_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy(){this.option("grouped")?this._editStrategy=new GA(this):this.callBase()},_initMarkup(){this._refreshEditProvider(),this.callBase()},_renderItems(){this.callBase(...arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:()=>nw,_itemResponseWaitClass:()=>rw,_itemClickHandler(t){var e=h(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var i=this._editProvider.handleClick(e,t);i||(this._saveSelectionChangeEvent(t),this.callBase(...arguments))}},_shouldFireContextMenuEvent(){return this.callBase(...arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler(t){var e=h(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var i=Ta(t)&&this._editProvider.handleContextMenu(e,t);if(i){t.handledByEditProvider=!0;return}this.callBase(...arguments)}},_getItemContainer:function(t){if(this.option("grouped")){var e,i=(e=this._editStrategy.getIndexByItemData(t))===null||e===void 0?void 0:e.group;return this._getGroupContainerByIndex(i)}else return this.callBase(t)},_itemContextMenuHandler(t){var e=h(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var i=!t.handledByEditProvider&&this._editProvider.handleContextMenu(e,t);if(i){t.preventDefault();return}this.callBase(...arguments)}},_postprocessRenderItem(t){this.callBase(...arguments),this._editProvider.modifyItemElement(t)},_clean(){this._disposeEditProvider(),this.callBase()},focusListItem(t){var e=this._editStrategy.getItemElement(t);this.option("focusedElement",e),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged(t){switch(t.name){case"selectAllMode":this._initDataSource(),this._dataSource.pageIndex(0),this._dataSource.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(t);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(t)}},selectAll(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement(t){return this._itemElements().index(t)},getItemElementByFlatIndex(t){var e=this._itemElements();return t<0||t>=e.length?h():e.eq(t)},getItemByIndex(t){return this._editStrategy.getItemDataByIndex(t)}}),vu=aw.inherit(nc).inherit({_addWidgetPrefix:function(t){return"dx-list-"+t},_getCombinedFilter:function(){var t,e,i=this._dataSource;return i&&(e={filter:i.filter()},i._addSearchFilter(e),t=e.filter),t},_initDataSource:function(){var t=this.option("searchValue"),e=this.option("searchExpr"),i=this.option("searchMode");this.callBase(),this._dataSource&&(t&&t.length&&this._dataSource.searchValue(t),i.length&&this._dataSource.searchOperation(nc.getOperationBySearchMode(i)),e&&this._dataSource.searchExpr(e))}});et("dxList",vu);var sw="dx-buttongroup",ow=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"],lw=function(t){var e=t.data&&t.data(),i=e&&e.dxComponents,n=i&&i[0];return n&&e[n]};function sa(t,e){var i;if(!!t){var n=t._findItemElementByItem(e);if(!!n.length){var r=t._getItemData(n),a=!!((i=r.options)!==null&&i!==void 0&&i.disabled||r.disabled||t.option("disabled")),{widget:s}=r;if(s&&ow.indexOf(s)!==-1){var o=n.find(s.toLowerCase().replace("dx",".dx-"));if(o.length){var l,u,c=lw(o),d=s==="dxDropDownButton"?c._focusTarget().find(".".concat(sw)):(c==null||(l=c._focusTarget)===null||l===void 0?void 0:l.call(c))||h(c.element()),f=(u=r.options)===null||u===void 0?void 0:u.tabIndex;a?d.attr("tabIndex",-1):d.attr("tabIndex",f||0)}}}}}var uw=U(),hw="dx-dropdownmenu",cw="dx-dropdownmenu-popup",dw="dx-dropdownmenu-popup-wrapper",fw="dx-dropdownmenu-list",pw="dx-dropdownmenu-button",_w={popupWidth:"width",popupHeight:"height",popupMaxHeight:"maxHeight",popupAutoResizeEnabled:"autoResizeEnabled"},vw={buttonIcon:"icon",buttonText:"text",buttonWidth:"width",buttonHeight:"height",buttonTemplate:"template"},z_=Re.inherit({_supportedKeys:function(){var t={};return(!this.option("opened")||!this._list.option("focusedElement"))&&(t=this._button._supportedKeys()),v(this.callBase(),t,{tab:function(){this._popup&&this._popup.hide()}})},_getDefaultOptions:function(){return v(this.callBase(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",buttonText:"",buttonIcon:"overflow",buttonWidth:void 0,buttonHeight:void 0,buttonTemplate:"content",onButtonClick:null,usePopover:!1,popupWidth:"auto",popupHeight:"auto",activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,selectionMode:"none",selectedItemKeys:[],deferRendering:!1,popupPosition:{my:"top center",at:"bottom center",collision:"fit flip",offset:{v:1}},popupAnimation:void 0,onItemRendered:null,menuWidget:vu,popupMaxHeight:void 0,closeOnClick:!0,useInkRipple:!1,container:void 0,popupAutoResizeEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{usePopover:!0}},{device:{platform:"generic"},options:{popupPosition:{offset:{v:4}}}},{device:function(){return B.real().deviceType==="desktop"&&!B.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{popupPosition:{my:"top "+(this.option("rtlEnabled")?"left":"right"),at:"top "+(this.option("rtlEnabled")?"left":"right"),collision:"flipfit"},popupAnimation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}},{device:function(){return Tt()},options:{useInkRipple:!0}}])},_initOptions:function(t){B.current().platform==="android"&&(t.popupPosition||(t.popupPosition={at:(t.usePopover?"bottom ":"top ")+(t.rtlEnabled?"left":"right")})),this.callBase(t)},_dataSourceOptions:function(){return{paginate:!1}},_init:function(){this.callBase(),this.$element().addClass(hw),this._initDataSource(),this._initItemClickAction(),this._initButtonClickAction()},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initButtonClickAction:function(){this._buttonClickAction=this._createActionByOption("onButtonClick")},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new Ia("content")}),this.callBase()},_initMarkup:function(){this._renderButton(),this.callBase()},_render:function(){this.callBase(),this.setAria({role:"menubar",haspopup:!0,expanded:this.option("opened")})},_renderContentImpl:function(){this.option("opened")&&this._renderPopup()},_clean:function(){this._cleanFocusState(),this._popup&&(this._popup.$element().remove(),delete this._$popup)},_renderButton:function(){var t=this.$element().addClass(pw),e=this._buttonOptions();this._button=this._createComponent(t,xe,e)},_toggleActiveState:function(t,e,i){this._button._toggleActiveState(t,e,i)},_buttonOptions:function(){return{text:this.option("buttonText"),icon:this.option("buttonIcon"),width:this.option("buttonWidth"),height:this.option("buttonHeight"),useInkRipple:this.option("useInkRipple"),template:this.option("buttonTemplate"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:function(t){this.option("opened",!this.option("opened")),this._buttonClickAction(t)}.bind(this)}},_toggleMenuVisibility:function(t){var e=t===void 0?!this._popup.option("visible"):t;t&&this._renderPopup(),this._popup.toggle(e),this.setAria("expanded",e)},_renderPopup:function(){if(!this._$popup){var t=this._$popup=h("<div>").appendTo(this.$element()),e=this._popupOptions();this._popup=this._createComponent(t,F_,e)}},_popupOptions:function(){var t=!this.option("usePopover");return{onInitialized:function(e){e.component.$wrapper().addClass(dw).toggleClass(cw,t)},visible:this.option("opened"),deferRendering:!1,contentTemplate:function(e){this._renderList(e)}.bind(this),position:this.option("popupPosition"),animation:this.option("popupAnimation"),onOptionChanged:function(e){e.name==="visible"&&this.option("opened",e.value)}.bind(this),target:this.$element(),height:this.option("popupHeight"),width:this.option("popupWidth"),maxHeight:this.option("popupMaxHeight"),container:this.option("container"),autoResizeEnabled:this.option("popupAutoResizeEnabled")}},_renderList:function(t){var e=h(t),i=this._listOptions();e.addClass(fw),this._list=this._createComponent(e,this.option("menuWidget"),i),this._list._getAriaTarget=function(){return this.$element()}.bind(this),this._setListDataSource();var n=.5*z(uw);z(e)>n&&zr(e,n)},_itemOptionChanged:function(t,e,i){var n;(n=this._list)===null||n===void 0||n._itemOptionChanged(t,e,i),sa(this._list,t)},_listOptions:function(){return{pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",selectionMode:this.option("selectionMode"),selectedItemKeys:this.option("selectedItemKeys"),itemTemplate:this.option("itemTemplate"),onItemClick:function(t){this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(t)}.bind(this),tabIndex:-1,focusStateEnabled:this.option("focusStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}}},_setListDataSource:function(){this._list&&this._list.option("dataSource",this._dataSource||this.option("items")),delete this._deferRendering},_getKeyboardListeners(){return this.callBase().concat([this._list])},_toggleVisibility:function(t){this.callBase(t),this._button.option("visible",t)},_optionChanged:function(t){var e=t.name,i=t.value;switch(e){case"items":case"dataSource":this.option("deferRendering")&&!this.option("opened")?this._deferRendering=!0:(this._refreshDataSource(),this._setListDataSource());break;case"itemTemplate":this._list&&this._list.option(e,this._getTemplate(i));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"buttonIcon":case"buttonText":case"buttonWidth":case"buttonHeight":case"buttonTemplate":this._button.option(vw[e],i),this._renderPopup();break;case"popupWidth":case"popupHeight":case"popupMaxHeight":case"popupAutoResizeEnabled":this._popup.option(_w[e],i);break;case"usePopover":case"menuWidget":case"useInkRipple":this._invalidate();break;case"focusStateEnabled":case"activeStateEnabled":this._list&&this._list.option(e,i),this.callBase(t);break;case"selectionMode":case"selectedItemKeys":case"onItemRendered":this._list&&this._list.option(e,i);break;case"opened":this._deferRendering&&(this._refreshDataSource(),this._setListDataSource()),this._toggleMenuVisibility(i),this._updateFocusableItemsTabIndex();break;case"deferRendering":case"popupPosition":case"closeOnClick":break;case"container":this._popup&&this._popup.option(t.name,t.value);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:this.callBase(t)}},_updateFocusableItemsTabIndex(){this.option("items").forEach(t=>sa(this._list,t))},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)}}).include(Hl);et("dxDropDownMenu",z_);var mw="dx-state-invisible",gw="dx-toolbar-menu-container",Cw=10;class bw{constructor(e){this._toolbar=e}render(){if(!!this._hasVisibleMenuItems()){this._renderMenuButtonContainer();var e=h("<div>").appendTo(this._dropDownMenuContainer());this._dropDownMenu=this._toolbar._createComponent(e,z_,this._dropDownMenuOptions()),this.renderMenuItems()}}renderMenuItems(){this._dropDownMenu||this.render(),this._dropDownMenu&&this._dropDownMenu.option("items",this._getMenuItems()),this._dropDownMenu&&!this._dropDownMenu.option("items").length&&this._dropDownMenu.close()}_renderMenuButtonContainer(){var e=this._toolbar._$afterSection;this._$menuButtonContainer=h("<div>").appendTo(e).addClass(this._toolbar._buttonClass()).addClass(gw)}_getMenuItemTemplate(){return this._toolbar._getTemplateByOption("menuItemTemplate")}_dropDownMenuOptions(){var e=this._toolbar._createActionByOption("onItemClick"),i=2*Cw;return{disabled:this._toolbar.option("disabled"),itemTemplate:this._getMenuItemTemplate.bind(this),onItemClick:function(n){e(n)}.bind(this),deferRendering:!0,container:this._toolbar.option("menuContainer"),popupMaxHeight:B.current().platform==="android"?R.getDocumentElement().clientHeight-i:void 0,menuWidget:L_,onOptionChanged:n=>{var{name:r,value:a}=n;r==="opened"&&this._toolbar.option("overflowMenuVisible",a),r==="items"&&this._updateMenuVisibility(a)},popupPosition:{at:"bottom right",my:"top right"}}}_updateMenuVisibility(e){var i=e||this._getMenuItems(),n=i.length&&this._hasVisibleMenuItems(i);this._toggleMenuVisibility(n)}_getMenuItems(){return this._toolbar._getMenuItems()}_hasVisibleMenuItems(e){var i=e||this._toolbar.option("items"),n=!1,r=At("visible"),a=At("locateInMenu");return b(i,function(s,o){var l=r(o,{functionsAsIs:!0}),u=a(o,{functionsAsIs:!0});(l!==!1&&(u==="auto"||u==="always")||o.location==="menu")&&(n=!0)}),n}_toggleMenuVisibility(e){!this._dropDownMenuContainer()||this._dropDownMenuContainer().toggleClass(mw,!e)}_dropDownMenuContainer(){return this._$menuButtonContainer}widgetOption(e,i){this._dropDownMenu&&this._dropDownMenu.option(e,i)}itemOption(e,i,n){if(i==="disabled"||i==="options.disabled"){var r;(r=this._dropDownMenu)===null||r===void 0||r._itemOptionChanged(e,i,n)}else this.renderMenuItems()}}var Or="dx-toolbar-item-auto-hide",Ew="dx-toolbar-text-auto-hide",Js="dx-toolbar-item-invisible",K_=P_.inherit({_getDefaultOptions:function(){return v(this.callBase(),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1})},updateDimensions:function(){this._dimensionChanged()},_dimensionChanged:function(t){t!=="height"&&(this.callBase(),this._menu.renderMenuItems())},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({actionSheetItem:new Ia("item")})},_initMarkup:function(){this.callBase(),this._updateFocusableItemsTabIndex(),this._renderMenu()},_postProcessRenderItems:function(){this._hideOverflowItems(),this._menu._updateMenuVisibility(),this.callBase(),ci(()=>{this._menu.renderMenuItems()})},_renderItem:function(t,e,i,n){var r=this.callBase(t,e,i,n);return e.locateInMenu==="auto"&&r.addClass(Or),e.widget==="dxButton"&&e.showText==="inMenu"&&r.toggleClass(Ew),r},_getItemsWidth:function(){return this._getSummaryItemsWidth([this._$beforeSection,this._$centerSection,this._$afterSection])},_hideOverflowItems:function(t){var e=this.$element().find("."+Or);if(!!e.length){t=t||F(this.$element()),h(e).removeClass(Js);for(var i=this._getItemsWidth();e.length&&t<i;){var n=e.eq(-1);i-=ot(n),n.addClass(Js),e.splice(-1,1)}}},_getMenuItems:function(){var t=this,e=be(this.option("items")||[],function(r){return t._isMenuItem(r)}),i=this._itemContainer().children("."+Or+"."+Js).not(".dx-state-invisible");this._restoreItems=this._restoreItems||[];var n=[].slice.call(i).map(r=>{var a=t._getItemData(r),s=h(r).children(),o=s.children();return v({menuItemTemplate:function(){t._restoreItems.push({container:s,item:o});var l=h("<div>").addClass(Or);return l.append(o)}},a)});return jv(n,e)},_getToolbarItems:function(){var t=this;return be(this.option("items")||[],function(e){return!t._isMenuItem(e)})},_renderMenu:function(){this._renderMenuStrategy(),ci(()=>{this._menu.render()})},_renderMenuStrategy:function(){this._menu||(this._menu=new bw(this))},_arrangeItems:function(){if(!this.$element().is(":hidden")){this._$centerSection.css({margin:"0 auto",float:"none"}),b(this._restoreItems||[],function(e,i){h(i.container).append(i.item)}),this._restoreItems=[];var t=F(this.$element());this._hideOverflowItems(t),this.callBase(t)}},_itemOptionChanged:function(t,e,i){this._isMenuItem(t)?this._menu.itemOption(t,e,i):this._isToolbarItem(t)?this.callBase(t,e,i):(this.callBase(t,e,i),this._menu.itemOption(t,e,i)),(e==="disabled"||e==="options.disabled")&&sa(this,t),e==="location"&&this.repaint()},_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(t=>sa(this,t))},_isMenuItem:function(t){return t.location==="menu"||t.locateInMenu==="always"},_isToolbarItem:function(t){return t.location===void 0||t.locateInMenu==="never"},_optionChanged:function(t){var{name:e,value:i}=t;switch(e){case"menuItemTemplate":this._changeMenuOption("itemTemplate",this._getTemplate(i));break;case"onItemClick":this._changeMenuOption(e,i),this.callBase.apply(this,arguments);break;case"menuContainer":this._changeMenuOption("container",i);break;case"overflowMenuVisible":this._changeMenuOption("opened",i);break;case"disabled":this._changeMenuOption("disabled",i),this.callBase.apply(this,arguments),this._updateFocusableItemsTabIndex();break;default:this.callBase.apply(this,arguments)}},_changeMenuOption:function(t,e){this._menu.widgetOption(t,e)}});et("dxToolbar",K_);var LB=Object.freeze(Object.defineProperty({__proto__:null,default:K_},Symbol.toStringTag,{value:"Module"})),ld="dx-invalid-message-auto",ud="dx-validation-target";class mu extends Ga{getProps(){var e=super.getProps();return e.onFocusIn=()=>{var i=this.option("validationMessageMode")==="auto";if(i){var n=h(".dx-invalid-message.dx-overlay-wrapper");n?.removeClass(ld),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>{n?.addClass(ld)},150)}},e.saveValueChangeEvent=i=>{this._valueChangeEventInstance=i},e}_createElement(e){super._createElement(e),this.showValidationMessageTimeout=void 0,this.validationRequest=X(),tt(this.$element()[0],ud,this)}_render(){var e;(e=this.option("_onMarkupRendered"))===null||e===void 0||e()}_initializeComponent(){super._initializeComponent(),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_initOptions(e){super._initOptions(e),this.option(ct.initValidationOptions(e))}_getDefaultOptions(){return v(super._getDefaultOptions(),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}_bindInnerWidgetOptions(e,i){var n=v({},e.option()),r=()=>this._silent(i,n);r(),e.on("optionChanged",r)}_raiseValidation(e,i){var n=!I(e)&&!I(i);e!==i&&!n&&this.validationRequest.fire({value:e,editor:this})}_raiseValueChangeAction(e,i){var n;(n=this._valueChangeAction)===null||n===void 0||n.call(this,{element:this.$element(),previousValue:i,value:e,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}_optionChanged(e){var{name:i,previousValue:n,value:r}=e;switch(i&&this._getActionConfigs()[i]!==void 0&&this._addAction(i),i){case"value":this._raiseValidation(r,n),this._raiseValueChangeAction(r,n);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(ct.synchronizeValidationOptions(e,this.option()))}super._optionChanged(e)}reset(){var{value:e}=this._getDefaultOptions();this.option({value:e})}_dispose(){super._dispose(),tt(this.element(),ud,null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}}var Sw=Yi.isEditor,U_=t=>Sw(t)||t instanceof mu;mu.isEditor=U_;Yi.isEditor=U_;class yw extends mu{_useTemplates(){return!1}_isFocused(){var e=this.$element()[0];return e.classList.contains("dx-state-focused")}getSupportedKeyNames(){return["space"]}getProps(){var e=super.getProps();return e.value!==null&&(e.value=Boolean(e.value)),e}}var Iw=["dataSource","selectedRowKeys"],Tw={integrationOptions:!0};function _n(t,e,i){return{path:t,value:e,previousValue:i}}function hd(t,e,i,n,r,a){if(!Tw[n]){var s=In(e),o=In(i);if(e!==i)if(s!==o)t.push(_n(n,i,e));else if(s==="object")if(!K(i))t.push(_n(n,i,e));else{var l=cd(e,i,r,a);t.push(...l.map(d=>A({},d,{path:"".concat(n,".").concat(d.path)})))}else if(s==="array"){var u=a.some(d=>r.includes(d));if(u&&e!==i)t.push(_n(n,i,e));else if(e.length!==i.length)t.push(_n(n,i,e));else{var c=cd(e,i,r,a);[].push.apply(t,c.map(d=>A({},d,{path:"".concat(n).concat(d.path)})))}}else t.push(_n(n,i,e))}}var j_=t=>(e,i,n,r)=>{var a=[],s=Array.isArray(e)?o=>{hd(a,e[o],i[o],"[".concat(o,"]"),"".concat(n,".").concat(o),r)}:o=>{hd(a,e[o],i[o],o,"".concat(n,".").concat(o),r)};return t(e).forEach(s),Object.keys(i).filter(o=>!Object.prototype.hasOwnProperty.call(e,o)&&e[o]!==i[o]).forEach(o=>{a.push({path:o,value:i[o],previousValue:e[o]})}),a},cd=j_(t=>Object.keys(t)),Ow={key:!0,ref:!0,children:!0,style:!0},Aw=j_(t=>Object.keys(t).filter(e=>!Ow[e]));function ww(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Iw;return Aw(t,e,"",i)}var xw=["valueChange"],Dw=["componentProps","componentType","rootElementRef","templateNames"],Rw=t=>{var{props:{componentProps:{className:e}},restAttributes:i,widgetRef:n}=t;return ue(Ot(1,"div",e,null,1,A({},i),null,n))},Bw={};class G_ extends Ka{constructor(e){super(e);this.state={},this.widgetRef=Zt(),this.getInstance=this.getInstance.bind(this),this.setupWidget=this.setupWidget.bind(this),this.setRootElementRef=this.setRootElementRef.bind(this),this.updateWidget=this.updateWidget.bind(this)}get config(){return"ConfigContext"in this.context?this.context.ConfigContext:E_}createEffects(){return[new it(this.setupWidget,[]),new it(this.setRootElementRef,[]),new it(this.updateWidget,[this.props.componentProps,this.config,this.props.templateNames])]}updateEffects(){var e;(e=this._effects[2])===null||e===void 0||e.update([this.props.componentProps,this.config,this.props.templateNames])}setupWidget(){var e=new this.props.componentType(this.widgetRef.current,this.properties);return this.instance=e,()=>{e.dispose(),this.instance=null}}setRootElementRef(){var{rootElementRef:e}=this.props;e&&(e.current=this.widgetRef.current)}updateWidget(){var e=this.getInstance();if(!!e){var i=ww(this.prevProps||{},this.properties);i.length&&(e.beginUpdate(),i.forEach(n=>{var{path:r,value:a}=n;e.option(r,a)}),e.endUpdate()),this.prevProps=this.properties}}get properties(){var e,i=this.props.componentProps,{valueChange:n}=i,r=kt(i,xw),a=A({rtlEnabled:!!((e=this.config)!==null&&e!==void 0&&e.rtlEnabled)},r);n&&(a.onValueChanged=o=>{var{value:l}=o;return n(l)});var s=this.props.templateNames;return s.forEach(o=>{fI(o,a,this)&&(a[o]=(l,u,c)=>{dI(this.props.componentProps[o],{item:l,index:u,container:c},this)})}),a}get restAttributes(){var e=this.props,i=kt(e,Dw);return i}getInstance(){return this.instance}render(){var e=this.props;return Rw({props:A({},e),widgetRef:this.widgetRef,config:this.config,properties:this.properties,restAttributes:this.restAttributes})}}G_.defaultProps=Bw;var $w=["accessKey","activeStateEnabled","boundary","className","container","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionRequest","rtlEnabled","tabIndex","target","validationErrors","visible","width"],Lw=t=>{var{props:e,restAttributes:i}=t;return ue(Kt(2,G_,A({componentType:ql,componentProps:e,templateNames:[]},i)))},kw=Object.create(Object.prototype,A(Object.getOwnPropertyDescriptors(qa),Object.getOwnPropertyDescriptors({mode:"auto",get offset(){return{h:0,v:0}},isReactComponentWrapper:!0})));class q_ extends Qn{constructor(e){super(e);this.state={}}get restAttributes(){var e=this.props,i=kt(e,$w);return i}render(){var e=this.props;return Lw({props:A({},e),restAttributes:this.restAttributes})}}q_.defaultProps=kw;var Pw=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationStatus","value","valueChange","visible","width"],Mw=t=>{var{classes:e,isValid:i,readOnly:n}=t,r={"dx-state-readonly":!!n,"dx-invalid":!i,["".concat(e)]:!!e};return He(r)},Vw=t=>{var{aria:e,cssClasses:i,isValidationMessageVisible:n,onFocusIn:r,props:{accessKey:a,activeStateEnabled:s,children:o,className:l,disabled:u,focusStateEnabled:c,height:d,hint:f,hoverStateEnabled:m,onClick:g,onKeyDown:x,rtlEnabled:E,tabIndex:w,validationMessageMode:D,visible:j,width:Z},restAttributes:yt,rootElementRef:ut,validationErrors:Wt,validationMessageGuid:J,validationMessageTarget:wt,widgetRef:Pt}=t;return ue(Kt(2,ru,A({rootElementRef:ut,aria:e,classes:i,activeStateEnabled:s,focusStateEnabled:c,hoverStateEnabled:m,accessKey:a,className:l,rtlEnabled:E,hint:f,disabled:u,height:d,width:Z,onFocusIn:r,onClick:g,onKeyDown:x,tabIndex:w,visible:j},yt,{children:rn([o,n&&Kt(2,q_,{validationErrors:Wt,mode:D,positionRequest:"below",rtlEnabled:E,target:wt,boundary:wt,container:wt,contentId:J})],0)}),null,Pt))},gt=Object.create(Object.prototype,A(Object.getOwnPropertyDescriptors(qa),Object.getOwnPropertyDescriptors({readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationStatus:"valid",isValid:!0,defaultValue:null,valueChange:()=>{}}))),Hw={get readOnly(){return gt.readOnly},get name(){return gt.name},get validationError(){return gt.validationError},get validationErrors(){return gt.validationErrors},get validationMessageMode(){return gt.validationMessageMode},get validationStatus(){return gt.validationStatus},get isValid(){return gt.isValid},get defaultValue(){return gt.defaultValue},get valueChange(){return gt.valueChange},get className(){return gt.className},get activeStateEnabled(){return gt.activeStateEnabled},get disabled(){return gt.disabled},get focusStateEnabled(){return gt.focusStateEnabled},get hoverStateEnabled(){return gt.hoverStateEnabled},get rtlEnabled(){return gt.rtlEnabled},get tabIndex(){return gt.tabIndex},get visible(){return gt.visible},get aria(){return ra.aria},get classes(){return ra.classes}};class X_ extends Ua{constructor(e){super(e);this.widgetRef=Zt(),this.rootElementRef=Zt(),this.__getterCache={},this.state={validationMessageGuid:"dx-".concat(new Ae),isValidationMessageVisible:!1,value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.updateValidationMessageVisibility=this.updateValidationMessageVisibility.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onFocusIn=this.onFocusIn.bind(this)}createEffects(){return[new it(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),ja()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}updateValidationMessageVisibility(){this.setState(e=>({isValidationMessageVisible:this.shouldShowValidationMessage}))}onFocusIn(e){var{onFocusIn:i}=this.props;i?.(e)}get cssClasses(){return"".concat(Mw(A({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})))}get shouldShowValidationMessage(){var e,{isValid:i,validationStatus:n}=this.props,r=(e=this.validationErrors)!==null&&e!==void 0?e:[],a=i&&n!=="invalid";return!a&&r.length>0}get aria(){var{isValid:e,readOnly:i}=this.props,n={readonly:i?"true":"false",invalid:e?"false":"true"};return this.shouldShowValidationMessage&&(n.describedBy=this.state.validationMessageGuid),A({},n,this.props.aria)}get validationErrors(){return this.__getterCache.validationErrors!==void 0?this.__getterCache.validationErrors:this.__getterCache.validationErrors=(()=>{var{validationError:e,validationErrors:i}=this.props,n=i&&[...i];return!n&&e&&(n=[A({},e)]),n})()}get validationMessageTarget(){var e;return(e=this.rootElementRef)===null||e===void 0?void 0:e.current}get restAttributes(){var e=A({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=kt(e,Pw);return i}focus(){this.widgetRef.current.focus()}blur(){this.widgetRef.current.blur()}componentWillUpdate(e,i,n){super.componentWillUpdate(),(this.props.validationError!==e.validationError||this.props.validationErrors!==e.validationErrors)&&(this.__getterCache.validationErrors=void 0)}render(){var e=this.props;return Vw({props:A({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),validationMessageGuid:this.state.validationMessageGuid,isValidationMessageVisible:this.state.isValidationMessageVisible,rootElementRef:this.rootElementRef,widgetRef:this.widgetRef,onFocusIn:this.onFocusIn,cssClasses:this.cssClasses,shouldShowValidationMessage:this.shouldShowValidationMessage,aria:this.aria,validationErrors:this.validationErrors,validationMessageTarget:this.validationMessageTarget,restAttributes:this.restAttributes})}}X_.defaultProps=Hw;var dd=U();function Fw(t){var e;return t?(e=dd.getComputedStyle)===null||e===void 0?void 0:e.call(dd,t):null}var Nw=[[22,16],[18,16]],Ww=[[[12,8],[20,18]],[[16,10],[16,14]]];function Y_(){var t=Xe();return{isMaterialTheme:Tt(t),isCompactTheme:Lg(t)}}function zw(){var{isCompactTheme:t,isMaterialTheme:e}=Y_();return Nw[+e][+t]}function Kw(t){var{isCompactTheme:e,isMaterialTheme:i}=Y_();return Ww[+t][+i][+e]}function Uw(t,e){var i=Kw(e),n=zw(),r=i/n;return Math.ceil(r*t)}var jw=["isChecked","size"],Gw=t=>{var{cssStyles:e,elementRef:i}=t;return Ot(1,"span","dx-checkbox-icon",null,1,{style:__(e)},null,i)},qw={isChecked:!1};class Q_ extends Ka{constructor(e){super(e);this.state={},this.elementRef=Zt(),this.__getterCache={},this.updateFontSize=this.updateFontSize.bind(this),this.setIconFontSize=this.setIconFontSize.bind(this),this.getIconSize=this.getIconSize.bind(this),this.getComputedIconSize=this.getComputedIconSize.bind(this)}createEffects(){return[new it(this.updateFontSize,[this.props.isChecked,this.props.size])]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.isChecked,this.props.size])}updateFontSize(){var{isChecked:e,size:i}=this.props;if(M()&&i){var n=this.getIconSize(i),r=Uw(n,e);this.setIconFontSize(r)}}setIconFontSize(e){var i=this.elementRef.current;i.style.fontSize="".concat(e,"px")}getIconSize(e){return ai(e)?e:e.endsWith("px")?parseInt(e,10):this.getComputedIconSize()}getComputedIconSize(){var e=this.elementRef.current,i=Fw(e),n=parseInt(i?.width,10);return n}get cssStyles(){return this.__getterCache.cssStyles!==void 0?this.__getterCache.cssStyles:this.__getterCache.cssStyles=(()=>{var{size:e}=this.props,i=Wr("width",e),n=Wr("height",e);return{height:n,width:i}})()}get restAttributes(){var e=this.props,i=kt(e,jw);return i}componentWillUpdate(e,i,n){super.componentWillUpdate(),this.props.size!==e.size&&(this.__getterCache.cssStyles=void 0)}render(){var e=this.props;return Gw({props:A({},e),elementRef:this.elementRef,setIconFontSize:this.setIconFontSize,getIconSize:this.getIconSize,getComputedIconSize:this.getComputedIconSize,cssStyles:this.cssStyles,restAttributes:this.restAttributes})}}Q_.defaultProps=qw;var Xw=["accessKey","activeStateEnabled","aria","className","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationStatus","value","valueChange","visible","width"],Yw=t=>{var{text:e,value:i}=t,n=i,r=n===null,a={"dx-checkbox":!0,"dx-checkbox-checked":n===!0,"dx-checkbox-has-text":!!e,"dx-checkbox-indeterminate":r};return He(a)},Qw=t=>{var{aria:e,cssClasses:i,editorRef:n,keyDown:r,onWidgetClick:a,props:{accessKey:s,activeStateEnabled:o,className:l,disabled:u,focusStateEnabled:c,height:d,hint:f,hoverStateEnabled:m,iconSize:g,isValid:x,name:E,onFocusIn:w,readOnly:D,rtlEnabled:j,tabIndex:Z,text:yt,validationError:ut,validationErrors:Wt,validationMessageMode:J,validationStatus:wt,value:Pt,visible:ce,width:S},restAttributes:$}=t;return ue(Kt(2,X_,A({aria:e,classes:i,onClick:a,onKeyDown:r,accessKey:s,activeStateEnabled:o,focusStateEnabled:c,hoverStateEnabled:m,className:l,disabled:u,readOnly:D,hint:f,height:d,width:S,rtlEnabled:j,tabIndex:Z,visible:ce,validationError:ut,validationErrors:Wt,validationMessageMode:J,validationStatus:wt,isValid:x,onFocusIn:w},$,{children:rn([ue(Ot(64,"input",null,null,1,A({type:"hidden",value:"".concat(Pt)},E&&{name:E}))),Ot(1,"div","dx-checkbox-container",[Kt(2,Q_,{size:g,isChecked:Pt===!0}),yt&&Ot(1,"span","dx-checkbox-text",yt,0)],0)],4)}),null,n))},mt=Object.create(Object.prototype,A(Object.getOwnPropertyDescriptors(gt),Object.getOwnPropertyDescriptors({text:"",activeStateEnabled:!0,hoverStateEnabled:!0,defaultValue:!1,valueChange:()=>{}}))),Zw={get text(){return mt.text},get activeStateEnabled(){return mt.activeStateEnabled},get hoverStateEnabled(){return mt.hoverStateEnabled},get defaultValue(){return mt.defaultValue},get valueChange(){return mt.valueChange},get readOnly(){return mt.readOnly},get name(){return mt.name},get validationError(){return mt.validationError},get validationErrors(){return mt.validationErrors},get validationMessageMode(){return mt.validationMessageMode},get validationStatus(){return mt.validationStatus},get isValid(){return mt.isValid},get className(){return mt.className},get disabled(){return mt.disabled},get focusStateEnabled(){return mt.focusStateEnabled},get rtlEnabled(){return mt.rtlEnabled},get tabIndex(){return mt.tabIndex},get visible(){return mt.visible},get aria(){return ra.aria}},Z_=ef([{device:()=>B.real().deviceType==="desktop"&&!B.isSimulator(),options:{focusStateEnabled:!0}}]);class oa extends Ua{constructor(e){super(e);this.editorRef=Zt(),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[ja()]}onWidgetClick(e){var i,{readOnly:n,saveValueChangeEvent:r}=this.props,a=(i=this.props.value!==void 0?this.props.value:this.state.value)!==null&&i!==void 0?i:!1;if(!n){r?.(e);var s;this.setState(o=>(s=!a,{value:s})),this.props.valueChange(s)}}keyDown(e){var{onKeyDown:i}=this.props,{keyName:n,originalEvent:r,which:a}=e,s=i?.(e);if(s!=null&&s.cancel)return s;(n==="space"||a==="space")&&(r.preventDefault(),this.onWidgetClick(r))}get cssClasses(){return Yw(A({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}get aria(){var e=(this.props.value!==void 0?this.props.value:this.state.value)===!0,i=(this.props.value!==void 0?this.props.value:this.state.value)===null,n={role:"checkbox",checked:i?"mixed":"".concat(e)};return A({},n,this.props.aria)}get restAttributes(){var e=A({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=kt(e,Xw);return i}focus(){this.editorRef.current.focus()}blur(){this.editorRef.current.blur()}render(){var e=this.props;return Qw({props:A({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),editorRef:this.editorRef,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,cssClasses:this.cssClasses,aria:this.aria,restAttributes:this.restAttributes})}}function zo(t){var e=["value"];return Object.keys(t).reduce((i,n)=>{var r=t[n],a=e.some(s=>s===n)?"default"+n.charAt(0).toUpperCase()+n.slice(1):n;return i[a]=r,i},{})}oa.defaultProps=Object.create(Object.prototype,A(Object.getOwnPropertyDescriptors(Zw),Object.getOwnPropertyDescriptors(A({},zo(ze(Z_))))));var fd=[];function Jw(t){fd.push(t),oa.defaultProps=Object.create(Object.prototype,A(Object.getOwnPropertyDescriptors(oa.defaultProps),Object.getOwnPropertyDescriptors(zo(ze(Z_))),Object.getOwnPropertyDescriptors(zo(ze(fd)))))}class la extends yw{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}blur(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.blur(...arguments)}_getActionConfigs(){return{onFocusIn:{},onClick:{}}}get _propsInfo(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","activeStateEnabled","hoverStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationStatus","isValid","onFocusIn","className","accessKey","disabled","focusStateEnabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}get _viewComponent(){return oa}}et("dxCheckBox",la);la.defaultOptions=Jw;var tx="dx-dropdowneditor-button",ex="dx-dropdowneditor-button-visible",ix="dxDropDownEditor-selectLabel";class nx extends Xl{constructor(e,i,n){super(e,i,n);this.currentTemplate=null}_attachEvents(e){var{editor:i}=this;e.option("onClick",n=>{!i.option("openOnFieldClick")&&i._openHandler(n)}),p.on(e.$element(),"mousedown",n=>{i.$element().is(".dx-state-focused")&&n.preventDefault()})}_create(){var{editor:e}=this,i=h("<div>"),n=this._getOptions();this._addToContainer(i);var r=e._createComponent(i,xe,v({},n,{elementAttr:{"aria-label":rt.format(ix)}}));return this._legacyRender(e.$element(),i,n.visible),{$element:i,instance:r}}_getOptions(){var{editor:e}=this,i=this._isVisible(),n=e.option("readOnly"),r={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:n,visible:i};return this._addTemplate(r),r}_isVisible(){var{editor:e}=this;return super._isVisible()&&e.option("showDropDownButton")}_legacyRender(e,i,n){e.toggleClass(ex,n),i&&i.removeClass("dx-button").addClass(tx)}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(e){this._isSameTemplate()||(e.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){var e=super.update();if(e){var{editor:i,instance:n}=this,r=i.$element(),a=this._getOptions();n?.option(a),this._legacyRender(r,n?.$element(),a.visible)}}}var pd=function(t){if(M())return ot(t)},rx=function(t){return t===null&&(t=void 0),typeof t=="function"&&(t=t()),t},ax="dx-dropdowneditor",_d="dx-dropdowneditor-input-wrapper",sx="dx-dropdowneditor-icon",Ar="dx-dropdowneditor-overlay",vd="dx-dropdowneditor-overlay-flipped",ox="dx-dropdowneditor-active",lx="dx-dropdowneditor-field-clickable",ux="dx-dropdowneditor-field-template-wrapper",md=B.current().platform==="ios",J_=au.inherit({_supportedKeys:function(){return v({},this.callBase(),{tab:function(t){if(!!this.option("opened")){if(this.option("applyValueMode")==="instantly"){this.close();return}var e=t.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&p.trigger(e,"focus"),t.preventDefault()}},escape:function(t){return this.option("opened")&&t.preventDefault(),this.close(),!0},upArrow:function(t){return!_i(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey)?(this.close(),!1):!0},downArrow:function(t){return!_i(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey)?(this._validatedOpening(),!1):!0},enter:function(t){return this.option("opened")&&(t.preventDefault(),this._valueChangeEventHandler(t)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:nx}])},_getDefaultOptions:function(){return v(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:rt.format("OK"),cancelButtonText:rt.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(t){var e=Af(t);return{offset:{h:0,v:-1},my:e+" top",at:e+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){var e=t.platform==="generic";return e},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+_d).first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(t){var{my:e,at:i}=this._getDefaultPopupPosition(t),n=this.option("popupPosition");this.option("popupPosition",v({},n,{my:e,at:i}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass(ax),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner(h("<div>").addClass(_d)).children().eq(0)},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var t=this._getFieldTemplate();t&&this._renderTemplatedField(t,this._fieldRenderData())},_renderPlaceholder:function(){var t=!!this._getFieldTemplate();t||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue();var t=this.callBase();t.always(this._renderField.bind(this))},_renderTemplatedField:function(t,e){var i=Xi(this._input()),n=this._$container;this._detachKeyboardEvents(),this._refreshButtonsContainer(),this._detachWrapperContent(),this._detachFocusEvents(),n.empty();var r=h("<div>").addClass(ux).appendTo(n);t.render({model:e,container:H(r),onRendered:()=>{var a=this._input();if(!a.length)throw pt.Error("E1010");this._integrateInput(),i&&p.trigger(a,"focus")}}),this._attachWrapperContent(n)},_detachWrapperContent(){var t,e,i,n=this.option("useHiddenSubmitElement");n&&((t=this._$submitElement)===null||t===void 0||t.detach());var r=(e=this._$beforeButtonsContainer)===null||e===void 0?void 0:e[0].parentNode,a=(i=this._$afterButtonsContainer)===null||i===void 0?void 0:i[0].parentNode;r?.removeChild(this._$beforeButtonsContainer[0]),a?.removeChild(this._$afterButtonsContainer[0])},_attachWrapperContent(t){var e,i=this.option("useHiddenSubmitElement");t.prepend(this._$beforeButtonsContainer),i&&((e=this._$submitElement)===null||e===void 0||e.appendTo(t)),t.append(this._$afterButtonsContainer)},_refreshButtonsContainer(){this._$buttonsContainer=this.$element().children().eq(0)},_integrateInput:function(){this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){p.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new Kr(function(t){var e=h("<div>").addClass(sx);h(t.container).append(e)})}),this.callBase()},_renderOpenHandler:function(){var t=this._inputWrapper(),e=T(Ut,this.NAME),i=this.option("openOnFieldClick");p.off(t,e),p.on(t,e,this._getInputClickHandler(i)),this.$element().toggleClass(lx,i),i&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){md&&(this._detachFocusOutEvents(),p.on(this._inputWrapper(),T("focusout",this.NAME),t=>{var e=t.relatedTarget,i=this.content?h(this.content()).closest("."+Ar):this._$popup;if(e&&this.option("opened")){var n=h(e).closest("."+Ar,i).length===0;n&&this.close()}}))},_detachFocusOutEvents:function(){md&&p.off(this._inputWrapper(),T("focusout",this.NAME))},_getInputClickHandler:function(t){return t?e=>{this._executeOpenAction(e)}:e=>{this._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(t){this._openOnFieldClickAction({event:t})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return this.option("disabled")?!1:(this.option("focusStateEnabled")&&!Xi(this._input())&&(this._resetCaretPosition(),p.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this._input().get(0);if(e){var{value:i}=e,n=I(i)&&(t||this._isEditable())?i.length:0;this._caret({start:n,end:n},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(t){!this._focusInput()||this.option("readOnly")||(t=arguments.length?t:!this.option("opened"),this.option("opened",t))},_renderOpenedState:function(){var t=this.option("opened");t&&this._createPopup(),this.$element().toggleClass(ox,t),this._setPopupOption("visible",t),this.setAria({expanded:t}),this.setAria("owns",t?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=h("<div>").addClass(Ar).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:C,_renderPopup:function(){var t=v(this._popupConfig(),this._options.cache("dropDownOptions"));this._popup=this._createComponent(this._$popup,Ya,t),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId(t){this._popupContentId="dx-"+new Ae,this.setAria("id",this._popupContentId,t)},_contentReadyHandler:C,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:v(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>pd(this.$element()),height:"auto",shading:!1,wrapperAttr:{class:Ar},hideOnParentScroll:!0,closeOnOutsideClick:this._closeOutsideDropDownHandler.bind(this),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null}},_popupInitializedHandler:function(){return this.option("onPopupInitialized")?t=>{this._popupInitializedAction({popup:t.component})}:null},_dimensionChanged:function(){var t=rx(this.option("dropDownOptions.width"));t===void 0&&this._setPopupOption("width",()=>pd(this.$element()))},_popupPositionedHandler:function(t){t.position&&this._popup.$overlayContent().toggleClass(vd,t.position.v.flip)},_popupShowingHandler:C,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var t;this._openAction();var e=this._popup.$overlayContent(),i=Di(e);if(this._label.isVisible()&&e.hasClass(vd)){var n=this._label.$element();Lt(e,{top:i.top-parseInt(n.css("fontSize"))})}(t=this._validationMessage)===null||t===void 0||t.option("positionRequest",this._getValidationMessagePositionRequest())},_popupHiddenHandler:function(){var t;this._closeAction(),(t=this._validationMessage)===null||t===void 0||t.option("positionRequest",this._getValidationMessagePositionRequest())},_getValidationMessagePositionRequest:function(){var t="below";if(this._popup&&this._popup.option("visible")){var{top:e}=Nt.setup(this.$element()),{top:i}=Nt.setup(this._popup.$content());t=e+this.option("popupPosition").offset.v>i?"below":"above"}return t},_closeOutsideDropDownHandler:function(t){var{target:e}=t,i=h(e),n=this.getButton("dropDown"),r=n&&n.$element(),a=!!i.closest(this.$element()).length,s=!!i.closest(r).length,o=!a&&!s;return o},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return this.option("applyValueMode")==="useButtons"?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(t){var e=h(t.currentTarget);(t.shiftKey&&e.is(this._getFirstPopupElement())||!t.shiftKey&&e.is(this._getLastPopupElement()))&&(p.trigger(this._input(),"focus"),t.preventDefault())},_popupElementEscHandler:function(){p.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(t){t.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),t.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var t=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(t)},_applyButtonsLocation:function(t){var e=this.option("buttonsLocation"),i=t;if(e!=="default"){var n=el(e);b(i,function(r,a){v(a,{toolbar:n[0],location:n[1]})})}return i},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(t){var e=Re.getOptionsFromContainer(t);this._setPopupOption(e);var i=Object.keys(e);(i.indexOf("width")!==-1||i.indexOf("height")!==-1)&&this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=h("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(t){var e;switch(t.name){case"width":case"height":this.callBase(t),(e=this._popup)===null||e===void 0||e.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":I(t.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(t),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":M()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(t.value),this.callBase(t);break;default:this.callBase(t)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return H(this._input())},content:function(){return this._popup?this._popup.content():null}});et("dxDropDownEditor",J_);var gd=v({},Hl,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new ta({store:new hp(this.option("items")),pageSize:0}))},_compileDisplayGetter:function(){this._displayGetter=At(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=At(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(t){var e=new y;return t=this._unwrappedValue(t),I(t)?(this._loadSingle(this._valueGetterExpr(),t).done(function(i){this._isValueEquals(this._valueGetter(i),t)?e.resolve(i):e.reject()}.bind(this)).fail(function(){e.reject()}),this._loadValueDeferred=e,e.promise()):e.reject().promise()},_rejectValueLoading:function(){var t;(t=this._loadValueDeferred)===null||t===void 0||t.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(t){var e;return t=(e=t)!==null&&e!==void 0?e:this._getCurrentValue(),t&&this._dataSource&&this._valueGetterExpr()==="this"&&(t=this._getItemKey(t)),Ru.unwrap(t)},_getItemKey:function(t){var e=this._dataSource.key();if(Array.isArray(e)){for(var i={},n=0,r=e.length;n<r;n++)i[e[n]]=t[e[n]];return i}return e&&typeof t=="object"&&(t=t[e]),t},_isValueEquals:function(t,e){var i=this._dataSource&&this._dataSource.key(),n=this._compareValues(t,e);return!n&&i&&I(t)&&I(e)&&(Array.isArray(i)?n=this._compareByCompositeKey(t,e,i):n=this._compareByKey(t,e,i)),n},_compareByCompositeKey:function(t,e,i){var n=ht;if(!n(t)||!n(e))return!1;for(var r=0,a=i.length;r<a;r++)if(t[i[r]]!==e[i[r]])return!1;return!0},_compareByKey:function(t,e,i){var n=Ru.unwrap,r=Bt(n(t[i]),t),a=Bt(n(e[i]),e);return this._compareValues(r,a)},_compareValues:function(t,e){return It(t,!0)===It(e,!0)},_initDynamicTemplates:C,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var t=this.option("valueExpr"),e=St(t)&&t!=="this"||k(t);return e?t:null},_dataExpressionOptionChanged:function(t){switch(t.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),Cd=U(),hx=".dx-list-item",cx="dxListItemData",dx="dx-dropdownlist-popup-wrapper",bd="dx-skip-gesture-event",fx="input",px=["startswith","contains","endwith","notcontains"],Ed=B.real().platform!=="android",tv=J_.inherit({_supportedKeys:function(){var t=this.callBase();return v({},t,{tab:function(e){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(e);var i=h(this._list.option("focusedElement"));i.length&&this._setSelectedElement(i)}t.tab.apply(this,arguments)},space:C,home:C,end:C})},_allowSelectItemByTab:function(){return this.option("opened")&&this.option("applyValueMode")==="instantly"},_setSelectedElement:function(t){var e=this._valueGetter(this._list._getItemData(t));this._setValue(e)},_setValue:function(t){this.option("value",t)},_getDefaultOptions:function(){return v(this.callBase(),v(gd._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:rt.format("dxCollectionWidget-noDataText"),onSelectionChanged:null,onItemClick:C,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),v(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var t=this.option().items;t&&!t.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Ia("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(t){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(t,e,i){return t>i?e:t<e?i:t},_items:function(){var t=this._getPlainItems(!this._list&&this._dataSource.items()),e=new gi(t).filter("disabled","<>",!0).toArray();return e},_calcNextItem:function(t){var e=this._items(),i=this._fitIntoRange(this._getSelectedIndex()+t,0,e.length-1);return e[i]},_getSelectedIndex:function(){var t=this._items(),e=this.option("selectedItem"),i=-1;return b(t,function(n,r){if(this._isValueEquals(r,e))return i=n,!1}.bind(this)),i},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var t=this._popup.$content();p.off(t,"mouseup"),p.on(t,"mouseup",this._saveFocusOnWidget.bind(this));var e=this;this._popup.on({shown:function(){e.$element().addClass(bd)},hidden:function(){e.$element().removeClass(bd)}})},_updateCustomBoundaryContainer:function(){var t=this.option("dropDownOptions.container"),e=t&&h(t);if(e&&e.length&&!ee(e.get(0))){var i=[].slice.call(e.parents());i.unshift(e.get(0)),b(i,function(n,r){if(r===h("body").get(0))return!1;if(Cd.getComputedStyle(r).overflowY==="hidden")return this._$customBoundaryContainer=h(r),!1}.bind(this))}},_popupWrapperClass:function(){return dx},_renderInputValue:function(){var t=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(t,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,t))},_loadInputValue:function(t,e){return this._loadItem(t).always(e)},_getItemFromPlain:function(t,e){var i,n;return e&&typeof t!="object"&&(e.itemByValue||(e.itemByValue={},i=this._getPlainItems(),i.forEach(function(r){e.itemByValue[this._valueGetter(r)]=r},this)),n=e.itemByValue[t]),n||(i=this._getPlainItems(),n=be(i,function(r){return this._isValueEquals(this._valueGetter(r),t)}.bind(this))[0]),n},_loadItem:function(t,e){var i=this._getItemFromPlain(t,e);return i!==void 0?new y().resolve(i).promise():this._loadValue(t)},_getPlainItems:function(t){var e=[];t=t||this.option("items")||this._dataSource.items()||[];for(var i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);return e},_updateActiveDescendant(){var t,e=this.option("opened"),i=(t=this._list)===null||t===void 0?void 0:t.getFocusedItemId(),n=h("#".concat(i)).length>0,r=e&&n&&i;this.setAria({activedescendant:r||null})},_setSelectedItem:function(t){var e=this._displayValue(t);this.option("selectedItem",Bt(t,null)),this.option("displayValue",e)},_displayValue:function(t){return this._displayGetter(t)},_refreshSelected:function(){var t={};this._listItemElements().each(function(e,i){var n=h(i),r=this._valueGetter(n.data(cx)),a=this._isSelectedValue(r,t);a?this._list.selectItem(n):this._list.unselectItem(n)}.bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){!this.option("focusStateEnabled")||!this._list||this._list.option("focusedElement",null)},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_validateSearchMode:function(){var t=this.option("searchMode"),e=t.toLowerCase();if(L(e,px)<0)throw pt.Error("E1019",t)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._setListDataSource(),this._renderInputValue().fail(function(){this._isCustomValueAllowed()||this._clearSelectedItem()}.bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(hx):h()},_popupConfig:function(){return v(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners(){var t=this._canListHaveFocus();return this.callBase().concat([!t&&this._list])},_setAriaTargetForList:function(){this._list._getAriaTarget=this._getAriaTarget.bind(this)},_renderList:function(){this._listId="dx-"+new Ae()._value;var t=this._$list=h("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._list=this._createComponent(t,vu,this._listConfig()),this._refreshList(),this._setAriaTargetForList(),this._list.option("_listAttributes",{role:"combobox"}),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick:function(){var t=T("mousedown","dxDropDownList");p.off(this._$list,t),p.on(this._$list,t,e=>e.preventDefault())},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria({controls:this._list&&this._listId,owns:this._popup&&this._popupContentId})},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){var t=!!this._list.option("dataSource");return t!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return B.real().deviceType==="desktop"},_listConfig:function(){var t={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_revertPageOnEmptyLoad:!0,hoverStateEnabled:this._isDesktopDevice()?this.option("hoverStateEnabled"):!1,focusStateEnabled:this._isDesktopDevice()?this.option("focusStateEnabled"):!1};return this._canListHaveFocus()||(t.tabIndex=null),t},_canListHaveFocus:()=>!1,_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._dimensionChanged(),this._contentReadyAction()},_setListOption:function(t,e){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(t){this._listItemClickHandler(t),this._itemClickAction(t)},_listItemClickHandler:C,_setListDataSource:function(){!this._list||(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return this._canKeepDataSource()?!1:this._needPassDataSourceToList()},_canKeepDataSource:function(){var t,e=this._isMinSearchLengthExceeded();return((t=this._dataSource)===null||t===void 0?void 0:t.isLoaded())&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!e&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return T(fx,this.NAME+"Search")},_getCompositionStartEvent:function(){return T("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return T("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return T("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),p.on(this._input(),this._getSetFocusPolicyEvent(),()=>{this._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(p.on(this._input(),this._getSearchEvent(),t=>{this._searchHandler(t)}),Ed&&(p.on(this._input(),this._getCompositionStartEvent(),()=>{this._isTextCompositionInProgress(!0)}),p.on(this._input(),this._getCompositionEndEvent(),t=>{this._isTextCompositionInProgress(void 0),this._searchHandler(t,this._searchValue())})))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){p.off(this._input(),this._getSearchEvent()),p.off(this._input(),this._getSetFocusPolicyEvent()),Ed&&(p.off(this._input(),this._getCompositionStartEvent()),p.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress:function(t){if(arguments.length)this._isTextComposition=t;else return this._isTextComposition},_searchHandler:function(t,e){if(!this._isTextCompositionInProgress()){if(!this._isMinSearchLengthExceeded()){this._searchCanceled();return}var i=this.option("searchTimeout");i?(this._clearSearchTimer(),this._searchTimer=setTimeout(()=>{this._searchDataSource(e)},i)):this._searchDataSource(e)}},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._searchValue();this._filterDataSource(t)},_filterDataSource:function(t){this._clearSearchTimer();var e=this._dataSource;e&&(e.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),e.searchOperation(this.option("searchMode")),e.searchValue(t),e.load().done(this._dataSourceFiltered.bind(this,t)))},_clearFilter:function(){var t=this._dataSource;t&&t.searchValue()&&t.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!(this.option("readOnly")||!this._searchValue())){var t=this._shouldOpenPopup();t&&!this._isFocused()||(this.option("opened",t),t&&this._dimensionChanged())}},_dataSourceChangedHandler:function(t){this._dataSource.pageIndex()===0?this.option().items=t:this.option().items=this.option().items.concat(t)},_hasItemsToShow:function(){var t=this._dataSource&&this._dataSource.items()||[],e=t.length,i=this._needPassDataSourceToList();return!!(i&&e)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._dimensionChanged()},_dimensionChanged:function(){this.callBase(arguments),this._popup&&this._updatePopupDimensions()},_needPopupRepaint:function(){if(!this._dataSource)return!1;var t=this._dataSource.pageIndex(),e=I(this._pageIndex)&&t<=this._pageIndex;return this._pageIndex=t,e},_updatePopupDimensions:function(){this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions()},_getMaxHeight:function(){var t=this.$element(),e=this._$customBoundaryContainer,i=t.offset().top-(e?e.offset().top:0),n=st(Cd),r=e?Math.min(st(e),n):n,a=Math.max(i,r-i-st(t));return Math.min(.5*r,a)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var t=this.option("value"),e=this._shouldUseDisplayValue(t)?this._displayGetter(t):t;this._getSubmitElement().val(e)},_shouldUseDisplayValue:function(t){return this.option("valueExpr")==="this"&&ht(t)},_optionChanged:function(t){switch(this._dataExpressionOptionChanged(t),t.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(t.name,t.value),this.callBase(t);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"useItemTextAsTitle":this._setListOption(t.name);break;case"displayValue":this.option("text",t.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":t.previousValue!==t.value&&this._selectionChangedAction({selectedItem:t.value});break;default:this.callBase(t)}}}).include(gd,$_);et("dxDropDownList",tv);var _x="dx-radiobutton",Sd="dx-radiobutton-icon",vx="dx-radiobutton-icon-dot",mx="dx-radiobutton-checked",gx="dx-radiobutton-icon-checked",ev=Yi.inherit({_supportedKeys:function(){return v(this.callBase(),{space:function(t){t.preventDefault(),this._clickAction({event:t})}})},_getDefaultOptions:function(){return v(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1})},_canValueBeChangedByClick:function(){return!0},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return B.real().deviceType==="desktop"&&!B.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.$element().addClass(_x)},_initMarkup:function(){this.callBase(),this._renderIcon(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderIcon:function(){this._$icon=h("<div>").addClass(Sd),h("<div>").addClass(vx).appendTo(this._$icon),this.$element().append(this._$icon)},_renderCheckedState:function(t){this.$element().toggleClass(mx,t).find("."+Sd).toggleClass(gx,t),this.setAria("checked",t)},_renderClick:function(){var t=T(Ut,this.NAME);this._clickAction=this._createAction(function(e){this._clickHandler(e.event)}.bind(this)),p.off(this.$element(),t),p.on(this.$element(),t,function(e){this._clickAction({event:e})}.bind(this))},_clickHandler:function(t){this._saveValueChangeEvent(t),this.option("value",!0)},_optionChanged:function(t){switch(t.name){case"value":this._renderCheckedState(t.value),this.callBase(t);break;default:this.callBase(t)}}});et("dxRadioButton",ev);var gu="dxListEditDecorator",Cx=T(cu,gu),bx=T(du,gu),Ex=T(Xa,gu),Sx=W.inherit({ctor:function(t){this._list=t,this._init()},_init:C,_shouldHandleSwipe:!1,_attachSwipeEvent:function(t){var e={itemSizeFunc:function(){return this._clearSwipeCache&&(this._itemWidthCache=F(this._list.$element()),this._clearSwipeCache=!1),this._itemWidthCache}.bind(this)};p.on(t.$itemElement,Cx,e,this._itemSwipeStartHandler.bind(this)),p.on(t.$itemElement,bx,this._itemSwipeUpdateHandler.bind(this)),p.on(t.$itemElement,Ex,this._itemSwipeEndHandler.bind(this))},_itemSwipeStartHandler:function(t){var e=h(t.currentTarget);if(e.is(".dx-state-disabled, .dx-state-disabled *")){t.cancel=!0;return}clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(e,t)},_itemSwipeUpdateHandler:function(t){var e=h(t.currentTarget);this._swipeUpdateHandler(e,t)},_itemSwipeEndHandler:function(t){var e=h(t.currentTarget);this._swipeEndHandler(e,t),this._clearSwipeCache=!0},beforeBag:C,afterBag:C,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(t){this._shouldHandleSwipe&&(this._attachSwipeEvent(t),this._clearSwipeCache=!0)},afterRender:C,handleClick:C,handleKeyboardEvents:C,handleEnterPressing:C,handleContextMenu:C,_swipeStartHandler:C,_swipeUpdateHandler:C,_swipeEndHandler:C,visibilityChange:C,getExcludedSelectors:C,dispose:C}),yd="dx-list-select-decorator-enabled",yx="dx-list-select-all",Ix="dx-list-select-all-checkbox",Tx="dx-list-select-all-label",Ox="dx-list-select-checkbox-container",Ax="dx-list-select-checkbox",wx="dx-list-select-radiobutton-container",xx="dx-list-select-radiobutton",Dx="dx-state-focused",Id=T(Ut,"dxListEditDecorator");qA("selection","default",Sx.inherit({_init:function(){this.callBase.apply(this,arguments);var t=this._list.option("selectionMode");this._singleStrategy=t==="single",this._containerClass=this._singleStrategy?wx:Ox,this._controlClass=this._singleStrategy?xx:Ax,this._controlWidget=this._singleStrategy?ev:la,this._list.$element().addClass(yd)},beforeBag:function(t){var e=t.$itemElement,i=t.$container.addClass(this._containerClass),n=h("<div>").addClass(this._controlClass).appendTo(i);new this._controlWidget(n,v(this._commonOptions(),{value:this._isSelected(e),focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:function(r){r.event&&this._list._saveSelectionChangeEvent(r.event),this._processCheckedState(e,r.value),r.event&&r.event.stopPropagation()}.bind(this)}))},modifyElement:function(t){this.callBase.apply(this,arguments);var e=t.$itemElement,i=this._controlWidget.getInstance(e.find("."+this._controlClass));p.on(e,"stateChanged",function(n,r){i.option("value",r)}.bind(this))},_updateSelectAllState:function(){!this._$selectAll||this._selectAllCheckBox.option("value",this._list.isSelectAll())},afterRender:function(){this._list.option("selectionMode")==="all"&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())},handleKeyboardEvents:function(t,e){var i=!e,n=this._list,r=this._$selectAll,a=n._getLastItemIndex(),s=e&&t===0||i&&t===a,o=!!r;return o&&s?(n.option("focusedElement",r),n.scrollToItem(n.option("focusedElement")),!0):!1},handleEnterPressing:function(t){if(this._$selectAll&&this._$selectAll.hasClass(Dx))return t.target=this._$selectAll.get(0),this._list._saveSelectionChangeEvent(t),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value")),!0},_renderSelectAll:function(){var t=this._$selectAll=h("<div>").addClass(yx),e=this._list,i=e._supportedKeys().downArrow.bind(e);this._selectAllCheckBox=e._createComponent(h("<div>").addClass(Ix).appendTo(t),la,{focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",i),h("<div>").addClass(Tx).text(this._list.option("selectAllText")).appendTo(t),this._list.itemsContainer().prepend(t),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",this._selectAllHandler.bind(this)),p.off(this._$selectAll,Id),p.on(this._$selectAll,Id,this._selectAllClickHandler.bind(this))},_selectAllHandler:function(t){t.event&&t.event.stopPropagation();var e=this._selectAllCheckBox.option("value"),i=this._list._createActionByOption("onSelectAllValueChanged")({value:e});i!==!1&&(t.event&&this._list._saveSelectionChangeEvent(t.event),e===!0?this._selectAllItems():e===!1&&this._unselectAllItems())},_checkSelectAllCapability:function(){var t=this._list,e=t.getDataSource();return t.option("selectAllMode")==="allPages"&&t.option("grouped")&&(!e||!e.group())?(pt.log("W1010"),!1):!0},_selectAllItems:function(){!this._checkSelectAllCapability()||this._list._selection.selectAll(this._list.option("selectAllMode")==="page")},_unselectAllItems:function(){!this._checkSelectAllCapability()||this._list._selection.deselectAll(this._list.option("selectAllMode")==="page")},_selectAllClickHandler:function(t){this._list._saveSelectionChangeEvent(t),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(t){return this._list.isItemSelected(t)},_processCheckedState:function(t,e){e?this._list.selectItem(t):this._list.unselectItem(t)},dispose:function(){this._disposeSelectAll(),this._list.$element().removeClass(yd),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}));var Rx=".dx-state-disabled",Bx="dx-selectbox",$x="dx-selectbox-popup",Lx="dx-selectbox-container",Td="dx-selectbox-popup-wrapper",iv=tv.inherit({_supportedKeys:function(){var t=this,e=this.callBase(),i=function(r){var a=this._isEditable();a?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(r.preventDefault(),this.reset()),this._savedTextRemoveEvent=r,this._preventSubstitution=!0},n=function(){t.option("searchEnabled")&&t._valueSubstituted()&&t._searchHandler()};return v({},e,{tab:function(){this.option("opened")&&this.option("applyValueMode")==="instantly"&&this._resetCaretPosition(!0),e.tab&&e.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(r){if(e.upArrow&&e.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(r),!0},downArrow:function(r){if(e.downArrow&&e.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(r),!0},leftArrow:function(){n(),e.leftArrow&&e.leftArrow.apply(this,arguments)},rightArrow:function(){n(),e.rightArrow&&e.rightArrow.apply(this,arguments)},home:function(){n(),e.home&&e.home.apply(this,arguments)},end:function(){n(),e.end&&e.end.apply(this,arguments)},escape:function(){var r=e.escape&&e.escape.apply(this,arguments);return this._cancelEditing(),r??!0},enter:function(r){var a=this.option("opened"),s=this._input().val().trim(),o=s&&this._list&&!this._list.option("focusedElement");if(!s&&I(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(r),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return r.preventDefault(),o&&(a&&this._toggleOpenState(),this._valueChangeEventHandler(r)),a;if(e.enter&&e.enter.apply(this,arguments))return a}},space:function(r){var a=this.option("opened"),s=this.option("searchEnabled"),o=this.option("acceptCustomValue");if(!(!a||s||o))return r.preventDefault(),this._valueChangeEventHandler(r),!0},backspace:i,del:i})},_getDefaultOptions:function(){return v(this.callBase(),{placeholder:rt.format("Select"),fieldTemplate:null,valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(t){I(t.customItem)||(t.customItem=t.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass(Bx),this._renderTooltip(),this.callBase(),this._$container.addClass(Lx)},_createPopup:function(){this.callBase(),this._popup.$element().addClass($x),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" "+Td},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){var t=this._searchValue();if(!t){this._focusListElement(null);return}var e=this._list._itemElements(),i=L(this.option("selectedItem"),this.option("items")),n=i>=0&&!this._isCustomItemSelected()?e.eq(i):null;this._focusListElement(n)},_renderFocusedElement:function(){if(!!this._list){var t=this._searchValue();if(!t||this.option("acceptCustomValue")){this._focusListElement(null);return}var e=this._list._itemElements(),i=e.not(Rx).eq(0);this._focusListElement(i)}},_focusListElement:function(t){this._preventInputValueRender=!0,this._list.option("focusedElement",H(t)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase();var t=this._dataSource&&this._dataSource.paginate();t&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),new y().resolve()},_renderInputValue:function(){return this.callBase().always(function(){this._renderInputValueAsync()}.bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always(function(){this._refreshSelected()}.bind(this))},_renderInputValueImpl:function(){return this._renderField(),new y().resolve()},_setNextItem:function(t){var e=this._calcNextItem(t),i=this._valueGetter(e);this._setValue(i)},_setNextValue:function(t){var e=this._dataSource.isLoaded()?new y().resolve():this._dataSource.load();e.done(function(){var i=this._getSelectedIndex(),n=this._dataSource.pageSize(),r=this._dataSource.isLastPage(),a=i===this._items().length-1;this._saveValueChangeEvent(t);var s=le(t)==="downArrow"?1:-1;n&&!r&&a&&s>0?(this._popup||this._createPopup(),this._dataSource.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,s))):this._setNextItem(s)}.bind(this))},_setSelectedItem:function(t){var e=!this._isCustomValueAllowed()&&t===void 0;this.callBase(e?null:t),!e&&(!this._isEditable()||this._isCustomItemSelected())&&this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(t){return t=!I(t)&&this._isCustomValueAllowed()?this.option("value"):t,this.callBase(t)},_listConfig:function(){var t=v(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&v(t,{showSelectionControls:!0,selectionByClick:!0}),t},_listFocusedItemChangeHandler:function(t){if(!this._preventInputValueRender){var e=t.component,i=h(e.option("focusedElement")),n=e._getItemData(i);this._updateField(n)}},_updateField:function(t){var e=this._getTemplateByOption("fieldTemplate");if(!(e&&this.option("fieldTemplate"))){var i=this._displayGetter(t);this.option("text",i),this._renderDisplayText(i);return}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):C},_selectionChangeHandler:function(t){b(t.addedItems||[],function(e,i){this._setValue(this._valueGetter(i))}.bind(this))},_getActualSearchValue:function(){return this._dataSource.searchValue()},_toggleOpenState:function(t){if(!this.option("disabled")){if(t=arguments.length?t:!this.option("opened"),!t&&!this._shouldClearFilter()&&this._restoreInputText(!0),this._wasSearch()&&t){this._wasSearch(!1);var e=this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded();if(e&&this._dataSource){if(this._searchTimer)return;var i=this._getActualSearchValue();i&&this._wasSearch(!0),this._filterDataSource(i||null)}else this._setListOption("items",[])}t&&this._scrollToSelectedItem(),this.callBase(t)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._dimensionChanged()},_isValueEqualInputText:function(){var t=this.option("selectedItem");if(t===null)return!1;var e=this._displayGetter(t),i=e?String(e):"",n=this._searchValue();return i===n},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(t){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always(function(){var e=this.option("selectedItem");if(this.option("acceptCustomValue")){t||(this._updateField(e),this._clearFilter());return}if(this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")){this._clearTextValue();return}this._isValueEqualInputText()||this._renderInputValue().always(function(i){var n=Bt(i,e);this._setSelectedItem(n),this._updateField(n),this._clearFilter()}.bind(this))}.bind(this))},_focusOutHandler:function(t){if(!this._preventNestedFocusEvent(t)){var e=this._isOverlayNestedTarget(t.relatedTarget);e||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(t)}t.target=this._input().get(0),this.callBase(t)},_cancelSearchIfNeed:function(t){var{searchEnabled:e}=this.option(),i=this._isOverlayNestedTarget(t?.relatedTarget),n=this._wasSearch()&&e&&!i;if(n){var r,a=(r=this._popup)===null||r===void 0?void 0:r._hideAnimationProcessing;this._clearSearchTimer(),a?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch:function(t){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=t},_isOverlayNestedTarget:function(t){return!!h(t).closest(".".concat(Td)).length},_clearTextValue:function(){this.option("selectedItem")&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var t=R.getActiveElement();return this.callBase()&&h(t).closest(this._input()).length>0},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var t=this._list&&this.option("opened")&&h(this._list.option("focusedElement"));return t&&t.length?this._list._getItemData(t):this.option("selectedItem")},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&this.option("selectionMode")!=="single")},_listItemClickHandler:function(t){var e=this._getCurrentValue();this._focusListElement(h(t.itemElement)),this._saveValueChangeEvent(t.event),this._completeSelection(this._valueGetter(t.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&e===this._valueGetter(t.itemData)&&this._updateField(t.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(t){this._setValue(t)},_loadItem:function(t,e){var i=this,n=new y;return this.callBase(t,e).done(function(r){n.resolve(r)}.bind(this)).fail(function(r){if(!(r!=null&&r.shouldSkipCallback)){var a=i.option("selectedItem");i.option("acceptCustomValue")&&t===i._valueGetter(a)?n.resolve(a):n.reject()}}.bind(this)),n.promise()},_loadInputValue:function(t,e){return this._loadItemDeferred=this._loadItem(t).always(e),this._loadItemDeferred},_isCustomItemSelected:function(){var t=this.option("selectedItem"),e=this._searchValue(),i=this._displayGetter(t);return!i||e!==i.toString()},_valueChangeEventHandler:function(t){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(t),this._isValueChanging=!1)},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(t){var e={text:t},i=this._customItemCreatingAction(e),n=Bt(i,e.customItem);return I(i)&&N.log("W0015","onCustomItemCreating","customItem"),n},_customItemAddedHandler:function(t){var e=this._searchValue(),i=this._createCustomItem(e);if(this._saveValueChangeEvent(t),i===void 0)throw this._renderValue(),N.Error("E0121");rl(i)?Ee(i).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(i)},_setCustomItem:function(t){this._disposed||(t=t||null,this.option("selectedItem",t),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(t)),this._renderDisplayText(this._displayGetter(t)))},_clearValueHandler:function(t){return this._preventFiltering=!0,this.callBase(t),this._searchCanceled(),!1},_wasSearch:function(t){if(!arguments.length)return this._wasSearchValue;this._wasSearchValue=t},_searchHandler:function(){if(this._preventFiltering){delete this._preventFiltering;return}this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments)},_dataSourceFiltered:function(t){this.callBase(),t!==null&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var t=this._input().get(0),e=this._searchValue().length,i=t.selectionStart===0&&t.selectionEnd===e,n=t.selectionStart!==t.selectionEnd,r=e===t.selectionEnd;return this._wasSearch()&&n&&!i&&r&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&this.option("searchMode")==="startswith"},_renderInputSubstitution:function(){if(!this._shouldSubstitutionBeRendered()){delete this._preventSubstitution;return}var t=this._list&&this._getPlainItems(this._list.option("items"))[0];if(!!t){var e=this._input(),i=e.val().length;if(i!==0){var n=e.get(0),r=this._displayGetter(t).toString();n.value=r,this._caret({start:i,end:r.length})}}},_dispose:function(){this._renderInputValueAsync=C,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(t){switch(t.name){case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(t)}}});et("dxSelectBox",iv);var kB=Object.freeze(Object.defineProperty({__proto__:null,default:iv},Symbol.toStringTag,{value:"Module"})),kx=W.inherit({ctor(t,e){this.editor=t,this.validator=e,this.validationRequestsCallbacks=[];var i=n=>{this.validationRequestsCallbacks.forEach(r=>r(n))};t.validationRequest.add(i),t.on("disposing",function(){t.validationRequest.remove(i)})},getValue(){return this.editor.option("value")},getCurrentValidationError(){return this.editor.option("validationError")},bypass(){return this.editor.option("disabled")},applyValidationResults(t){this.editor.option({validationErrors:t.brokenRules,validationStatus:t.status})},reset(){this.editor.reset()},focus(){this.editor.focus()}}),Px="dx-validator",Od="valid",Mx="invalid",to="pending",nv=xi.inherit({_initOptions:function(t){this.callBase.apply(this,arguments),this.option(ct.initValidationOptions(t))},_getDefaultOptions(){return v(this.callBase(),{validationRules:[]})},_init(){this.callBase(),this._initGroupRegistration(),this.focused=X(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration(){var t=this._findGroup();this._groupWasInit||this.on("disposing",function(e){ct.removeRegisteredValidator(e.component._validationGroup,e.component)}),(!this._groupWasInit||this._validationGroup!==t)&&(ct.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=t,ct.registerValidatorInGroup(t,this))},_setOptionsByReference(){this.callBase(),v(this._optionsByReference,{validationGroup:!0})},_getEditor(){var t=this.$element()[0];return tt(t,"dx-validation-target")},_initAdapter(){var t=this._getEditor(),e=this.option("adapter");if(!e){if(t){e=new kx(t,this),e.validationRequestsCallbacks.push(n=>{this._validationInfo.skipValidation||this.validate(n)}),this.option("adapter",e);return}throw pt.Error("E0120")}var i=e.validationRequestsCallbacks;i&&i.push(n=>{this.validate(n)})},_toggleRTLDirection(t){var e,i,n,r=(e=(i=this.option("adapter"))===null||i===void 0||(n=i.editor)===null||n===void 0?void 0:n.option("rtlEnabled"))!==null&&e!==void 0?e:t;this.callBase(r)},_initMarkup(){this.$element().addClass(Px),this.callBase()},_render(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes(){var t=this._getEditor();if(t){var e=this.option("validationRules")||[],i=e.some(n=>{var{type:r}=n;return r==="required"})||null;t.isInitialized()&&t.setAria("required",i),t.option("_onMarkupRendered",()=>{t.setAria("required",i)})}},_visibilityChanged(t){t&&this._initGroupRegistration()},_optionChanged(t){switch(t.name){case"validationGroup":this._initGroupRegistration();return;case"validationRules":this._resetValidationRules(),this._toggleAccessibilityAttributes(),this.option("isValid")!==void 0&&this.validate();return;case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(ct.synchronizeValidationOptions(t,this.option()));break;default:this.callBase(t)}},_getValidationRules(){return this._validationRules||(this._validationRules=De(this.option("validationRules"),(t,e)=>v({},t,{validator:this,index:e}))),this._validationRules},_findGroup(){var t=this.$element();return this.option("validationGroup")||ct.findGroup(t,this._modelByElement(t))},_resetValidationRules(){delete this._validationRules},validate(t){var e=this.option("adapter"),i=this.option("name"),n=e.bypass&&e.bypass(),r=t&&t.value!==void 0?t.value:e.getValue(),a=e.getCurrentValidationError&&e.getCurrentValidationError(),s=this._getValidationRules(),o=this._validationInfo&&this._validationInfo.result;if(o&&o.status===to&&o.value===r)return v({},o);var l;return n?l={isValid:!0,status:Od}:a&&a.editorSpecific?(a.validator=this,l={isValid:!1,status:Mx,brokenRule:a,brokenRules:[a]}):l=ct.validate(r,s,i),l.id=new Ae().toString(),this._applyValidationResult(l,e),l.complete&&l.complete.then(u=>{u.id===this._validationInfo.result.id&&this._applyValidationResult(u,e)}),v({},this._validationInfo.result)},reset(){var t=this.option("adapter"),e={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:Od,complete:null};this._validationInfo.skipValidation=!0,t.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(e,t)},_updateValidationResult(t){if(!this._validationInfo.result||this._validationInfo.result.id!==t.id){var e=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=v({},t,{complete:e})}else for(var i in t)i!=="id"&&i!=="complete"&&(this._validationInfo.result[i]=t[i])},_applyValidationResult(t,e){var i=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(t.validator=this,this._updateValidationResult(t),e.applyValidationResults&&e.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status===to){this._validationInfo.deferred||(this._validationInfo.deferred=new y,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);return}this._validationInfo.result.status!==to&&(i(t),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(t),this._validationInfo.deferred=null))},focus(){var t=this.option("adapter");t&&t.focus&&t.focus()},_useTemplates:function(){return!1}});et("dxValidator",nv);var PB=Object.freeze(Object.defineProperty({__proto__:null,default:nv},Symbol.toStringTag,{value:"Module"})),hi={},Ne={},Ci={},Vx=p.on,Hx=p.one,Fx=p.off,Nx=p.trigger,Wx=p.triggerHandler,zx=p.Event,Kx=Object.freeze(Object.defineProperty({__proto__:null,on:Vx,one:Hx,off:Fx,trigger:Nx,triggerHandler:Wx,Event:zx},Symbol.toStringTag,{value:"Module"})),Za=al(Kx),Ja={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var ua=O&&O.__assign||function(){return ua=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ua.apply(this,arguments)};Object.defineProperty(Ja,"__esModule",{value:!0});var Ux=Ja.pullAllChildren=void 0;function jx(t,e,i){!t||t.length===0||rv(t,e,i)}Ux=Ja.pullAllChildren=jx;function rv(t,e,i){t.forEach(function(n){if(e.push(n),!!n.componentOptions){var r=n.componentOptions.Ctor;if(!!r.$_optionName){var a=ua(ua({},r.$_predefinedProps),n.componentOptions.propsData),s=i.createNested(r.$_optionName,a,r.$_isCollectionItem,r.$_expectedChildren);n.componentOptions.$_config=s,n.componentOptions.$_innerChanges={},n.componentOptions.children&&rv(n.componentOptions.children,e,s)}}})}var Ke={},Y={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(Y,"__esModule",{value:!0});var Gx=Y.getOptionInfo=l0=Y.getOptionValue=s0=Y.allKeysAreEqual=r0=Y.forEachChildNode=i0=Y.isEqual=t0=Y.toComparable=Jx=Y.camelize=Qx=Y.lowercaseFirst=Yx=Y.uppercaseFirst=Xx=Y.getTemplatePropName=void 0;function qx(t,e){for(var i in t)if(t[i]===e)return i;return e}var Xx=Y.getTemplatePropName=qx;function av(t){return t[0].toUpperCase()+t.substr(1)}var Yx=Y.uppercaseFirst=av;function sv(t){return t[0].toLowerCase()+t.substr(1)}var Qx=Y.lowercaseFirst=sv;function Zx(t){return sv(t.split("-").map(function(e){return av(e)}).join(""))}var Jx=Y.camelize=Zx;function Ko(t){return t instanceof Date?t.getTime():t}var t0=Y.toComparable=Ko;function e0(t,e){return Ko(t)===Ko(e)?!0:Array.isArray(t)&&Array.isArray(e)?t.length===0&&e.length===0:!1}var i0=Y.isEqual=e0;function n0(t,e){Array.prototype.slice.call(t.childNodes).forEach(e)}var r0=Y.forEachChildNode=n0;function a0(t,e){var i=Object.keys(t);if(i.length!==Object.keys(e).length)return!1;for(var n=0,r=i;n<r.length;n++){var a=r[n];if(!e.hasOwnProperty(a))return!1}return!0}var s0=Y.allKeysAreEqual=a0;function o0(t,e){var i=t;return e.split(".").forEach(function(n){var r=ov(n);i&&(i=r.isCollection?i[r.name]&&i[r.name][r.index]:i[r.name])}),i}var l0=Y.getOptionValue=o0;function ov(t){var e=t.split("[");return e.length===1?{isCollection:!1,name:t,fullName:t}:{isCollection:!0,name:e[0],fullName:t,index:Number(e[1].slice(0,-1))}}Gx=Y.getOptionInfo=ov;/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var ha=O&&O.__assign||function(){return ha=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ha.apply(this,arguments)};Object.defineProperty(Ke,"__esModule",{value:!0});var u0=Ke.setEmitOptionChangedFunc=d0=Ke.bindOptionWatchers=void 0,Uo=Y,h0=function(){function t(e,i,n,r,a,s,o){this._updateFunc=e,this._name=i,this._initialValues=n||{},this._nestedConfigurations=[],this._isCollectionItem=!!a,this._collectionItemIndex=s,this._expectedChildren=r||{},this._ownerConfig=o,this._componentChanges=[],this.updateValue=this.updateValue.bind(this)}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullName",{get:function(){return this._name&&this._isCollectionItem?this._name+"["+this._collectionItemIndex+"]":this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentsCountChanged",{get:function(){return this._componentChanges},enumerable:!1,configurable:!0}),t.prototype.cleanComponentsCountChanged=function(){this._componentChanges=[]},Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._ownerConfig&&this._ownerConfig.fullPath?this._ownerConfig.fullPath+"."+this.fullName:this.fullName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownerConfig",{get:function(){return this._ownerConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initialValues",{get:function(){return this._initialValues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expectedChildren",{get:function(){return this._expectedChildren},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nested",{get:function(){return this._nestedConfigurations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prevNestedOptions",{get:function(){return this._prevNestedConfigOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collectionItemIndex",{get:function(){return this._collectionItemIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCollectionItem",{get:function(){return this._isCollectionItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFunc",{get:function(){return this._updateFunc},enumerable:!1,configurable:!0}),t.prototype.init=function(e){this._options=e||[]},Object.defineProperty(t.prototype,"emitOptionChanged",{set:function(e){this._emitOptionChanged=e},enumerable:!1,configurable:!0}),t.prototype.setPrevNestedOptions=function(e){this._prevNestedConfigOptions=e},t.prototype.onOptionChanged=function(e){Uo.isEqual(e.value,e.previousValue)||this._onOptionChanged(e.fullName.split("."),e)},t.prototype.cleanNested=function(){this._nestedConfigurations=[]},t.prototype.createNested=function(e,i,n,r){var a=this._expectedChildren[e],s=e,o=n;a&&(o=a.isCollectionItem,a.optionName&&(s=a.optionName));var l=-1;o&&s&&(l=this._nestedConfigurations.filter(function(c){return c._name&&c._name===s}).length);var u=new t(this._updateFunc,s,i,r,o,l,this);return this._nestedConfigurations.push(u),u},t.prototype.updateValue=function(e,i){var n=[this.fullPath,e].filter(function(r){return r}).join(".");this._updateFunc(n,i)},t.prototype.getNestedOptionValues=function(){var e={};return this._nestedConfigurations.forEach(function(i){if(!!i._name){var n=ha(ha({},i.initialValues),i.getNestedOptionValues());if(!!n)if(!i._isCollectionItem)e[i._name]=n;else{var r=e[i._name];(!r||!Array.isArray(r))&&(r=[],e[i._name]=r),r.push(n)}}}),e},t.prototype.getOptionsToWatch=function(){var e={};return this._nestedConfigurations.forEach(function(i){return i._name&&(e[i._name]=!0)}),this._options.filter(function(i){return!e[i]})},t.prototype._onOptionChanged=function(e,i){if(e.length!==0){var n=Uo.getOptionInfo(e[0]);if(n.isCollection||e.length>1){var r=this._getNestedConfig(n.fullName);if(r){r._onOptionChanged(e.slice(1),i);return}this._tryEmitOptionChanged(n.name,i.component.option(this.fullPath?this.fullPath+"."+n.name:n.name))}else this._tryEmitOptionChanged(n.name,i.value)}},t.prototype._getNestedConfig=function(e){for(var i=0,n=this._nestedConfigurations;i<n.length;i++){var r=n[i];if(r.fullName===e)return r}},t.prototype._tryEmitOptionChanged=function(e,i){this._emitOptionChanged&&this._emitOptionChanged(e,i)},t}();function c0(t,e,i){var n=t&&t.getOptionsToWatch();n&&n.forEach(function(r){e.$watch(r,function(a){(!i.hasOwnProperty(r)||i[r]!==a)&&t.updateValue(r,a),delete i[r]})})}var d0=Ke.bindOptionWatchers=c0;function f0(t,e,i){t.emitOptionChanged=function(n,r){Uo.isEqual(r,e.$props[n])||(i[n]=r,e.$emit("update:"+n,r))}}u0=Ke.setEmitOptionChangedFunc=f0;var MB=Ke.default=h0,Jt={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var p0=O&&O.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),_0=O&&O.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),v0=O&&O.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&p0(e,t,i);return _0(e,t),e};Object.defineProperty(Jt,"__esModule",{value:!0});var m0=Jt.getInnerChanges=C0=Jt.getConfig=b0=Jt.initOptionChangedFunc=S0=Jt.DxConfiguration=void 0,Ad=v0(ie),g0=Ad.default||Ad,lv=Ke;function Hr(t){if(!!t.$vnode){var e=t.$vnode.componentOptions;return e&&e.$_config}}var C0=Jt.getConfig=Hr;function uv(t){if(!!t.$vnode){var e=t.$vnode.componentOptions;return e&&e.$_innerChanges}}m0=Jt.getInnerChanges=uv;function hv(t,e,i){!t||(t.init(Object.keys(e.$props)),lv.setEmitOptionChangedFunc(t,e,i))}var b0=Jt.initOptionChangedFunc=hv;function wd(t,e){var i=t.name,n=t.isCollectionItem,r=t.ownerConfig,a=r&&r.fullPath,s=i&&a?a+"."+i:i||"";return{optionPath:s,isCollection:n,removed:e}}var E0=function(){return g0.extend({beforeMount:function(){var t=Hr(this),e=uv(this);hv(t,this,e),lv.bindOptionWatchers(t,this,e)},mounted:function(){this.$parent.$_instance&&this.$parent.$_config.componentsCountChanged.push(wd(Hr(this)))},beforeDestroy:function(){this.$parent.$_config.componentsCountChanged.push(wd(Hr(this),!0))},render:function(t){return t()}})},S0=Jt.DxConfiguration=E0,bi={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(bi,"__esModule",{value:!0});var y0=bi.DX_REMOVE_EVENT=T0=bi.DX_TEMPLATE_WRAPPER_CLASS=void 0,I0="dx-template-wrapper",T0=bi.DX_TEMPLATE_WRAPPER_CLASS=I0,O0="dxremove";y0=bi.DX_REMOVE_EVENT=O0;var ts={},Zn={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var ca=O&&O.__assign||function(){return ca=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ca.apply(this,arguments)};Object.defineProperty(Zn,"__esModule",{value:!0});var A0=Zn.getOption=void 0,jo={useLegacyTemplateEngine:!1};function w0(t){jo=ca(ca({},jo),t)}function x0(t){return jo[t]}A0=Zn.getOption=x0;var VB=Zn.default=w0,Zi={},es={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(es,"__esModule",{value:!0});var D0=es.TEMPLATE_MULTIPLE_ROOTS_ERROR=void 0;D0=es.TEMPLATE_MULTIPLE_ROOTS_ERROR="Template must have a single root node.";/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var R0=O&&O.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),B0=O&&O.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$0=O&&O.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&R0(e,t,i);return B0(e,t),e};Object.defineProperty(Zi,"__esModule",{value:!0});var L0=Zi.discover=N0=Zi.mountTemplate=void 0,xd=$0(ie),k0=es,cv="template",P0=xd.default||xd;function M0(t){if(!!t.$vnode){var e=t.$vnode.componentOptions;if(!(!e.$_config||!e.$_config.name))return e}}function V0(t){return cv in t.$props&&t.$vnode.data&&t.$vnode.data.scopedSlots}function H0(t){var e={};for(var i in t.$scopedSlots)if(!(i==="default"&&t.$slots.default)){var n=t.$scopedSlots[i];!n||(e[i]=n)}for(var r=0,a=t.$children;r<a.length;r++){var s=a[r],o=M0(s);if(!!o){var l=s.$scopedSlots.default;if(!(!l||!V0(s))){var u=o.$_config.fullPath+"."+cv;e[u]=l}}}return e}L0=Zi.discover=H0;function F0(t,e,i,n,r){return new P0({el:r,name:n,inject:["eventBus"],parent:e,created:function(){var a=this;this.eventBus.$on("updated",function(){a.$forceUpdate()})},render:function(a){var s=t()(i);if(!s)return a("div");if(s.length>1)throw new Error(k0.TEMPLATE_MULTIPLE_ROOTS_ERROR);return s[0]},destroyed:function(){this.eventBus.$off("updated")}})}var N0=Zi.mountTemplate=F0,dv=al(Gv);/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var da=O&&O.__assign||function(){return da=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},da.apply(this,arguments)},W0=O&&O.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ts,"__esModule",{value:!0});var z0=ts.TemplatesManager=void 0,K0=Zn,Dd=Zi,U0=W0(dv),Rd=Za,eo=bi,j0=Y,G0=function(){function t(e){this._slots={},this._templates={},this._isDirty=!1,this._component=e,this.discover()}return t.prototype.discover=function(){var e=Dd.discover(this._component);this._slots=da(da({},this._slots),e),j0.allKeysAreEqual(this._templates,e)||this._prepareTemplates()},Object.defineProperty(t.prototype,"templates",{get:function(){return this._templates},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!1,configurable:!0}),t.prototype.resetDirtyFlag=function(){this._isDirty=!1},t.prototype._prepareTemplates=function(){this._templates={};for(var e=0,i=Object.keys(this._slots);e<i.length;e++){var n=i[e];this._templates[n]=this.createDxTemplate(n)}this._isDirty=!0},t.prototype.createDxTemplate=function(e){var i=this;return{render:function(n){var r=K0.getOption("useLegacyTemplateEngine")?n.model:{data:n.model,index:n.index},a=n.container.get?n.container.get(0):n.container,s=document.createElement("div");a.appendChild(s);var o=Dd.mountTemplate(function(){return i._slots[e]},i._component,r,e,s),l=o.$el;if(U0.default.setClass(l,eo.DX_TEMPLATE_WRAPPER_CLASS,!0),l.nodeType===Node.TEXT_NODE){var u=document.createElement(a.nodeName==="TABLE"?"tbody":"span");u.style.display="none",a.appendChild(u),Rd.one(u,eo.DX_REMOVE_EVENT,o.$destroy.bind(o))}else Rd.one(l,eo.DX_REMOVE_EVENT,o.$destroy.bind(o));return l}}},t}();z0=ts.TemplatesManager=G0;/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var ke=O&&O.__assign||function(){return ke=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ke.apply(this,arguments)},q0=O&&O.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),X0=O&&O.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fv=O&&O.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&q0(e,t,i);return X0(e,t),e};Object.defineProperty(Ci,"__esModule",{value:!0});var Y0=Ci.BaseComponent=rD=Ci.DxComponent=void 0,Bd=fv(ie),Q0=Za,Z0=Ja,io=fv(Ke),no=Jt,J0=bi,ni=Y,tD=ts,$d=Bd.default||Bd,pv=function(){return $d.extend({inheritAttrs:!1,data:function(){return{eventBus:new $d}},provide:function(){return{eventBus:this.eventBus}},render:function(t){var e=[];return this.$_config.cleanNested&&this.$_config.cleanNested(),Z0.pullAllChildren(this.$slots.default,e,this.$_config),this.$_processChildren(e),t("div",{attrs:{id:this.$attrs.id}},e)},beforeUpdate:function(){this.$_config.setPrevNestedOptions(this.$_config.getNestedOptionValues())},updated:function(){var t,e;if(this.$children.forEach(function(u){return no.initOptionChangedFunc(no.getConfig(u),u,no.getInnerChanges(u))}),this.$_templatesManager.discover(),this.$_instance.beginUpdate(),this.$_templatesManager.isDirty){this.$_instance.option("integrationOptions.templates",this.$_templatesManager.templates);for(var i=(e=(t=this.$vnode)===null||t===void 0?void 0:t.componentOptions)===null||e===void 0?void 0:e.propsData,n=0,r=Object.keys(this.$_templatesManager.templates);n<r.length;n++){var a=r[n];this.$_instance.option(ni.getTemplatePropName(i,a),a)}this.$_templatesManager.resetDirtyFlag()}for(var s=0,o=Object.keys(this.$_pendingOptions);s<o.length;s++){var l=o[s];this.$_instance.option(l,this.$_pendingOptions[l])}this.$_pendingOptions={},this.$_applyConfigurationChanges(),this.$_instance.endUpdate(),this.eventBus.$emit("updated")},beforeDestroy:function(){var t=this.$_instance;t&&(Q0.triggerHandler(this.$el,J0.DX_REMOVE_EVENT),t.dispose())},created:function(){var t=this;this.$_config=new io.default(function(e,i){return t.$_pendingOptions[e]=i},null,this.$options.propsData&&ke({},this.$options.propsData),this.$_expectedChildren),this.$_innerChanges={},this.$_config.init(this.$props&&Object.keys(this.$props))},methods:{$_applyConfigurationChanges:function(){var t=this;this.$_config.componentsCountChanged.forEach(function(e){var i=e.optionPath,n=e.isCollection,r=e.removed,a=t.$_config.getNestedOptionValues();!n&&r?t.$_instance.resetOption(i):t.$_instance.option(i,ni.getOptionValue(a,i))}),this.$_config.cleanComponentsCountChanged()},$_createWidget:function(t){var e=this;e.$_pendingOptions={},e.$_templatesManager=new tD.TemplatesManager(this);var i=this.$_config,n=ke(ke(ke(ke({},this.$options.propsData),i.initialValues),i.getNestedOptionValues()),this.$_getIntegrationOptions()),r=new this.$_WidgetClass(t,n);e.$_instance=r,r.on("optionChanged",function(a){return i.onOptionChanged(a)}),io.setEmitOptionChangedFunc(i,this,this.$_innerChanges),io.bindOptionWatchers(i,this,this.$_innerChanges),this.$_createEmitters(r)},$_getIntegrationOptions:function(){var t,e,i=ke({integrationOptions:{watchMethod:this.$_getWatchMethod()}},this.$_getExtraIntegrationOptions());if(this.$_templatesManager.isDirty){var n=this.$_templatesManager.templates;i.integrationOptions.templates=n;for(var r=(e=(t=this.$vnode)===null||t===void 0?void 0:t.componentOptions)===null||e===void 0?void 0:e.propsData,a=0,s=Object.keys(n);a<s.length;a++){var o=s[a];i[ni.getTemplatePropName(r,o)]=o}this.$_templatesManager.resetDirtyFlag()}return i},$_getWatchMethod:function(){var t=this;return function(e,i,n){return n=n||{},n.skipImmediate||i(e()),t.$watch(function(){return e()},function(r,a){(ni.toComparable(a)!==ni.toComparable(r)||n.deep)&&i(r)},{deep:n.deep})}},$_getExtraIntegrationOptions:function(){return{}},$_processChildren:function(t){},$_createEmitters:function(t){var e=this;Object.keys(this.$listeners).forEach(function(i){var n=ni.camelize(i);t.on(n,function(r){e.$emit(i,r)})})}}})};Y0=Ci.BaseComponent=pv;function eD(t){var e=[];return ni.forEachChildNode(t,function(i){var n=i.parentNode,r=i.hasAttribute&&i.hasAttribute("isExtension");(i.nodeName==="#comment"||r)&&n&&(e.push(i),n.removeChild(i))}),e}function iD(t,e){e.forEach(function(i){t.appendChild(i)})}var nD=function(){return pv().extend({methods:{$_getExtraIntegrationOptions:function(){return{onInitializing:function(){this.beginUpdate()}}},$_processChildren:function(t){t.forEach(function(e){!e.componentOptions||(e.componentOptions.$_hasOwner=!0)})}},mounted:function(){var t=this,e=eD(this.$el);this.$_createWidget(this.$el),this.$_instance.endUpdate(),iD(this.$el,e),this.$slots&&this.$slots.default&&this.$slots.default.forEach(function(i){var n=i.componentInstance;n&&n.$_isExtension&&n.attachTo(t.$el)})}})},rD=Ci.DxComponent=nD,is={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(is,"__esModule",{value:!0});var aD=is.DxExtensionComponent=void 0,sD=Ci,oD=function(){return sD.BaseComponent().extend({created:function(){this.$_isExtension=!0},mounted:function(){this.$el.setAttribute("isExtension","true"),!(this.$vnode&&this.$vnode.componentOptions.$_hasOwner)&&this.attachTo(this.$el)},methods:{attachTo:function(t){this.$_createWidget(t)}}})};aD=is.DxExtensionComponent=oD;/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var lD=O&&O.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),uD=O&&O.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hD=O&&O.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&lD(e,t,i);return uD(e,t),e};Object.defineProperty(Ne,"__esModule",{value:!0});var cD=Ne.createExtensionComponent=gD=Ne.createConfigurationComponent=vD=Ne.createComponent=void 0,Ld=hD(ie),Cu=Ld.default||Ld,dD=Ci,fD=Jt,pD=is;function _D(t){return t.extends=dD.DxComponent(),Cu.extend(t)}var vD=Ne.createComponent=_D;function mD(t){return t.extends=fD.DxConfiguration(),Cu.extend(t)}var gD=Ne.createConfigurationComponent=mD;function CD(t){return t.extends=pD.DxExtensionComponent(),Cu.extend(t)}cD=Ne.createExtensionComponent=CD;var We={},Ei={},bD=al(qv),Je={},q={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(q,"__esModule",{value:!0});var ED=q.getOptionInfo=PD=q.getOptionValue=LD=q.allKeysAreEqual=BD=q.forEachChildNode=DD=q.isEqual=wD=q.toComparable=AD=q.camelize=TD=q.lowercaseFirst=ID=q.uppercaseFirst=yD=q.getTemplatePropName=void 0;function SD(t,e){for(var i in t)if(t[i]===e)return i;return e}var yD=q.getTemplatePropName=SD;function _v(t){return t[0].toUpperCase()+t.substr(1)}var ID=q.uppercaseFirst=_v;function vv(t){return t[0].toLowerCase()+t.substr(1)}var TD=q.lowercaseFirst=vv;function OD(t){return vv(t.split("-").map(function(e){return _v(e)}).join(""))}var AD=q.camelize=OD;function Go(t){return t instanceof Date?t.getTime():t}var wD=q.toComparable=Go;function xD(t,e){return Go(t)===Go(e)?!0:Array.isArray(t)&&Array.isArray(e)?t.length===0&&e.length===0:!1}var DD=q.isEqual=xD;function RD(t,e){Array.prototype.slice.call(t.childNodes).forEach(e)}var BD=q.forEachChildNode=RD;function $D(t,e){var i=Object.keys(t);if(i.length!==Object.keys(e).length)return!1;for(var n=0,r=i;n<r.length;n++){var a=r[n];if(!e.hasOwnProperty(a))return!1}return!0}var LD=q.allKeysAreEqual=$D;function kD(t,e){var i=t;return e.split(".").forEach(function(n){var r=mv(n);i&&(i=r.isCollection?i[r.name]&&i[r.name][r.index]:i[r.name])}),i}var PD=q.getOptionValue=kD;function mv(t){var e=t.split("[");return e.length===1?{isCollection:!1,name:t,fullName:t}:{isCollection:!0,name:e[0],fullName:t,index:Number(e[1].slice(0,-1))}}ED=q.getOptionInfo=mv;var Si={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var fa=O&&O.__assign||function(){return fa=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},fa.apply(this,arguments)};Object.defineProperty(Si,"__esModule",{value:!0});var MD=Si.pullAllChildren=HD=Si.isFragment=void 0,ro=Je;function VD(t,e,i){!t||t.length===0||Xo(t,e,i)}MD=Si.pullAllChildren=VD;function qo(t){var e=t.patchFlag;return e===128||e===256||e===64}var HD=Si.isFragment=qo;function Xo(t,e,i){t.forEach(function(n){if(qo(n)&&Array.isArray(n.children)&&Xo(n.children,e,i),qo(n)||e.push(n),!!n){var r=ro.getComponentInfo(n);if(!(!r||!r.$_optionName)){var a=ro.configurationChildren(n),s=fa(fa({},r.$_predefinedProps),ro.getNormalizedProps(n.props||{})),o=i.createNested(r.$_optionName,s,r.$_isCollectionItem,r.$_expectedChildren);n.$_config=o,n.$_innerChanges={},a&&Xo(a,e,o)}}})}/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */(function(t){"use strict";var e=O&&O.__assign||function(){return e=Object.assign||function(S){for(var $,V=1,an=arguments.length;V<an;V++){$=arguments[V];for(var as in $)Object.prototype.hasOwnProperty.call($,as)&&(S[as]=$[as])}return S},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getConfigurationOptions=t.setVModel=t.getVModelValue=t.getNodeTypeOfComponent=t.getNodeOptions=t.usedConfigurationProps=t.getComponentProps=t.mount=t.defaultSlots=t.declaredTemplates=t.configurationTemplate=t.configurationDefaultTemplate=t.configurationChildren=t.getNormalizedProps=t.getComponentInfo=t.getChildren=t.VMODEL_NAME=void 0;var i=ie,n=q,r=Si;t.VMODEL_NAME="modelValue";function a(S){if(!ce(S)||!S.$_config)return[];var $=S.$.subTree&&S.$.subTree.children;return Array.isArray($)?$.filter(function(V){if(!r.isFragment(V))return V}):[]}t.getChildren=a;function s(S){return Pt(S)}t.getComponentInfo=s;function o(S){var $={};for(var V in S)S.hasOwnProperty(V)&&($[n.camelize(V)]=S[V]);return $}t.getNormalizedProps=o;function l(S){return!S.children||!S.children.default?[]:ut(S.children.default())}t.configurationChildren=l;function u(S){if(!(!S.children||S.children==="object"||!S.children.default))return Wt(S.children.default())?S.children.default:void 0}t.configurationDefaultTemplate=u;function c(S){return u(S)}t.configurationTemplate=c;function d(S){return S.$slots}t.declaredTemplates=d;function f(S){var $=d(S);return $.default?$.default():[]}t.defaultSlots=f;function m(S,$,V){var an=i.createApp(S);return an.provide("eventBus",$.eventBus),yt(an,$),an.mount(V)}t.mount=m;function g(S){var $=S.$.vnode.props||{};return o($)}t.getComponentProps=g;function x(S){return S.props}t.usedConfigurationProps=x;function E(S){return S.$?S.$.vnode:S}t.getNodeOptions=E;function w(S){return S.$.vnode.type}t.getNodeTypeOfComponent=w;function D(S){return S[t.VMODEL_NAME]}t.getVModelValue=D;function j(S){var $,V="update:"+t.VMODEL_NAME;S.model.prop=t.VMODEL_NAME,S.model.event=V,S.props.modelValue={},S.emits=e(e({},S.emits),($={},$[""+V]=null,$))}t.setVModel=j;function Z(S,$){for(var V in $)!S.hasOwnProperty(V)&&$.hasOwnProperty(V)&&(S[V]=$[V])}function yt(S,$){S._context.components=Object.assign($.$.appContext.components,S._context.components),Object.setPrototypeOf(S._context.provides,Object.getPrototypeOf($.$.provides)),Object.assign(S._context.provides,$.$.appContext.provides),S._context.config=$.$.appContext.config,S._context.directives=$.$.appContext.directives,S._context.mixins=$.$.appContext.mixins,Z(S._context.app,$.$.appContext.app)}function ut(S){return S.filter(function($){if(r.isFragment($))return ut($.children||[]);var V=$.type;if(V&&typeof V=="object"&&V.$_optionName)return delete $.$_config,delete $.$_innerChanges,$})}function Wt(S){var $=!1;return S.forEach(function(V){!wt(V)&&!r.isFragment(V)&&!J(V)&&($=!0)}),$}function J(S){var $=S.type,V=typeof $=="symbol"?$.toString():$;return V==="Symbol(Comment)"||V==="Symbol()"&&!S.children}function wt(S){return S.type&&typeof S.type=="object"&&S.type.$_optionName}function Pt(S){return S.type}t.getConfigurationOptions=Pt;function ce(S){return S.$.vnode&&S.$.vnode.children&&S.$.vnode.children.default}})(Je);var Ue={},Jn={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var pa=O&&O.__assign||function(){return pa=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},pa.apply(this,arguments)};Object.defineProperty(Jn,"__esModule",{value:!0});var FD=Jn.getOption=void 0,Yo={deepWatch:!1};function ND(t){Yo=pa(pa({},Yo),t)}function WD(t){return Yo[t]}FD=Jn.getOption=WD;var HB=Jn.default=ND;/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var _a=O&&O.__assign||function(){return _a=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},_a.apply(this,arguments)};Object.defineProperty(Ue,"__esModule",{value:!0});var zD=Ue.setEmitOptionChangedFunc=GD=Ue.bindOptionWatchers=void 0,KD=Jn,Qo=q,Zo=Je,UD=function(){function t(e,i,n,r,a,s,o){this._updateFunc=e,this._name=i,this._initialValues=n||{},this._nestedConfigurations=[],this._isCollectionItem=!!a,this._collectionItemIndex=s,this._expectedChildren=r||{},this._ownerConfig=o,this._componentChanges=[],this.updateValue=this.updateValue.bind(this)}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullName",{get:function(){return this._name&&this._isCollectionItem?this._name+"["+this._collectionItemIndex+"]":this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentsCountChanged",{get:function(){return this._componentChanges},enumerable:!1,configurable:!0}),t.prototype.cleanComponentsCountChanged=function(){this._componentChanges=[]},Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._ownerConfig&&this._ownerConfig.fullPath?this._ownerConfig.fullPath+"."+this.fullName:this.fullName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownerConfig",{get:function(){return this._ownerConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initialValues",{get:function(){return this._initialValues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expectedChildren",{get:function(){return this._expectedChildren},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nested",{get:function(){return this._nestedConfigurations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prevNestedOptions",{get:function(){return this._prevNestedConfigOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collectionItemIndex",{get:function(){return this._collectionItemIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCollectionItem",{get:function(){return this._isCollectionItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFunc",{get:function(){return this._updateFunc},enumerable:!1,configurable:!0}),t.prototype.init=function(e){this._options=e||[]},Object.defineProperty(t.prototype,"emitOptionChanged",{set:function(e){this._emitOptionChanged=e},enumerable:!1,configurable:!0}),t.prototype.setPrevNestedOptions=function(e){this._prevNestedConfigOptions=e},t.prototype.onOptionChanged=function(e){Qo.isEqual(e.value,e.previousValue)||this._onOptionChanged(e.fullName.split("."),e)},t.prototype.cleanNested=function(){this._nestedConfigurations=[]},t.prototype.createNested=function(e,i,n,r){var a=this._expectedChildren[e],s=e,o=n;a&&(o=a.isCollectionItem,a.optionName&&(s=a.optionName));var l=-1;o&&s&&(l=this._nestedConfigurations.filter(function(c){return c._name&&c._name===s}).length);var u=new t(this._updateFunc,s,i,r,o,l,this);return this._nestedConfigurations.push(u),u},t.prototype.updateValue=function(e,i){var n=[this.fullPath,e].filter(function(r){return r}).join(".");this._updateFunc(n,i)},t.prototype.getNestedOptionValues=function(){var e={};return this._nestedConfigurations.forEach(function(i){if(!!i._name){var n=_a(_a({},i.initialValues),i.getNestedOptionValues());if(!!n)if(!i._isCollectionItem)e[i._name]=n;else{var r=e[i._name];(!r||!Array.isArray(r))&&(r=[],e[i._name]=r),r.push(n)}}}),e},t.prototype.getOptionsToWatch=function(){var e={};return this._nestedConfigurations.forEach(function(i){return i._name&&(e[i._name]=!0)}),this._options.filter(function(i){return!e[i]})},t.prototype._onOptionChanged=function(e,i){if(e.length!==0){var n=Qo.getOptionInfo(e[0]);if(n.isCollection||e.length>1){var r=this._getNestedConfig(n.fullName);if(r){r._onOptionChanged(e.slice(1),i);return}this._tryEmitOptionChanged(n.name,i.component.option(this.fullPath?this.fullPath+"."+n.name:n.name))}else this._tryEmitOptionChanged(n.name,i.value)}},t.prototype._getNestedConfig=function(e){for(var i=0,n=this._nestedConfigurations;i<n.length;i++){var r=n[i];if(r.fullName===e)return r}},t.prototype._tryEmitOptionChanged=function(e,i){this._emitOptionChanged&&this._emitOptionChanged(e,i)},t}();function jD(t,e,i){var n=t&&t.getOptionsToWatch();n&&n.forEach(function(r){e.$watch(r,function(a){(!i.hasOwnProperty(r)||i[r]!==a)&&t.updateValue(r,a),delete i[r]},{deep:KD.getOption("deepWatch")})})}var GD=Ue.bindOptionWatchers=jD;function qD(t,e){var i=t.$options.props;return i&&i.hasOwnProperty(e)}function XD(t,e,i){var n;return t.model&&e.hasOwnProperty(Zo.VMODEL_NAME)&&((n=i?.props)===null||n===void 0?void 0:n.hasOwnProperty(Zo.VMODEL_NAME))}function YD(t,e,i){t.emitOptionChanged=function(n,r){var a,s=e.$props,o=(a=e?.$)===null||a===void 0?void 0:a.vnode;if(qD(e,n)&&!Qo.isEqual(r,s[n])&&e.$emit){i[n]=r;var l=n==="value"&&XD(e.$options,s,o)?"update:"+Zo.VMODEL_NAME:"update:"+n;e.$emit(l,r)}}}zD=Ue.setEmitOptionChangedFunc=YD;var FB=Ue.default=UD,te={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(te,"__esModule",{value:!0});var QD=te.getInnerChanges=JD=te.getConfig=tR=te.initOptionChangedFunc=iR=te.initDxConfiguration=void 0,ZD=ie,bu=Je,gv=Ue;function Fr(t){var e=bu.getNodeOptions(t);if(!!e)return e.$_config||t.$_config}var JD=te.getConfig=Fr;function Cv(t){var e=bu.getNodeOptions(t);if(!!e)return e.$_innerChanges||t.$_innerChanges}QD=te.getInnerChanges=Cv;function bv(t,e,i,n){!t||(t.init(Object.keys(e)),i&&gv.setEmitOptionChangedFunc(t,i,n))}var tR=te.initOptionChangedFunc=bv;function kd(t,e){var i=t.name,n=t.isCollectionItem,r=t.ownerConfig,a=r&&r.fullPath,s=i&&a?a+"."+i:i||"";return{optionPath:s,isCollection:n,removed:e}}function eR(){return ZD.defineComponent({beforeMount:function(){var t=this,e=Fr(t),i=Cv(t);bv(e,bu.getNodeTypeOfComponent(t).props,t,i),gv.bindOptionWatchers(e,this,i)},mounted:function(){this.$parent.$_instance&&this.$parent.$_config.componentsCountChanged.push(kd(Fr(this)))},beforeUnmount:function(){var t=Fr(this);t&&this.$parent.$_config.componentsCountChanged.push(kd(t,!0))},render:function(){return null}})}var iR=te.initDxConfiguration=eR,yi={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(yi,"__esModule",{value:!0});var nR=yi.DX_REMOVE_EVENT=aR=yi.DX_TEMPLATE_WRAPPER_CLASS=void 0,rR="dx-template-wrapper",aR=yi.DX_TEMPLATE_WRAPPER_CLASS=rR,sR="dxremove";nR=yi.DX_REMOVE_EVENT=sR;var ns={},Ji={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(Ji,"__esModule",{value:!0});var oR=Ji.discover=pR=Ji.mountTemplate=void 0,Gi=Je,lR=ie,Ev="template";function uR(t){var e=t;if(!!e&&!(!e.$_config||!e.$_config.name))return e}function hR(t){return Ev in t.type.props&&Gi.configurationTemplate(t)}function cR(t){var e={},i=Gi.declaredTemplates(t);for(var n in i)if(!(n==="default"&&t.$slots.default)){var r=i[n];!r||(e[n]=r)}for(var a=Gi.getChildren(t),s=0,o=a;s<o.length;s++){var l=o[s],u=uR(l);if(!!u){var c=Gi.configurationDefaultTemplate(l);if(!(!c||!hR(l))){var d=u.$_config.fullPath+"."+Ev;e[d]=c}}}return e}oR=Ji.discover=cR;function dR(t){var e=[];return t.forEach(function(i){var n=Gi.getConfigurationOptions(i);(!n||!n.$_optionName)&&e.push(i)}),e}function fR(t,e,i,n,r){return Gi.mount({name:n,inject:["eventBus"],created:function(){this.eventBus.add(this.$_updatedHandler)},mounted:function(){i.onRendered()},unmounted:function(){this.eventBus.remove(this.$_updatedHandler)},methods:{$_updatedHandler:function(){this.$forceUpdate()}},render:function(){var a=dR(t()(i));return a?a.length>1?a:a[0]:lR.h("div")}},e,r)}var pR=Ji.mountTemplate=fR;/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var va=O&&O.__assign||function(){return va=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},va.apply(this,arguments)},_R=O&&O.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ns,"__esModule",{value:!0});var vR=ns.TemplatesManager=void 0,Pd=Ji,mR=_R(dv),Md=Za,ao=yi,gR=q,CR=function(){function t(e){this._slots={},this._templates={},this._isDirty=!1,this._component=e,this.discover()}return t.prototype.discover=function(){var e=Pd.discover(this._component);this._slots=va(va({},this._slots),e),gR.allKeysAreEqual(this._templates,e)||this._prepareTemplates()},Object.defineProperty(t.prototype,"templates",{get:function(){return this._templates},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!1,configurable:!0}),t.prototype.resetDirtyFlag=function(){this._isDirty=!1},t.prototype._prepareTemplates=function(){this._templates={};for(var e=0,i=Object.keys(this._slots);e<i.length;e++){var n=i[e];this._templates[n]=this.createDxTemplate(n)}this._isDirty=!0},t.prototype.createDxTemplate=function(e){var i=this;return{render:function(n){var r=function(d,f){return f===void 0&&(f=0),function(){f===1&&d&&d(),f++}}(n.onRendered),a={data:n.model,index:n.index,onRendered:r},s=document.createElement("div"),o=n.container.get?n.container.get(0):n.container;o.appendChild(s);var l=Pd.mountTemplate(function(){return i._slots[e]},i._component,a,e,s),u=l.$el;for(o.removeChild(s);s.firstChild;)o.appendChild(s.firstChild);if(mR.default.setClass(u,ao.DX_TEMPLATE_WRAPPER_CLASS,!0),u.nodeType===Node.TEXT_NODE){var c=document.createElement(o.nodeName==="TABLE"?"tbody":"span");c.style.display="none",o.appendChild(c),Md.one(c,ao.DX_REMOVE_EVENT,l.$.appContext.app.unmount.bind(l))}else Md.one(u,ao.DX_REMOVE_EVENT,l.$.appContext.app.unmount.bind(l));return r(),u}}},t}();vR=ns.TemplatesManager=CR;/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var me=O&&O.__assign||function(){return me=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},me.apply(this,arguments)},bR=O&&O.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),ER=O&&O.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SR=O&&O.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&bR(e,t,i);return ER(e,t),e},yR=O&&O.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ei,"__esModule",{value:!0});var IR=Ei.initBaseComponent=LR=Ei.initDxComponent=void 0,Jo=ie,TR=yR(bD),OR=Za,$e=Je,AR=Si,so=SR(Ue),wR=te,xR=yi,ri=q,DR=ns,RR=["id","class","style"];function BR(t){var e={};return RR.forEach(function(i){var n=t[i];n&&(e[i]=n)}),e}function Sv(){return Jo.defineComponent({inheritAttrs:!1,data:function(){return{eventBus:TR.default()}},provide:function(){return{eventBus:this.eventBus}},render:function(){var t=this,e=[];return t.$_config.cleanNested&&t.$_config.cleanNested(),AR.pullAllChildren($e.defaultSlots(this),e,t.$_config),this.$_processChildren(e),Jo.h("div",me({},BR(this.$attrs)),e)},beforeUpdate:function(){var t=this;t.$_config.setPrevNestedOptions(t.$_config.getNestedOptionValues())},updated:function(){var t=this,e=yv(this.$el);if($e.getChildren(t).forEach(function(u){var c;wR.initOptionChangedFunc(u.$_config,u.type.props||{},(c=u?.component)===null||c===void 0?void 0:c.proxy,u.$_innerChanges)}),t.$_templatesManager.discover(),t.$_instance.beginUpdate(),t.$_templatesManager.isDirty){t.$_instance.option("integrationOptions.templates",t.$_templatesManager.templates);for(var i=t.$.vnode.props,n=0,r=Object.keys(t.$_templatesManager.templates);n<r.length;n++){var a=r[n];t.$_instance.option(ri.getTemplatePropName(i,a),a)}t.$_templatesManager.resetDirtyFlag()}for(var s=0,o=Object.keys(t.$_pendingOptions);s<o.length;s++){var l=o[s];t.$_instance.option(l,t.$_pendingOptions[l])}t.$_pendingOptions={},this.$_applyConfigurationChanges(),t.$_instance.endUpdate(),Iv(this.$el,e),this.eventBus.fire()},beforeUnmount:function(){var t=this,e=t.$_instance;e&&(OR.triggerHandler(this.$el,xR.DX_REMOVE_EVENT),e.dispose())},created:function(){var t=this,e=$e.getComponentProps(this);t.$_config=new so.default(function(i,n){Array.isArray(n)?t.$_instance.option(i,n):t.$_pendingOptions[i===$e.VMODEL_NAME?"value":i]=n},null,e&&me({},e),t.$_expectedChildren),t.$_innerChanges={},t.$_config.init(this.$props&&Object.keys(this.$props))},methods:{$_applyConfigurationChanges:function(){var t=this;t.$_config.componentsCountChanged.forEach(function(e){var i=e.optionPath,n=e.isCollection,r=e.removed,a=t.$_config.getNestedOptionValues();!n&&r?t.$_instance.resetOption(i):t.$_instance.option(i,ri.getOptionValue(a,i))}),t.$_config.cleanComponentsCountChanged()},$_createWidget:function(t){var e=this;e.$_pendingOptions={},e.$_templatesManager=new DR.TemplatesManager(this);var i=e.$_config;i.initialValues.hasOwnProperty($e.VMODEL_NAME)&&(i.initialValues.value=$e.getVModelValue(i.initialValues));var n=me(me(me(me({templatesRenderAsynchronously:e.$_hasAsyncTemplate},$e.getComponentProps(e)),i.initialValues),i.getNestedOptionValues()),this.$_getIntegrationOptions()),r=new e.$_WidgetClass(t,n);e.$_instance=r,r.on("optionChanged",function(a){return i.onOptionChanged(a)}),so.setEmitOptionChangedFunc(i,e,e.$_innerChanges),so.bindOptionWatchers(i,e,e.$_innerChanges),this.$_createEmitters(r)},$_getIntegrationOptions:function(){var t=this,e=me({integrationOptions:{watchMethod:this.$_getWatchMethod()}},this.$_getExtraIntegrationOptions());if(t.$_templatesManager.isDirty){var i=t.$_templatesManager.templates;e.integrationOptions.templates=i;for(var n=t.$.vnode.props,r=0,a=Object.keys(i);r<a.length;r++){var s=a[r];e[ri.getTemplatePropName(n,s)]=s}t.$_templatesManager.resetDirtyFlag()}return e},$_getWatchMethod:function(){var t=this;return function(e,i,n){return n=n||{},n.skipImmediate||i(e()),t.$watch(function(){return e()},function(r,a){(ri.toComparable(a)!==ri.toComparable(r)||n.deep)&&i(r)},{deep:n.deep})}},$_getExtraIntegrationOptions:function(){return{}},$_processChildren:function(t){},$_createEmitters:function(t){var e=this;this.$attrs&&Object.keys(this.$attrs).forEach(function(i){var n=ri.camelize(i);t.on(n,function(r){e.$emit(i,r)})})}}})}IR=Ei.initBaseComponent=Sv;function yv(t){var e=[];return ri.forEachChildNode(t,function(i){var n=i.parentNode,r=i.hasAttribute&&i.hasAttribute("isExtension");(i.nodeName==="#comment"||r)&&n&&(e.push(i),n.removeChild(i))}),e}function Iv(t,e){e.forEach(function(i){t.appendChild(i)})}function $R(){return Jo.defineComponent({extends:Sv(),methods:{$_getExtraIntegrationOptions:function(){return{onInitializing:function(){this.beginUpdate()}}},$_processChildren:function(t){t.forEach(function(e){!e||typeof e!="object"||(e.$_hasOwner=!0)})}},mounted:function(){var t=this,e=yv(this.$el),i=this;this.$_createWidget(this.$el),i.$_instance.endUpdate(),Iv(this.$el,e),this.$slots&&this.$slots.default&&$e.getChildren(i).forEach(function(n){var r=n;r&&r.$_isExtension&&r.$_attachTo(t.$el)})}})}var LR=Ei.initDxComponent=$R,rs={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(rs,"__esModule",{value:!0});var kR=rs.initDxExtensionComponent=void 0,PR=ie,MR=Ei,Vd=Je;function VR(){return PR.defineComponent({extends:MR.initBaseComponent(),created:function(){var t=Vd.getNodeOptions(this);t.$_isExtension=!0,t.$_attachTo=this.attachTo.bind(this)},mounted:function(){this.$el.setAttribute("isExtension","true");var t=Vd.getNodeOptions(this);t&&t.$_hasOwner||this.attachTo(this.$el)},methods:{attachTo:function(t){this.$_createWidget(t)}}})}kR=rs.initDxExtensionComponent=VR;/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(We,"__esModule",{value:!0});var HR=We.createExtensionComponent=GR=We.createConfigurationComponent=UR=We.createComponent=void 0,Eu=ie,FR=Ei,NR=te,WR=rs,zR=Je;function KR(t){return t.extends=FR.initDxComponent(),t.model&&zR.setVModel(t),Eu.defineComponent(t)}var UR=We.createComponent=KR;function jR(t){return t.extends=NR.initDxConfiguration(),Eu.defineComponent(t)}var GR=We.createConfigurationComponent=jR;function qR(t){return t.extends=WR.initDxExtensionComponent(),Eu.defineComponent(t)}HR=We.createExtensionComponent=qR;var tn={};/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var XR=O&&O.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),YR=O&&O.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QR=O&&O.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&XR(e,t,i);return YR(e,t),e};Object.defineProperty(tn,"__esModule",{value:!0});var ZR=tn.isVue3=tB=tn.getVueVersion=void 0,Hd=QR(ie),JR=Hd.default||Hd;function Tv(){var t=JR.version;return Number(t.split(".")[0])}var tB=tn.getVueVersion=Tv;function eB(){return Tv()===3}ZR=tn.isVue3=eB;/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var iB=O&&O.__createBinding||(Object.create?function(t,e,i,n){n===void 0&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}),nB=O&&O.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ov=O&&O.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&iB(e,t,i);return nB(e,t),e};Object.defineProperty(hi,"__esModule",{value:!0});var rB=hi.createExtensionComponent=uB=hi.createConfigurationComponent=lB=hi.createComponent=void 0,aB=Ov(Ne),sB=Ov(We),oB=tn,Su=oB.isVue3()?sB:aB,lB=hi.createComponent=Su.createComponent,uB=hi.createConfigurationComponent=Su.createConfigurationComponent;rB=hi.createExtensionComponent=Su.createExtensionComponent;export{KE as $,hp as A,hu as B,Jr as C,ta as D,aS as E,JE as F,su as G,HT as H,Ie as I,Nt as J,Fe as K,Gf as L,A_ as M,et as N,nn as O,x_ as P,K_ as Q,Tt as R,Pa as S,au as T,am as U,nO as V,Re as W,xn as X,Ye as Y,la as Z,WE as _,T as a,qa as a$,zE as a0,vB as a1,xe as a2,Xe as a3,$g as a4,Ya as a5,$a as a6,Ct as a7,fB as a8,Xl as a9,Di as aA,FO as aB,Pe as aC,kt as aD,nv as aE,ct as aF,rA as aG,rf as aH,Xi as aI,ml as aJ,B_ as aK,Ga as aL,Fw as aM,ue as aN,Kt as aO,Ka as aP,Zt as aQ,it as aR,On as aS,Ot as aT,Qn as aU,jy as aV,gB as aW,He as aX,rn as aY,E_ as aZ,G_ as a_,O_ as aa,Gm as ab,cu as ac,du as ad,Xa as ae,xi as af,Ea as ag,Yi as ah,Kr as ai,Lt as aj,mB as ak,Sl as al,ng as am,iv as an,vu as ao,rx as ap,J_ as aq,vi as ar,dB as as,Hu as at,nf as au,fi as av,Ft as aw,Fn as ax,Pb as ay,Ma as az,Ut as b,ru as b0,__ as b1,Ua as b2,ja as b3,qC as b4,Q as b5,Ta as b6,Da as b7,Kn as b8,Ra as b9,An as ba,ul as bb,vb as bc,wa as bd,sE as be,pd as bf,Ol as bg,Al as bh,yE as bi,jm as bj,zi as bk,hi as bl,pB as bm,LB as bn,he as bo,kB as bp,kp as bq,eO as br,fp as bs,RB as bt,xt as bu,Ht as bv,BB as bw,PB as bx,$B as by,Cm as c,Af as d,pt as e,wi as f,Qt as g,H as h,di as i,Dn as j,le as k,pp as l,Ll as m,Bo as n,Hl as o,Et as p,CE as q,ne as r,_i as s,je as t,Gl as u,nc as v,gi as w,Qr as x,R_ as y,B as z};
