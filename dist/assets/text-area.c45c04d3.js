import{U as E,$ as H,Z as l,a7 as g,bC as d,bH as x,W as S,a3 as A,ae as I,D as y,bI as C,aJ as D,b9 as B,b1 as c}from"./vendor.7710df40.js";import{T,a as o,bv as F,p as v,b5 as _,N as M,bl as $}from"./index.3bbb47f2.js";import{p as O,a as R}from"./utils.scroll.55667bed.js";var s={},z="dx-textarea",N="dx-texteditor-input",w="dx-texteditor-input-auto-resize",m=T.inherit({_getDefaultOptions:function(){return E(this.callBase(),{spellcheck:!0,minHeight:void 0,maxHeight:void 0,autoResizeEnabled:!1})},_initMarkup:function(){this.$element().addClass(z),this.callBase(),this.setAria("multiline","true")},_renderContentImpl:function(){this._updateInputHeight(),this.callBase()},_renderInput:function(){this.callBase(),this._renderScrollHandler()},_createInput:function(){var e=H("<textarea>");return this._applyInputAttributes(e,this.option("inputAttr")),this._updateInputAutoResizeAppearance(e),e},_applyInputAttributes:function(e,t){e.attr(t).addClass(N)},_renderScrollHandler:function(){this._eventY=0;var e=this._input(),t=O(e,!0);l.on(e,o(F.init,this.NAME),t,g),l.on(e,o(v.down,this.NAME),this._pointerDownHandler.bind(this)),l.on(e,o(v.move,this.NAME),this._pointerMoveHandler.bind(this))},_pointerDownHandler:function(e){this._eventY=_(e).y},_pointerMoveHandler:function(e){var t=_(e).y,n=this._eventY-t;R(this._input(),n)&&(e.isScrollingEvent=!0,e.stopPropagation()),this._eventY=t},_renderDimensions:function(){var e=this.$element(),t=e.get(0),n=this._getOptionValue("width",t),r=this._getOptionValue("height",t),a=this.option("minHeight"),u=this.option("maxHeight");e.css({minHeight:a!==void 0?a:"",maxHeight:u!==void 0?u:"",width:n,height:r})},_resetDimensions:function(){this.$element().css({height:"",minHeight:"",maxHeight:""})},_renderEvents:function(){this.option("autoResizeEnabled")&&l.on(this._input(),o("input paste",this.NAME),this._updateInputHeight.bind(this)),this.callBase()},_refreshEvents:function(){l.off(this._input(),o("input paste",this.NAME)),this.callBase()},_getHeightDifference(e){return d(this._$element.get(0),!1)+d(this._$textEditorContainer.get(0),!1)+d(this._$textEditorInputContainer.get(0),!1)+x("height",S().getComputedStyle(e.get(0))).margin},_updateInputHeight:function(){if(!!A()){var e=this._input(),t=this.option("height"),n=t===void 0&&this.option("autoResizeEnabled"),r=n||t===void 0&&this.option("minHeight");if(!r){e.css("height","");return}this._resetDimensions(),this._$element.css("height",I(this._$element)),e.css("height",0);var a=this._getHeightDifference(e);this._renderDimensions();var u=this._getBoundaryHeight("minHeight"),h=this._getBoundaryHeight("maxHeight"),i=e[0].scrollHeight;if(u!==void 0&&(i=Math.max(i,u-a)),h!==void 0){var p=h-a,b=i>p;i=Math.min(i,p),this._updateInputAutoResizeAppearance(e,!b)}e.css("height",i),n&&this._$element.css("height","auto")}},_getBoundaryHeight:function(e){var t=this.option(e);if(y(t))return typeof t=="number"?t:C(t,this.$element().get(0).parentElement)},_renderInputType:g,_visibilityChanged:function(e){e&&this._updateInputHeight()},_updateInputAutoResizeAppearance:function(e,t){if(e){var n=D(t,this.option("autoResizeEnabled"));e.toggleClass(w,n)}},_dimensionChanged:function(){this.option("visible")&&this._updateInputHeight()},_optionChanged:function(e){switch(e.name){case"autoResizeEnabled":this._updateInputAutoResizeAppearance(this._input(),e.value),this._refreshEvents(),this._updateInputHeight();break;case"value":case"height":this.callBase(e),this._updateInputHeight();break;case"minHeight":case"maxHeight":this._renderDimensions(),this._updateInputHeight();break;case"visible":this.callBase(e),e.value&&this._updateInputHeight();break;default:this.callBase(e)}}});M("dxTextArea",m);var k=Object.freeze(Object.defineProperty({__proto__:null,default:m},Symbol.toStringTag,{value:"Module"})),K=B(k);/*!
 * devextreme-vue
 * Version: 21.2.6
 * Build date: Tue Mar 01 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var P=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(s,"__esModule",{value:!0});var V=s.DxTextArea=void 0,U=P(K),L=$,f=L.createComponent({props:{accessKey:String,activeStateEnabled:Boolean,autoResizeEnabled:Boolean,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,inputAttr:{},isValid:Boolean,label:String,labelMode:String,maxHeight:[Number,String],maxLength:[Number,String],minHeight:[Number,String],name:String,onChange:Function,onContentReady:Function,onCopy:Function,onCut:Function,onDisposing:Function,onEnterKey:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onInput:Function,onKeyDown:Function,onKeyUp:Function,onOptionChanged:Function,onPaste:Function,onValueChanged:Function,placeholder:String,readOnly:Boolean,rtlEnabled:Boolean,spellcheck:Boolean,stylingMode:String,tabIndex:Number,text:String,validationError:{},validationErrors:Array,validationMessageMode:String,validationStatus:String,value:String,valueChangeEvent:String,visible:Boolean,width:[Function,Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:autoResizeEnabled":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:inputAttr":null,"update:isValid":null,"update:label":null,"update:labelMode":null,"update:maxHeight":null,"update:maxLength":null,"update:minHeight":null,"update:name":null,"update:onChange":null,"update:onContentReady":null,"update:onCopy":null,"update:onCut":null,"update:onDisposing":null,"update:onEnterKey":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onInput":null,"update:onKeyDown":null,"update:onKeyUp":null,"update:onOptionChanged":null,"update:onPaste":null,"update:onValueChanged":null,"update:placeholder":null,"update:readOnly":null,"update:rtlEnabled":null,"update:spellcheck":null,"update:stylingMode":null,"update:tabIndex":null,"update:text":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationStatus":null,"update:value":null,"update:valueChangeEvent":null,"update:visible":null,"update:width":null},model:{prop:"value",event:"update:value"},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=U.default,this.$_hasAsyncTemplate=!0}});V=s.DxTextArea=f;var X=s.default=f;export{V as D,X as _};
