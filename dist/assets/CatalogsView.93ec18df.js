import{D as k,a as I,b as O,c as F,d as G,e as Y,f as A,g as B,h as L,i as U,j as V,k as q,l as J,n as M,t as H,u as z,v as K}from"./data-grid.24b081de.js";import{B as W}from"./BreadCrumb.9367f10a.js";import{D as j}from"./form.181df029.js";import{C as Q}from"./index.3bbb47f2.js";import{R as X}from"./RepositoryFactory.1ead146f.js";import{e as Z,F as $}from"./FileSaver.min.34d9f25a.js";import{e as ee}from"./excel_exporter.6e076f26.js";import{r as a,o as te,a as ae,c,f as e,w as r}from"./vendor.7710df40.js";import{_ as oe}from"./index.7b655b97.js";const ne=[{name:"AREA"},{name:"CITY"},{name:"COSTCENTER"},{name:"COUNTRIES"},{name:"CURRENCY"},{name:"DEPARTMEN"},{name:"DISCRETIONARYTYPE"},{name:"EMPLOYEEROL"},{name:"EMPLOYEETYPE"},{name:"HOURBANKTYPE"},{name:"IDENTIFICATIONTYPE"},{name:"INDUSTRYSUBTYPE"},{name:"INDUSTRYTYPE"},{name:"POSITION"},{name:"PRODUCTTYPE"},{name:"PROJECTCATEGORY"},{name:"PROJECTSTATE"},{name:"PROJECTTASKSTATE"},{name:"PROJECTTASKTYPE"},{name:"PROJECTTYPE"},{name:"STATES"}];const d=X.get("catalogs");function re(t){return t!=null&&t!==""}const ie={name:"CatalogsView",components:{DxDataGrid:k,DxColumn:I,DxScrolling:O,DxPager:F,DxPaging:G,DxEditing:Y,DxRequiredRule:A,DxPopup:B,DxLookup:L,DxFilterRow:U,DxForm:V,DxItem:j,DxHeaderFilter:q,DxSearchPanel:J,DxExport:M,DxSelection:H,DxGroupPanel:z,DxGrouping:K,BreadCrumb:W},data(){return{dataSource:new Q({key:"id",load:t=>{let o={};return["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach(n=>{n in t&&re(t[n])&&(o[n]=JSON.stringify(t[n]))}),this.getCatalogs(o)},insert:t=>(this.getCatalogParent(),this.createCatalog(t)),update:(t,o)=>(o.id=t,this.getCatalogParent(),this.updateCatalog(o)),remove:t=>(this.getCatalogParent(),this.deleteCatalog(t))}),parents:{},catalogos:ne,setPositiveNumber(t,o){var n=Math.abs(Math.round(o));this.defaultSetCellValue(t,n)}}},methods:{getCatalogs:async function(t){const{data:o}=await d.GetWithFilter(t);return o.data},createCatalog:async function(t){const{data:o}=await d.Create(t);return o},updateCatalog:async function(t){const{data:o}=await d.Update(t);return o},deleteCatalog:async function(t){const{data:o}=await d.Delete(t);return o},getCatalogParent:async function(){const{data:t}=await d.Get("PARENTID","NULL");this.parents=t.data},onExporting(t){const o=new Z.exports.Workbook,n=o.addWorksheet("Clientes");ee({component:t.component,worksheet:n,autoFilterEnabled:!0}).then(()=>{o.xlsx.writeBuffer().then(p=>{$.exports.saveAs(new Blob([p],{type:"application/octet-stream"}),"Clientes.xlsx")})}),t.cancel=!0}},async created(){await this.getCatalogParent()}},se={id:"main-content"},le={class:"container-fluid"},de={class:"block-header"},ce={class:"row clearfix"},ue={class:"col-md-12"};function pe(t,o,n,p,l,x){const _=a("bread-crumb"),D=a("DxHeaderFilter"),g=a("DxGroupPanel"),f=a("DxGrouping"),h=a("DxExport"),C=a("DxSelection"),E=a("DxSearchPanel"),P=a("DxFilterRow"),w=a("DxScrolling"),S=a("DxPaging"),T=a("DxPager"),R=a("DxPopup"),i=a("DxItem"),v=a("DxForm"),y=a("DxEditing"),u=a("DxRequiredRule"),m=a("DxLookup"),s=a("DxColumn"),b=a("DxCheckBox"),N=a("DxDataGrid");return te(),ae("div",se,[c("div",le,[c("div",de,[e(_)]),c("div",ce,[c("div",ue,[e(N,{id:"dataGridCatalogs","data-source":l.dataSource,"show-borders":!0,"repaint-changes-only":!0,"remote-operations":!0,onExporting:x.onExporting,"key-expr":"id"},{default:r(()=>[e(D,{visible:!0}),e(g,{visible:!0}),e(f,{"auto-expand-all":!0}),e(h,{enabled:!0,"allow-export-selected-data":!0}),e(C,{mode:"multiple"}),e(E,{visible:!0,width:240,placeholder:"Search..."}),e(P,{visible:!0}),e(w,{"row-rendering-mode":"virtual"}),e(S,{"page-size":10}),e(T,{visible:!0,"allowed-page-sizes":[10,20,50],"display-mode":t.displayMode,"show-page-size-selector":!0,"show-info":!1,"show-navigation-buttons":!0},null,8,["display-mode"]),e(y,{"refresh-mode":t.full,"allow-updating":!0,"allow-adding":!0,"allow-deleting":!0,mode:"popup"},{default:r(()=>[e(R,{"show-title":!0,width:700,height:525,title:"Informaci\xF3n del Cat\xE1logo"}),e(v,null,{default:r(()=>[e(i,{"col-count":2,"col-span":2,"item-type":"group"},{default:r(()=>[e(i,{"data-field":"name"}),e(i,{"data-field":"value"}),e(i,{"data-field":"parentId"}),e(i,{"data-field":"description"}),e(i,{"data-field":"order"}),e(i,{"data-field":"isSystemOwner"}),e(i,{"data-field":"status"})]),_:1})]),_:1})]),_:1},8,["refresh-mode"]),e(s,{width:150,"data-field":"name",caption:"Nombre"},{default:r(()=>[e(u),e(m,{"data-source":l.catalogos,"value-expr":"name","display-expr":"name"},null,8,["data-source"])]),_:1}),e(s,{width:150,"data-field":"parentId",caption:"Cat\xE1logo Padre"},{default:r(()=>[e(m,{"data-source":l.parents,"value-expr":"id","display-expr":"value"},null,8,["data-source"])]),_:1}),e(s,{width:150,"data-field":"value",caption:"Valor"},{default:r(()=>[e(u)]),_:1}),e(s,{width:200,"data-field":"description",caption:"Descripci\xF3n"}),e(s,{width:100,"set-cell-value":l.setPositiveNumber,"data-field":"order","data-type":"number",caption:"Orden"},{default:r(()=>[e(u)]),_:1},8,["set-cell-value"]),e(s,{width:0,"data-field":"isSystemOwner","data-type":"boolean"},{default:r(()=>[e(b,{value:t.isSystemOwner},null,8,["value"])]),_:1}),e(s,{width:100,"set-cell-value":l.setPositiveNumber,"data-field":"status","data-type":"number",caption:"Estado"},null,8,["set-cell-value"])]),_:1},8,["data-source","onExporting"])])])])])}var Pe=oe(ie,[["render",pe]]);export{Pe as default};
