import{a as oe,b as ie,c as ne,d as de,D as re}from"./form.181df029.js";import{D as le,a as se}from"./load-indicator.7a18b1f7.js";import{_ as ce,D as ue}from"./toolbar.58f20e48.js";import{D as pe,a as fe}from"./tab-panel.6a570691.js";import{B as me}from"./BreadCrumb.9367f10a.js";import{C as j}from"./index.3bbb47f2.js";import{c as xe}from"./CellLinkTemplate.75b044c2.js";import{D as he,a as ye,b as ge,f as De,c as _e,d as we,i as be,e as Ce,g as Ie,h as ve,j as Ee,x as Pe,k as ke,l as Te,n as Se,t as Be,u as He,v as Ne}from"./data-grid.24b081de.js";import{R as g}from"./RepositoryFactory.1ead146f.js";import{e as M,F}from"./FileSaver.min.34d9f25a.js";import{e as V}from"./excel_exporter.6e076f26.js";import{r,o as A,a as Ge,c as L,f as e,w as o,b as W,e as z}from"./vendor.7710df40.js";import{_ as Re}from"./index.7b655b97.js";import"./toast.a475c820.js";const Y=g.get("customers"),u=g.get("catalogs"),je=g.get("subsidiaries"),y=g.get("contacts"),_=g.get("projects"),w=g.get("hourBanks"),Me=await u.Get("NAME","COUNTRIES"),Fe=await u.Get("NAME","STATES"),Ve=await u.Get("NAME","CITY"),Ae={components:{DxForm:oe,DxSimpleItem:ie,DxGroupItem:ne,DxLabel:de,DxItem:re,DxToast:le,DxToolbar:ce,DxItemToolbar:ue,DxTabPanel:pe,DxItemTabPanel:fe,DxLoadIndicator:se,DxDataGrid:he,DxColumn:ye,DxScrolling:ge,DxRequiredRule:De,DxPager:_e,DxPaging:we,DxFilterRow:be,DxEditing:Ce,DxPopup:Ie,DxLookup:ve,DxGridForm:Ee,DxCustomRule:Pe,DxHeaderFilter:ke,DxSearchPanel:Te,DxExport:Se,DxSelection:Be,DxGroupPanel:He,DxGrouping:Ne,BreadCrumb:me,cellLink:xe},data(){return{client:{},projects:new j({key:"id",load:()=>this.getProjects(),insert:t=>this.createProject(t),update:(t,a)=>(a.id=t,this.updateProject(a)),remove:t=>this.deleteProject(t)}),contacts:new j({key:"id",load:()=>this.getContacts(),insert:t=>this.createContact(t),update:(t,a)=>(a.id=t,this.updateContact(a)),remove:t=>this.deleteContact(t)}),hourbanks:new j({key:"id",load:()=>this.getHourBanks(),insert:t=>this.createHourBank(t),update:(t,a)=>(a.id=t,this.updateHourBank(a)),remove:t=>this.deleteHourBank(t)}),country:Me.data.data,state:Fe.data.data,city:Ve.data.data,industrytype:{},industrysubtype:{},currency:{},subsidiary:{},identificationstype:{},projecttype:{},projectcategory:{},projectstate:{},area:{},department:{},position:{},hourbanktype:{},contact:{},jefe:{},showWhenLoad:!1,loadIndicatorVisible:!0,isVisible:!1,message:"",type:"info",saveButtonOptions:{text:"Grabar",onClick:async()=>{this.updateClient(this.client)}},setHourSetValue(t,a,l){l.id!=null?l.hourSet==l.hourBalance&&(t.hourBalance=a):t.hourBalance=a,this.defaultSetCellValue(t,a)},setFullDates(t,a,l){if(l.startDate!=null&&a!=null){const f=Math.abs(a-new Date(l.startDate)),i=Math.ceil(f/(1e3*60*60));t.durationHour=i}if(l.endDate!=null&&a!=null){const f=Math.abs(new Date(l.endDate)-a),i=Math.ceil(f/(1e3*60*60));t.durationHour=i}this.defaultSetCellValue(t,a)}}},methods:{getClientById:async function(t){const{data:a}=await Y.Get("ID",t);this.client=a.data[0],this.showWhenLoad=!0,this.loadIndicatorVisible=!1},getContactsByCustomerId:async function(t){const{data:a}=await y.Get("CUSTOMERID",t);this.contact=a.data},getParentContactByCustomerId:async function(t){const{data:a}=await y.Get("PARENTCUSTOMERID",t);this.jefe=a.data},updateClient:async function(t){const{data:a}=await Y.Update(t).then(function(l){return l}).catch(function(l){return l.response});this.type=a.succeeded?"success":"error",this.message=a.succeeded?"El cliente fue actualizado exitosamente.":a.errors[0].message,this.isVisible=!0},getProjects:async function(){const{data:t}=await _.Get("CUSTOMERID",this.client.id);return t.totalCount=t.data.length,t},createProject:async function(t){t.customerId=this.client.id;const{data:a}=await _.Create(t);return a},updateProject:async function(t){const{data:a}=await _.Update(t);return a},deleteProject:async function(t){const{data:a}=await _.Delete(t);return a},getContacts:async function(){const{data:t}=await y.Get("CUSTOMERID",this.client.id);return t.totalCount=t.data.length,t},createContact:async function(t){t.customerId=this.client.id;const{data:a}=await y.Create(t);return a},updateContact:async function(t){const{data:a}=await y.Update(t);return a},deleteContact:async function(t){const{data:a}=await y.Delete(t);return a},getHourBanks:async function(){const{data:t}=await w.Get("CUSTOMERID",this.client.id);return t.totalCount=t.data.length,t},createHourBank:async function(t){t.customerId=this.client.id;const{data:a}=await w.Create(t);return a},updateHourBank:async function(t){const{data:a}=await w.Update(t);return a},deleteHourBank:async function(t){const{data:a}=await w.Delete(t);return a},getCurrency:function(t){return this.client.catalogCurrencyId},hourSetValidation:function(t){return t.data.hourSet==t.data.hourBalance},getIndustryTpes:async function(){const{data:t}=await u.Get("NAME","INDUSTRYTYPE");this.industrytype=t.data},getIndustrySubtypes:async function(){const{data:t}=await u.Get("NAME","INDUSTRYSUBTYPE");this.industrysubtype=t.data},getCurrencies:async function(){const{data:t}=await u.Get("NAME","CURRENCY");this.currency=t.data},getSubsidiaries:async function(){const{data:t}=await je.GetWithPagination({});this.subsidiary=t},getIdentificationTypes:async function(){const{data:t}=await u.Get("NAME","IDENTIFICATIONTYPE");this.identificationstype=t.data},getProjectTypes:async function(){const{data:t}=await u.Get("NAME","PROJECTTYPE");this.projecttype=t.data},getProjectCategories:async function(){const{data:t}=await u.Get("NAME","PROJECTCATEGORY");this.projectcategory=t.data},getProjectStates:async function(){const{data:t}=await u.Get("NAME","PROJECTSTATE");this.projectstate=t.data},getAreas:async function(){const{data:t}=await u.Get("NAME","AREA");this.area=t.data},getDepartments:async function(){const{data:t}=await u.Get("NAME","DEPARTMEN");this.department=t.data},getPositions:async function(){const{data:t}=await u.Get("NAME","POSITION");this.position=t.data},getHourBankTypes:async function(){const{data:t}=await u.Get("NAME","HOURBANKTYPE");this.hourbanktype=t.data},startDateValidation:function(t){return t.data.startDate!=null&&t.data.endDate!=null?t.data.startDate<t.data.endDate:!0},endDateValidation:function(t){return t.data.startDate!=null&&t.data.endDate!=null?t.data.endDate>t.data.startDate:!0},closeDateValidation:function(t){return t.data.endDate!=null&&t.data.closeDate!=null?t.data.endDate<t.data.closeDate:!0},getCostHourMenCustomer:function(t){return this.client.costHourMen},onInitNewHourBank:function(t){t.data.applyValidity=!0},onProjectExporting(t){const a=new M.exports.Workbook,l=a.addWorksheet("Proyectos");V({component:t.component,worksheet:l,autoFilterEnabled:!0}).then(()=>{a.xlsx.writeBuffer().then(f=>{F.exports.saveAs(new Blob([f],{type:"application/octet-stream"}),"Proyectos.xlsx")})}),t.cancel=!0},onContactExporting(t){const a=new M.exports.Workbook,l=a.addWorksheet("Contactos");V({component:t.component,worksheet:l,autoFilterEnabled:!0}).then(()=>{a.xlsx.writeBuffer().then(f=>{F.exports.saveAs(new Blob([f],{type:"application/octet-stream"}),"Contactos.xlsx")})}),t.cancel=!0},onHourBankExporting(t){const a=new M.exports.Workbook,l=a.addWorksheet("Bolsa de Horas");V({component:t.component,worksheet:l,autoFilterEnabled:!0}).then(()=>{a.xlsx.writeBuffer().then(f=>{F.exports.saveAs(new Blob([f],{type:"application/octet-stream"}),"BolsaHoras.xlsx")})}),t.cancel=!0}},async created(){var t=this.$route.params.id;await this.getClientById(t).then(this.getContactsByCustomerId(t)).then(this.getParentContactByCustomerId(t)),await this.getIndustryTpes(),await this.getIndustrySubtypes(),await this.getCurrencies(),await this.getSubsidiaries(),await this.getIdentificationTypes(),await this.getProjectTypes(),await this.getProjectCategories(),await this.getProjectStates(),await this.getAreas(),await this.getDepartments(),await this.getPositions(),await this.getHourBankTypes()}},Le={id:"main-content"},Oe={class:"container-fluid"},Ue={class:"block-header"},We={class:"row clearfix"};function ze(t,a,l,f,i,m){const q=r("bread-crumb"),J=r("DxItemToolbar"),K=r("DxToolbar"),s=r("DxLabel"),c=r("DxSimpleItem"),O=r("DxGroupItem"),Q=r("DxForm"),n=r("DxItem"),b=r("DxHeaderFilter"),C=r("DxGroupPanel"),I=r("DxGrouping"),v=r("DxExport"),E=r("DxSelection"),P=r("DxSearchPanel"),k=r("DxFilterRow"),T=r("DxScrolling"),S=r("DxPaging"),B=r("DxPager"),H=r("DxPopup"),N=r("DxGridForm"),G=r("DxEditing"),h=r("DxRequiredRule"),d=r("DxColumn"),p=r("DxLookup"),D=r("DxCustomRule"),X=r("cellLink"),R=r("DxDataGrid"),Z=r("DxEmailRule"),U=r("DxPatternRule"),$=r("DxCheckBox"),ee=r("DxTabPanel"),te=r("DxToast"),ae=r("DxLoadIndicator");return A(),Ge("div",Le,[L("div",Oe,[L("div",Ue,[e(q)]),L("div",We,[e(K,null,{default:o(()=>[e(J,{options:i.saveButtonOptions,location:"after","locate-in-menu":"auto",widget:"dxButton"},null,8,["options"])]),_:1}),i.showWhenLoad?(A(),W(Q,{key:0,id:"ClientForm","form-data":i.client,"col-count":2},{default:o(()=>[e(O,{caption:"Informaci\xF3n del Cliente","col-count":2},{default:o(()=>[e(c,{"data-field":"name"},{default:o(()=>[e(s,{text:"Nombre"})]),_:1}),e(c,{"editor-options":{valueExpr:"id",searchEnabled:!0,items:i.identificationstype,displayExpr:"value",disabled:!0},"data-field":"catalogTypeId","editor-type":"dxSelectBox"},{default:o(()=>[e(s,{text:"Tipo de Identificacion"})]),_:1},8,["editor-options"]),e(c,{"data-field":"numberId"},{default:o(()=>[e(s,{text:"Numero de Identificacion"})]),_:1}),e(c,{"data-field":"address"},{default:o(()=>[e(s,{text:"Direccion"})]),_:1}),e(c,{"data-field":"phone"},{default:o(()=>[e(s,{text:"Telefono"})]),_:1}),e(c,{"editor-options":{min:1,max:31},"data-field":"deadlinebilling","editor-type":"dxNumberBox"},{default:o(()=>[e(s,{text:"Fecha Limite de Facturacion"})]),_:1}),e(c,{"data-field":"costHourMen","editor-type":"dxNumberBox"},{default:o(()=>[e(s,{text:"Costo Hora"})]),_:1}),e(c,{"editor-options":{valueExpr:"id",searchEnabled:!0,items:i.subsidiary,displayExpr:"name",disabled:!0},"data-field":"subsidiaryId","editor-type":"dxSelectBox"},{default:o(()=>[e(s,{text:"Filial"})]),_:1},8,["editor-options"])]),_:1}),e(O,{caption:"Informaci\xF3n Adicional","col-count":2},{default:o(()=>[e(c,{"editor-options":{valueExpr:"id",searchEnabled:!0,items:i.country,displayExpr:"value",disabled:!0},"data-field":"catalogRegionCountryId","editor-type":"dxSelectBox"},{default:o(()=>[e(s,{text:"Pais"})]),_:1},8,["editor-options"]),e(c,{"editor-options":{valueExpr:"id",searchEnabled:!0,items:i.state,displayExpr:"value",disabled:!0},"data-field":"catalogRegionStateId","editor-type":"dxSelectBox"},{default:o(()=>[e(s,{text:"Estado"})]),_:1},8,["editor-options"]),e(c,{"editor-options":{valueExpr:"id",searchEnabled:!0,items:i.city,displayExpr:"value",disabled:!0},"data-field":"catalogRegionCityId","editor-type":"dxSelectBox"},{default:o(()=>[e(s,{text:"Ciudad"})]),_:1},8,["editor-options"]),e(c,{"editor-options":{valueExpr:"id",searchEnabled:!0,items:i.industrytype,displayExpr:"value",disabled:!0},"data-field":"catalogIndustryTypeId","editor-type":"dxSelectBox"},{default:o(()=>[e(s,{text:"Tipo de Industria"})]),_:1},8,["editor-options"]),e(c,{"editor-options":{valueExpr:"id",searchEnabled:!0,items:i.industrysubtype,displayExpr:"value",disabled:!0},"data-field":"catalogIndustrySubTypeId","editor-type":"dxSelectBox"},{default:o(()=>[e(s,{text:"Tipo de SubIndustria"})]),_:1},8,["editor-options"]),e(c,{"editor-options":{valueExpr:"id",searchEnabled:!0,items:i.currency,displayExpr:"value",disabled:!0},"data-field":"catalogCurrencyId","editor-type":"dxSelectBox"},{default:o(()=>[e(s,{text:"Moneda"})]),_:1},8,["editor-options"])]),_:1})]),_:1},8,["form-data"])):z("",!0),i.showWhenLoad?(A(),W(ee,{key:1,id:"tabPanelClient"},{"project-tab":o(()=>[e(R,{id:"dataGridProject","data-source":i.projects,"show-borders":!0,"repaint-changes-only":!0,"remote-operations":!0,onExporting:m.onProjectExporting,"key-expr":"id"},{"cell-link-template":o(({data:x})=>[e(X,{"cell-data":x,routePath:{name:"projectView",params:{id:x.data.id}}},null,8,["cell-data","routePath"])]),default:o(()=>[e(b,{visible:!0}),e(C,{visible:!0}),e(I,{"auto-expand-all":!0}),e(v,{enabled:!0,"allow-export-selected-data":!0}),e(E,{mode:"multiple"}),e(P,{visible:!0,width:240,placeholder:"Search..."}),e(k,{visible:!0}),e(T,{"row-rendering-mode":"virtual"}),e(S,{"page-size":10}),e(B,{visible:!0,"allowed-page-sizes":[10,20,50],"display-mode":t.displayMode,"show-page-size-selector":!0,"show-info":!1,"show-navigation-buttons":!0},null,8,["display-mode"]),e(G,{"refresh-mode":t.full,"allow-adding":!0,"allow-updating":!0,"allow-deleting":!0,mode:"popup"},{default:o(()=>[e(H,{"show-title":!0,width:700,height:525,title:"Informaci\xF3n del Proyecto"}),e(N,null,{default:o(()=>[e(n,{"col-count":2,"col-span":2,"item-type":"group"},{default:o(()=>[e(n,{"data-field":"name"}),e(n,{"data-field":"mainContactId"}),e(n,{"data-field":"description"}),e(n,{"data-field":"catalogProjectTypeId"}),e(n,{"data-field":"catalogProjectCategoryId"}),e(n,{"data-field":"catalogProjectStateId"}),e(n,{"data-field":"costHourMenCustomer"}),e(n,{"data-field":"costHourMenProject"})]),_:1}),e(n,{"col-count":2,"col-span":2,"item-type":"group",caption:"Tiempos del proyecto"},{default:o(()=>[e(n,{"data-field":"startDate"}),e(n,{"data-field":"endDate"}),e(n,{"data-field":"durationHour"}),e(n,{"data-field":"closeDate"})]),_:1})]),_:1})]),_:1},8,["refresh-mode"]),e(d,{width:150,"data-field":"name",caption:"Nombre","cell-template":"cell-link-template"},{default:o(()=>[e(h)]),_:1}),e(d,{width:150,"data-field":"subsidiaryId",caption:"Subsidiaria","set-cell-value":t.setSubsidiaryValue},{default:o(()=>[e(p,{"data-source":i.subsidiary,"value-expr":"id","display-expr":"name"},null,8,["data-source"])]),_:1},8,["set-cell-value"]),e(d,{width:0,"data-field":"customerId",caption:"Cliente"}),e(d,{width:150,"data-field":"mainContactId",caption:"Contacto Principal"},{default:o(()=>[e(p,{"data-source":i.contact,"value-expr":"id","display-expr":"names"},null,8,["data-source"])]),_:1}),e(d,{width:200,"data-field":"description",caption:"Descripci\xF3n"},{default:o(()=>[e(h)]),_:1}),e(d,{width:0,"data-field":"catalogProjectTypeId",caption:"Tipo de Proyecto"},{default:o(()=>[e(p,{"data-source":i.projecttype,"value-expr":"id","display-expr":"value"},null,8,["data-source"])]),_:1}),e(d,{width:0,"data-field":"catalogProjectCategoryId",caption:"Categoria de Proyecto"},{default:o(()=>[e(p,{"data-source":i.projectcategory,"value-expr":"id","display-expr":"value"},null,8,["data-source"])]),_:1}),e(d,{width:0,"data-field":"catalogProjectStateId",caption:"Estado de Proyecto"},{default:o(()=>[e(p,{"data-source":i.projectstate,"value-expr":"id","display-expr":"value"},null,8,["data-source"])]),_:1}),e(d,{width:150,"set-cell-value":i.setFullDates,"data-field":"startDate",caption:"Fecha de Inicio","data-type":"datetime"},{default:o(()=>[e(D,{"validation-callback":m.startDateValidation,message:"La fecha de inicio no puede ser mayor o igual a la fecha de fin."},null,8,["validation-callback"])]),_:1},8,["set-cell-value"]),e(d,{width:150,"set-cell-value":i.setFullDates,"data-field":"endDate",caption:"Fecha de Fin","data-type":"datetime"},{default:o(()=>[e(D,{"validation-callback":m.endDateValidation,message:"La fecha de fin no puede ser menor o igual a la fecha de inicio."},null,8,["validation-callback"])]),_:1},8,["set-cell-value"]),e(d,{width:100,"allow-editing":!1,"data-field":"durationHour",caption:"Duraci\xF3n","data-type":"number"}),e(d,{width:150,"data-field":"closeDate",caption:"Fecha de Cierre","data-type":"datetime"},{default:o(()=>[e(D,{"validation-callback":m.closeDateValidation,message:"La fecha de cierre no puede ser menor o igual a la fecha de fin."},null,8,["validation-callback"])]),_:1}),e(d,{width:0,"calculate-cell-value":m.getCostHourMenCustomer,"allow-editing":!1,"data-field":"costHourMenCustomer","data-type":"number",format:"currency",caption:"Costo Hora Cliente"},null,8,["calculate-cell-value"]),e(d,{width:0,"data-field":"costHourMenProject","data-type":"number",format:"currency",caption:"Costo Hora Proyecto"})]),_:1},8,["data-source","onExporting"])]),"contact-tab":o(()=>[e(R,{id:"dataGridContact","data-source":i.contacts,"show-borders":!0,"key-expr":"id",onExporting:m.onContactExporting},{default:o(()=>[e(b,{visible:!0}),e(C,{visible:!0}),e(I,{"auto-expand-all":!0}),e(v,{enabled:!0,"allow-export-selected-data":!0}),e(E,{mode:"multiple"}),e(P,{visible:!0,width:240,placeholder:"Search..."}),e(k,{visible:!0}),e(T,{"row-rendering-mode":"virtual"}),e(S,{"page-size":10}),e(B,{visible:!0,"allowed-page-sizes":[10,20,50],"display-mode":t.displayMode,"show-page-size-selector":!0,"show-info":!1,"show-navigation-buttons":!0},null,8,["display-mode"]),e(G,{"allow-updating":!0,"allow-adding":!0,"allow-deleting":!0,mode:"popup"},{default:o(()=>[e(H,{"show-title":!0,width:700,height:525,title:"Contact Info"}),e(N,null,{default:o(()=>[e(n,{"col-count":2,"col-span":2,"item-type":"group"},{default:o(()=>[e(n,{"data-field":"parentId"}),e(n,{"data-field":"names"}),e(n,{"data-field":"lastName"}),e(n,{"data-field":"area"}),e(n,{"data-field":"department"}),e(n,{"data-field":"position"}),e(n,{"data-field":"email"}),e(n,{"data-field":"phoneOffice"}),e(n,{"data-field":"phoneOfficeExt"}),e(n,{"data-field":"phoneMobile"})]),_:1})]),_:1})]),_:1}),e(d,{width:150,"data-field":"parentId",caption:"Jefe"},{default:o(()=>[e(p,{"data-source":i.jefe,"value-expr":"id","display-expr":"names"},null,8,["data-source"])]),_:1}),e(d,{width:0,"data-field":"customerId",caption:"Cliente"}),e(d,{width:150,"data-field":"names",caption:"Nombres"},{default:o(()=>[e(h)]),_:1}),e(d,{width:150,"data-field":"lastName",caption:"Apellidos"}),e(d,{width:0,"data-field":"area",caption:"Area"},{default:o(()=>[e(p,{"data-source":i.area,"value-expr":"id","display-expr":"value"},null,8,["data-source"])]),_:1}),e(d,{width:0,"data-field":"department",caption:"Departamento"},{default:o(()=>[e(p,{"data-source":i.department,"value-expr":"id","display-expr":"value"},null,8,["data-source"])]),_:1}),e(d,{width:150,"data-field":"position",caption:"Posicion"},{default:o(()=>[e(p,{"data-source":i.position,"value-expr":"id","display-expr":"value"},null,8,["data-source"])]),_:1}),e(d,{width:200,"data-field":"email",caption:"Correo Elect."},{default:o(()=>[e(h),e(Z)]),_:1}),e(d,{width:0,"data-field":"phoneOffice",caption:"Telefono"},{default:o(()=>[e(h),e(U,{pattern:t.pattern,message:'El n\xFAmero de telefono debe tener el siguiente formato:  "(555) 555-5555" !'},null,8,["pattern"])]),_:1}),e(d,{width:0,"data-field":"phoneOfficeExt",caption:"Ext.","data-type":"number"}),e(d,{width:150,"data-field":"phoneMobile",caption:"Movil"},{default:o(()=>[e(U,{pattern:t.pattern,message:'El n\xFAmero de telefono debe tener el siguiente formato:  "(555) 555-5555" !'},null,8,["pattern"])]),_:1})]),_:1},8,["data-source","onExporting"])]),"hourbank-tab":o(()=>[e(R,{id:"dataGridHourBank",onInitNewRow:m.onInitNewHourBank,"data-source":i.hourbanks,"show-borders":!0,onExporting:m.onHourBankExporting,"key-expr":"id"},{default:o(()=>[e(b,{visible:!0}),e(C,{visible:!0}),e(I,{"auto-expand-all":!0}),e(v,{enabled:!0,"allow-export-selected-data":!0}),e(E,{mode:"multiple"}),e(P,{visible:!0,width:240,placeholder:"Search..."}),e(k,{visible:!0}),e(T,{"row-rendering-mode":"virtual"}),e(S,{"page-size":10}),e(B,{visible:!0,"allowed-page-sizes":[10,20,50],"display-mode":t.full,"show-page-size-selector":!0,"show-info":!1,"show-navigation-buttons":!0},null,8,["display-mode"]),e(G,{"allow-updating":!0,"allow-adding":!0,"allow-deleting":!0,mode:"popup"},{default:o(()=>[e(H,{"show-title":!0,width:700,height:525,title:"Informacion de Bolsa de Hora"}),e(N,null,{default:o(()=>[e(n,{"col-count":2,"col-span":2,"item-type":"group"},{default:o(()=>[e(n,{"data-field":"name"}),e(n,{"data-field":"description"}),e(n,{"data-field":"purchaseOrderNumber"}),e(n,{"data-field":"invoiceNumber"}),e(n,{"data-field":"catalogHourBankTypeId"}),e(n,{"data-field":"applyValidity"}),e(n,{"data-field":"dateValidity"}),e(n,{"data-field":"terms"}),e(n,{"data-field":"hourCost"}),e(n,{"data-field":"hourBalance"}),e(n,{"data-field":"hourSet"})]),_:1})]),_:1})]),_:1}),e(d,{width:0,"data-field":"customerId",caption:"Cliente"}),e(d,{width:150,"data-field":"name",caption:"Nombre"},{default:o(()=>[e(h)]),_:1}),e(d,{width:150,"data-field":"description",caption:"Descripcion"}),e(d,{width:0,"data-field":"purchaseOrderNumber",caption:"Numero de Orden"}),e(d,{width:150,"data-field":"invoiceNumber",caption:"Numero de Factura"}),e(d,{width:0,"data-field":"catalogHourBankTypeId",caption:"Tipo de Banco de Hora"},{default:o(()=>[e(p,{"data-source":i.hourbanktype,"value-expr":"id","display-expr":"value"},null,8,["data-source"])]),_:1}),e(d,{width:0,"data-field":"applyValidity","data-type":"boolean",caption:"Vigente"},{default:o(()=>[e($,{value:t.applyValidity},null,8,["value"])]),_:1}),e(d,{width:150,"data-field":"dateValidity",caption:"Fecha de Caducidad","data-type":"date"}),e(d,{width:0,"data-field":"terms",caption:"Terminos"}),e(d,{width:100,"calculate-cell-value":m.getCurrency,"allow-editing":!1,caption:"Moneda"},{default:o(()=>[e(p,{"data-source":i.currency,"value-expr":"id","display-expr":"value"},null,8,["data-source"])]),_:1},8,["calculate-cell-value"]),e(d,{width:100,"data-field":"hourCost",caption:"Costo de Hora","data-type":"number"}),e(d,{width:100,"allow-editing":!1,"data-field":"hourBalance",caption:"Saldo de Horas","data-type":"number"}),e(d,{width:100,"set-cell-value":i.setHourSetValue,"data-field":"hourSet",caption:"Cantidad Inicial de Horas","data-type":"number"},{default:o(()=>[e(D,{"validation-callback":m.hourSetValidation,message:"No se puede modificar la cantidad de horas pror transacciones existentes."},null,8,["validation-callback"])]),_:1},8,["set-cell-value"])]),_:1},8,["onInitNewRow","data-source","onExporting"])]),default:o(()=>[e(n,{title:"Proyectos",template:"project-tab"}),e(n,{title:"Contactos",template:"contact-tab"}),e(n,{title:"Bolsa de Horas",template:"hourbank-tab"})]),_:1})):z("",!0),e(te,{visible:i.isVisible,"onUpdate:visible":a[0]||(a[0]=x=>i.isVisible=x),message:i.message,"onUpdate:message":a[1]||(a[1]=x=>i.message=x),type:i.type,"onUpdate:type":a[2]||(a[2]=x=>i.type=x)},null,8,["visible","message","type"]),e(ae,{id:"large-indicator",height:60,width:60,visible:i.loadIndicatorVisible},null,8,["visible"])])])])}var dt=Re(Ae,[["render",ze]]);export{dt as default};
