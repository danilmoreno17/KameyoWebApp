import{W as p,Z as s,a6 as f,U as a,$ as r,C as u,a7 as m,J as _}from"./vendor.7710df40.js";import{bo as v,p as T,O as S,R as g,N as y}from"./index.3bbb47f2.js";var l=p(),C=v.add,c="dx-toast",i=c+"-",b=i+"wrapper",O=i+"content",w=i+"message",A=i+"icon",E="dxToast",k=["info","warning","error","success"],n=[],I=8e3,o=null,L={top:{my:"top",at:"top",of:null,offset:"0 0"},bottom:{my:"bottom",at:"bottom",of:null,offset:"0 -20"},center:{my:"center",at:"center",of:null,offset:"0 0"},right:{my:"center right",at:"center right",of:null,offset:"0 0"},left:{my:"center left",at:"center left",of:null,offset:"0 0"}},x={h:0,v:0};C(function(){s.subscribeGlobal(f.getDocument(),T.down,function(t){for(var e=n.length-1;e>=0;e--)if(!n[e]._proxiedDocumentDownHandler(t))return})});var d=S.inherit({_getDefaultOptions:function(){return a(this.callBase(),{message:"",type:"info",displayTime:2e3,position:"bottom center",animation:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,to:0}},shading:!1,height:"auto",hideTopOverlayHandler:null,closeOnSwipe:!0,closeOnClick:!1,resizeEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"android"},options:{closeOnOutsideClick:!0,width:"auto",position:{at:"bottom left",my:"bottom left",offset:"20 -20"},animation:{show:{type:"slide",duration:200,from:{position:{my:"top",at:"bottom",of:l}}},hide:{type:"slide",duration:200,to:{position:{my:"top",at:"bottom",of:l}}}}}},{device:function(t){var e=t.deviceType==="phone",h=t.platform==="android";return e&&h},options:{width:"100vw",position:{at:"bottom center",my:"bottom center",offset:"0 0"}}},{device:function(t){return t.deviceType==="phone"},options:{width:"100vw"}},{device:function(){return g()},options:{minWidth:344,maxWidth:568,displayTime:4e3}}])},_init:function(){this.callBase(),this._posStringToObject()},_renderContentImpl:function(){this.option("message")&&(this._message=r("<div>").addClass(w).text(this.option("message")).appendTo(this.$content())),this.setAria("role","alert",this._message),u(this.option("type").toLowerCase(),k)>-1&&this.$content().prepend(r("<div>").addClass(A)),this.callBase()},_render:function(){this.callBase(),this.$element().addClass(c),this.$wrapper().addClass(b),this.$content().addClass(i+String(this.option("type")).toLowerCase()),this.$content().addClass(O),this._toggleCloseEvents("Swipe"),this._toggleCloseEvents("Click")},_renderScrollTerminator:m,_toggleCloseEvents:function(t){var e="dx"+t.toLowerCase();s.off(this.$content(),e),this.option("closeOn"+t)&&s.on(this.$content(),e,this.hide.bind(this))},_posStringToObject:function(){if(!!_(this.option("position"))){var t=this.option("position").split(" ")[0],e=this.option("position").split(" ")[1];switch(this.option("position",a({boundaryOffset:x},L[t])),e){case"center":case"left":case"right":this.option("position").at+=" "+e,this.option("position").my+=" "+e}}},_show:function(){return o&&o!==this&&(clearTimeout(o._hideTimeout),o.hide()),o=this,this.callBase.apply(this,arguments).done(function(){clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(this.hide.bind(this),this.option("displayTime"))}.bind(this))},_hide:function(){return o=null,this.callBase.apply(this,arguments)},_overlayStack:function(){return n},_zIndexInitValue:function(){return this.callBase()+I},_dispose:function(){clearTimeout(this._hideTimeout),o=null,this.callBase()},_optionChanged:function(t){switch(t.name){case"type":this.$content().removeClass(i+t.previousValue),this.$content().addClass(i+String(t.value).toLowerCase());break;case"message":this._message&&this._message.text(t.value);break;case"closeOnSwipe":this._toggleCloseEvents("Swipe");break;case"closeOnClick":this._toggleCloseEvents("Click");break;case"displayTime":break;default:this.callBase(t)}}});y(E,d);var D=Object.freeze(Object.defineProperty({__proto__:null,default:d},Symbol.toStringTag,{value:"Module"}));export{d as T,D as t};
